(this.webpackJsonpvtn20bui=this.webpackJsonpvtn20bui||[]).push([[0],{445:function(e,t,a){e.exports=a(977)},450:function(e,t,a){},772:function(e,t,a){},977:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"loadLoginUser",(function(){return $})),a.d(n,"loadAccountUser",(function(){return ee})),a.d(n,"createUser",(function(){return te})),a.d(n,"deleteUser",(function(){return ae})),a.d(n,"loadAccountApp",(function(){return ne})),a.d(n,"createApp",(function(){return re})),a.d(n,"deleteApp",(function(){return ie}));var r={};a.r(r),a.d(r,"loadVtnConfiguration",(function(){return ze})),a.d(r,"loadMarketContext",(function(){return je})),a.d(r,"createMarketContext",(function(){return Ke})),a.d(r,"updateMarketContext",(function(){return He})),a.d(r,"deleteMarketContext",(function(){return Ye})),a.d(r,"loadGroup",(function(){return Xe})),a.d(r,"createGroup",(function(){return Qe})),a.d(r,"updateGroup",(function(){return Je})),a.d(r,"deleteGroup",(function(){return Ze}));var i={};a.r(i),a.d(i,"loadVen",(function(){return la})),a.d(i,"searchVen",(function(){return oa})),a.d(i,"loadVenDetail",(function(){return ca})),a.d(i,"createVen",(function(){return ma})),a.d(i,"deleteVen",(function(){return pa})),a.d(i,"loadVenGroup",(function(){return ua})),a.d(i,"loadVenMarketContext",(function(){return da})),a.d(i,"addVenMarketContext",(function(){return ha})),a.d(i,"addVenGroup",(function(){return Ea})),a.d(i,"removeVenMarketContext",(function(){return ga})),a.d(i,"removeVenGroup",(function(){return va})),a.d(i,"registerPartyRequestReregistration",(function(){return fa})),a.d(i,"registerPartyCancelPartyRegistration",(function(){return Ca})),a.d(i,"cleanRegistration",(function(){return Ta})),a.d(i,"loadVenAvailableReport",(function(){return Sa})),a.d(i,"loadVenAvailableReportDescription",(function(){return Ra})),a.d(i,"loadVenRequestedReport",(function(){return ba})),a.d(i,"loadVenRequestedReportSpecifier",(function(){return ya})),a.d(i,"requestRegisterReport",(function(){return Aa})),a.d(i,"sendRegisterReport",(function(){return _a})),a.d(i,"createRequestedReport",(function(){return Na})),a.d(i,"createRequestedReportSubscription",(function(){return xa})),a.d(i,"cancelRequestReportSubscription",(function(){return ka})),a.d(i,"loadVenOpt",(function(){return Oa})),a.d(i,"pageVenAvailableReport",(function(){return Da})),a.d(i,"pageVenRequestedReport",(function(){return Pa}));var s={};a.r(s),a.d(s,"loadEvent",(function(){return Va})),a.d(s,"searchEvent",(function(){return Ia})),a.d(s,"createEvent",(function(){return wa})),a.d(s,"updateEvent",(function(){return Ma})),a.d(s,"deleteEvent",(function(){return La})),a.d(s,"loadEventDetail",(function(){return Ua})),a.d(s,"publishEvent",(function(){return Ga})),a.d(s,"activeEvent",(function(){return Ba})),a.d(s,"cancelEvent",(function(){return qa})),a.d(s,"loadEventVenResponse",(function(){return Fa}));var l=a(0),o=a.n(l),c=a(22),m=a.n(c),p=(a(450),a(231)),u=a(444),d=a(435),h=a(980),E=a(981),g=a(32),v=a(15);const f="@@router/LOCATION_CHANGE";a(412);var C=a(295),T=a(61),S=a(142),R=a(222),b=a.n(R),y=null,A=e=>{console.log(e)};function _(e){return t=>a=>n=>{if(console.log(n.type),n.type.indexOf("_ERROR")>-1&&console.log(n.payload),!n.swagger)return a(n);var r,i;(r=e.url,i=t.dispatch,new Promise((e,t)=>{if(null==y){var a={url:r,responseInterceptor:A,requestInterceptor:e=>{if(null!=j.username&&null!=j.password){var t=btoa(j.username+":"+j.password);e.headers.Authorization="Basic "+t}}};return b()(a).then(t=>{j.isConnected=!0,j.isConnectionPending=!1,y=t,e(t)}).catch(e=>{j.isConnected=!1,j.isConnectionPending=!1,i({type:"LOGIN_USER_ERROR",payload:e}),W.push("/login"),y=null})}e(y)})).then(e=>{n.swagger(e)})}}var N=a(13),x=a.n(N),k={parameters:{},marketContext:[],group:[]},O={marketContext:[],group:[],ven:[],event:[]},D={ven:{},marketContext:[],group:[],venMarketContext:[],venGroup:[],availableReport:[],totalReport:0,totalPageReport:0,requestedReport:[],totalRequest:0,totalPageRequest:0,venOpt:[]},P={availableReportDescription:[],availableReport:{}},V={availableReportDescription:[],availableReport:{}},I={requestedReport:[],requestedReportSpecifier:[],availableReport:{}},w={parameters:{}},M={user:[],app:[]},L={parameters:{}},U={marketContext:[],event:[],ven:[]},G={event:{},marketContext:[],group:[],venResponse:[],ven:[]},B={marketContext:[],group:[],ven:[]},q={isConnectionPending:!0,isConnected:!1};var F=Object(v.c)({vtnConfiguration:function(e=k,t){let a;switch(t.type){case"LOAD_VTN_CONFIGURATION":return e;case"LOAD_VTN_CONFIGURATION_SUCCESS":return a=x()({},e,{parameters:t.payload}),a;case"LOAD_VTN_CONFIGURATION_ERROR":case"LOAD_MARKET_CONTEXT":return e;case"LOAD_MARKET_CONTEXT_SUCCESS":return a=x()({},e,{marketContext:t.payload}),a;case"LOAD_MARKET_CONTEXT_ERROR":case"CREATE_MARKET_CONTEXT":case"CREATE_MARKET_CONTEXT_SUCCESS":case"CREATE_MARKET_CONTEXT_ERROR":case"DELETE_MARKET_CONTEXT":case"DELETE_MARKET_CONTEXT_SUCCESS":case"DELETE_MARKET_CONTEXT_ERROR":case"LOAD_GROUP":return e;case"LOAD_GROUP_SUCCESS":return a=x()({},e,{group:t.payload}),a;case"LOAD_GROUP_ERROR":case"CREATE_GROUP":case"CREATE_GROUP_SUCCESS":case"CREATE_GROUP_ERROR":case"DELETE_GROUP":case"DELETE_GROUP_SUCCESS":case"DELETE_GROUP_ERROR":return e;case f:return t.payload.location.pathname.includes("/vtn_configuration")?e:U;default:return e}},ven:function(e=O,t){let a;switch(t.type){case"LOAD_VEN":return e;case"LOAD_VEN_SUCCESS":return a=x()({},e,{ven:t.payload}),a;case"LOAD_VEN_ERROR":case"SEARCH_VEN":return e;case"SEARCH_VEN_SUCCESS":return a=x()({},e,{ven:t.payload}),a;case"SEARCH_VEN_ERROR":return e;case"LOAD_VEN_MARKET_CONTEXT_SUCCESS":return a=x()({},e,{marketContext:t.payload}),a;case"LOAD_VEN_MARKET_CONTEXT_ERROR":case"LOAD_MARKET_CONTEXT":return e;case"LOAD_MARKET_CONTEXT_SUCCESS":return a=x()({},e,{marketContext:t.payload}),a;case"LOAD_MARKET_CONTEXT_ERROR":case"LOAD_GROUP":return e;case"LOAD_GROUP_SUCCESS":return a=x()({},e,{group:t.payload}),a;case"LOAD_GROUP_ERROR":case"SEARCH_EVENT":return e;case"SEARCH_EVENT_SUCCESS":return a=x()({},e,{event:t.payload}),a;case"SEARCH_EVENT_ERROR":return e;case f:return O;default:return e}},ven_detail:function(e=D,t){let a;switch(t.type){case"LOAD_VEN":return e;case"LOAD_VEN_DETAIL_SUCCESS":return a=x()({},e,{ven:t.payload}),a;case"LOAD_VEN_DETAIL_ERROR":case"LOAD_VEN_MARKET_CONTEXT":return e;case"LOAD_VEN_MARKET_CONTEXT_SUCCESS":return a=x()({},e,{venMarketContext:t.payload}),a;case"LOAD_VEN_MARKET_CONTEXT_ERROR":case"LOAD_VEN_GROUP":return e;case"LOAD_VEN_GROUP_SUCCESS":return a=x()({},e,{venGroup:t.payload}),a;case"LOAD_VEN_GROUP_ERROR":case"ADD_VEN_MARKET_CONTEXT":case"ADD_VEN_MARKET_CONTEXT_SUCCESS":case"ADD_VEN_MARKET_CONTEXT_ERROR":case"REMOVE_VEN_MARKET_CONTEXT":case"REMOVE_VEN_MARKET_CONTEXT_SUCCESS":case"REMOVE_VEN_MARKET_CONTEXT_ERROR":case"ADD_VEN_GROUP":case"ADD_VEN_GROUP_SUCCESS":case"ADD_VEN_GROUP_ERROR":case"REMOVE_VEN_GROUP":case"REMOVE_VEN_GROUP_SUCCESS":case"LOAD_VEN_OPT":return e;case"LOAD_VEN_OPT_SUCCESS":return a=x()({},e,{venOpt:t.payload}),a;case"LOAD_VEN_OPT_ERROR":case"REQUEST_REREGISTRATION_VEN":case"REQUEST_REREGISTRATION_VEN_SUCCESS":case"REQUEST_REREGISTRATION_VEN_ERROR":case"REQUEST_CANCEL_REGISTRATION_VEN":case"REQUEST_CANCEL_REGISTRATION_VEN_SUCCESS":case"REQUEST_CANCEL_REGISTRATION_VEN_ERROR":case"REQUEST_CLEAN_REGISTRATION_VEN":case"REQUEST_CLEAN_REGISTRATION_VEN_SUCCESS":case"REQUEST_CLEAN_REGISTRATION_VEN_ERROR":case"LOAD_MARKET_CONTEXT":return e;case"LOAD_MARKET_CONTEXT_SUCCESS":return a=x()({},e,{marketContext:t.payload}),a;case"LOAD_MARKET_CONTEXT_ERROR":case"LOAD_GROUP":return e;case"LOAD_GROUP_SUCCESS":return a=x()({},e,{group:t.payload}),a;case"LOAD_GROUP_ERROR":case"LOAD_VEN_AVAILABLE_REPORT":return e;case"LOAD_VEN_AVAILABLE_REPORT_SUCCESS":return console.log(t),a=x()({},e,{availableReport:t.payload,totalReport:t.total,totalPageReport:t.totalPage}),a;case"LOAD_VEN_AVAILABLE_REPORT_VEN_ERROR":case"LOAD_VEN_REQUESTED_REPORT":return e;case"LOAD_VEN_REQUESTED_REPORT_SUCCESS":return a=x()({},e,{requestedReport:t.payload,totalRequest:t.total,totalPageRequest:t.totalPage}),a;case"LOAD_VEN_REQUESTED_REPORT_ERROR":return e;case f:return t.payload.location.pathname.includes("/ven/detail")?e:U;default:return e}},ven_detail_report:function(e=V,t){let a;switch(t.type){case"LOAD_VEN_AVAILABLE_REPORT_DESCRIPTION":return e;case"LOAD_VEN_AVAILABLE_REPORT_DESCRIPTION_SUCCESS":return a=x()({},e,{availableReportDescription:t.payload}),a;case"LOAD_VEN_AVAILABLE_REPORT_DESCRIPTION_ERROR":case"LOAD_VEN_AVAILABLE_REPORT":return e;case"LOAD_VEN_AVAILABLE_REPORT_SUCCESS":return a=x()({},e,{availableReport:t.payload[0]}),a;case"LOAD_VEN_AVAILABLE_REPORT_VEN_ERROR":return e;case f:return V;default:return e}},ven_detail_create_report:function(e=P,t){let a;switch(t.type){case"LOAD_VEN_AVAILABLE_REPORT_DESCRIPTION":return e;case"LOAD_VEN_AVAILABLE_REPORT_DESCRIPTION_SUCCESS":return a=x()({},e,{availableReportDescription:t.payload}),a;case"LOAD_VEN_AVAILABLE_REPORT_DESCRIPTION_ERROR":case"LOAD_VEN_AVAILABLE_REPORT":return e;case"LOAD_VEN_AVAILABLE_REPORT_SUCCESS":return a=x()({},e,{availableReport:t.payload[0]}),a;case"LOAD_VEN_AVAILABLE_REPORT_VEN_ERROR":case"CREATE_REQUESTED_REPORT":case"CREATE_REQUESTED_REPORT_SUCCESS":case"CREATE_REQUESTED_REPORT_ERROR":return e;case f:return P;default:return e}},ven_detail_report_request:function(e=I,t){let a;switch(t.type){case"LOAD_VEN_REQUESTED_REPORT":return e;case"LOAD_VEN_REQUESTED_REPORT_SUCCESS":return a=x()({},e,{requestedReport:t.payload}),a;case"LOAD_VEN_REQUESTED_REPORT_ERROR":case"LOAD_VEN_REQUESTED_REPORT_SPECIFIER":return e;case"LOAD_VEN_REQUESTED_REPORT_SPECIFIER_SUCCESS":return a=x()({},e,{requestedReportSpecifier:t.payload}),a;case"LOAD_VEN_REQUESTED_REPORT_SPECIFIER_ERROR":case"LOAD_VEN_AVAILABLE_REPORT":return e;case"LOAD_VEN_AVAILABLE_REPORT_SUCCESS":return a=x()({},e,{availableReport:t.payload[0]}),a;case"LOAD_VEN_AVAILABLE_REPORT_VEN_ERROR":return e;case f:return I;default:return e}},ven_create:function(e=w,t){let a;switch(t.type){case"LOAD_VTN_CONFIGURATION":return e;case"LOAD_VTN_CONFIGURATION_SUCCESS":return a=x()({},e,{parameters:t.payload}),a;case"LOAD_VTN_CONFIGURATION_ERROR":case"CREATE_VEN":case"CREATE_VEN_SUCCESS":case"CREATE_VEN_ERROR":case"DELETE_VEN":case"DELETE_VEN_SUCCESS":case"DELETE_VEN_ERROR":return e;case f:return w;default:return e}},account:function(e=M,t){let a;switch(t.type){case"LOAD_ACCOUNT_USER":return e;case"LOAD_ACCOUNT_USER_SUCCESS":return a=x()({},e,{user:t.payload}),a;case"LOAD_ACCOUNT_USER_ERROR":case"LOAD_ACCOUNT_APP":return e;case"LOAD_ACCOUNT_APP_SUCCESS":return a=x()({},e,{app:t.payload}),a;case"LOAD_ACCOUNT_APP_ERROR":return e;case f:return t.payload.location.pathname.includes("/account")?e:M;default:return e}},account_create:function(e=L,t){let a;switch(t.type){case"LOAD_VTN_CONFIGURATION":return e;case"LOAD_VTN_CONFIGURATION_SUCCESS":return a=x()({},e,{parameters:t.payload}),a;case"LOAD_VTN_CONFIGURATION_ERROR":case"CREATE_APP":case"CREATE_APP_SUCCESS":case"CREATE_APP_ERROR":case"CREATE_USER":case"CREATE_USER_SUCCESS":case"CREATE_USER_ERROR":default:return e}},event:function(e=U,t){let a;switch(t.type){case"LOAD_EVENT":return e;case"LOAD_EVENT_SUCCESS":return a=x()({},e,{event:t.payload}),a;case"LOAD_EVENT_ERROR":case"SEARCH_EVENT":return e;case"SEARCH_EVENT_SUCCESS":return a=x()({},e,{event:t.payload}),a;case"SEARCH_EVENT_ERROR":case"DELETE_EVENT":case"DELETE_EVENT_SUCCESS":case"DELETE_EVENT_ERROR":case"LOAD_MARKET_CONTEXT":return e;case"LOAD_MARKET_CONTEXT_SUCCESS":return a=x()({},e,{marketContext:t.payload}),a;case"LOAD_MARKET_CONTEXT_ERROR":case"SEARCH_VEN":return e;case"SEARCH_VEN_SUCCESS":return a=x()({},e,{ven:t.payload}),a;case"SEARCH_VEN_ERROR":return e;case f:return t.payload.location.pathname.includes("/event")?e:U;default:return e}},event_detail:function(e=G,t){let a;switch(t.type){case"LOAD_EVENT_DETAIL":return e;case"LOAD_EVENT_DETAIL_SUCCESS":return a=x()({},e,{event:t.payload}),a;case"LOAD_EVENT_DETAIL_ERROR":case"UPDATE_EVENT":return e;case"UPDATE_EVENT_SUCCESS":return a=x()({},e,{event:t.payload}),a;case"UPDATE_EVENT_ERROR":case"PUBLISH_EVENT":case"PUBLISH_EVENT_SUCCESS":case"PUBLISH_EVENT_ERROR":case"ACTIVE_EVENT":case"ACTIVE_EVENT_SUCCESS":case"ACTIVE_EVENT_ERROR":case"CANCEL_EVENT":case"CANCEL_EVENT_SUCCESS":case"CANCEL_EVENT_ERROR":case"LOAD_EVENT_VEN_RESPONSE":return e;case"LOAD_EVENT_VEN_RESPONSE_SUCCESS":return a=x()({},e,{venResponse:t.payload}),a;case"LOAD_EVENT_VEN_RESPONSE_ERROR":case"LOAD_MARKET_CONTEXT":return e;case"LOAD_MARKET_CONTEXT_SUCCESS":return a=x()({},e,{marketContext:t.payload}),a;case"LOAD_MARKET_CONTEXT_ERROR":case"LOAD_GROUP":return e;case"LOAD_GROUP_SUCCESS":return a=x()({},e,{group:t.payload}),a;case"LOAD_GROUP_ERROR":case"SEARCH_VEN":return e;case"SEARCH_VEN_SUCCESS":return a=x()({},e,{ven:t.payload}),a;case"SEARCH_VEN_ERROR":return e;case f:return t.payload.location.pathname.includes("/event/detail")?e:U;default:return e}},event_create:function(e=B,t){let a;switch(t.type){case"LOAD_MARKET_CONTEXT":return e;case"LOAD_MARKET_CONTEXT_SUCCESS":return a=x()({},e,{marketContext:t.payload}),a;case"LOAD_MARKET_CONTEXT_ERROR":case"LOAD_GROUP":return e;case"LOAD_GROUP_SUCCESS":return a=x()({},e,{group:t.payload}),a;case"LOAD_GROUP_ERROR":case"SEARCH_VEN":return e;case"SEARCH_VEN_SUCCESS":return a=x()({},e,{ven:t.payload}),a;case"SEARCH_VEN_ERROR":return e;case f:return B;default:return e}},user:function(e=q,t){let a;switch(t.type){case"LOGIN_USER":return e;case"LOGIN_USER_SUCCESS":return j.isConnected=!0,j.isConnectionPending=!1,j.user=t.payload,a=x()({},e,{isConnected:!0,isConnectionPending:!1,user:t.payload,connectionError:null}),a;case"LOGIN_USER_ERROR":return a=x()({},e,{connectionError:t.payload,isConnected:!1,isConnectionPending:!1}),a;default:return e}}});console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/testvtn",REACT_APP_BASENAME:"/testvtn/"}));const W=Object(T.a)({basename:"/testvtn/"}),z=Object(S.connectRouter)(W);var j={vtnSwaggerUrl:Object({NODE_ENV:"production",PUBLIC_URL:"/testvtn",REACT_APP_BASENAME:"/testvtn/"}).REACT_APP_SWAGGER_URL||"https://vtn.oadr.com:8181/testvtn/v2/api-docs",isConnectionPending:!0,isConnected:!1};function K(){b.a.http.withCredentials=!0;return _({url:j.vtnSwaggerUrl})}var H=function(e){const t=Object(S.routerMiddleware)(W),a=[C.a,t,K()];return Object(v.e)(z(F),e,Object(v.d)(Object(v.a)(...a)))};function Y(e,t,a,n){return(r,i)=>{r({type:e,swagger:function(s){t(s).then(t=>{var s={type:e+"_SUCCESS"};if(a){var l=a(t);l&&(s.payload=l)}console.log(t.headers),t.headers&&t.headers["x-total-count"]&&t.headers["x-total-page"]&&(s.total=parseInt(t.headers["x-total-count"]),s.totalPage=parseInt(t.headers["x-total-page"])),r(s),n&&n(r,i)}).catch(t=>{r({type:e+"_ERROR",payload:t})})}})}}var X={responseContentType:"application/json"},Q={responseContentType:"multipart/form-data"},J=function(){var e=document.createElement("a");return document.body.appendChild(e),e.style="display: none",function(t,a){var n=window.URL.createObjectURL(t);e.href=n,e.download=a,e.click(),window.URL.revokeObjectURL(n)}}(),Z=e=>JSON.parse(e.data);const $=e=>Y("LOGIN_USER",e=>e.apis["account-controller"].registeredUserUsingGET(X),Z),ee=()=>Y("LOAD_ACCOUNT_USER",e=>e.apis["account-controller"].listUserUsingGET(X),Z),te=e=>Y("CREATE_USER",t=>{var a={dto:e};return t.apis["account-controller"].createUserUsingPOST(a,Q)},t=>{J(t.data,e.commonName+"-credentials.tar"),W.push("/account/user")}),ae=e=>Y("DELETE_USER",t=>{var a={username:e};return t.apis["account-controller"].deleteUserUsingDELETE(a,X)},()=>{W.push("/account/user")},(e,t)=>{ee()(e,t)}),ne=()=>Y("LOAD_ACCOUNT_APP",e=>e.apis["account-controller"].listAppUsingGET(X),Z),re=e=>Y("CREATE_APP",t=>{var a={dto:e};return t.apis["account-controller"].createAppUsingPOST(a,Q)},t=>{J(t.data,e.commonName+"-credentials.tar"),W.push("/account/app")}),ie=e=>Y("DELETE_APP",t=>{var a={username:e};return t.apis["account-controller"].deleteAppUsingDELETE(a,X)},()=>{W.push("/account/app")},(e,t)=>{ne()(e,t)});var se=a(24),le=a(34),oe=a.n(le),ce=a(21),me=a.n(ce),pe=a(9),ue=a.n(pe),de=a(7),he=a.n(de),Ee=a(50),ge=a.n(Ee),ve=a(75),fe=a.n(ve),Ce=a(8),Te=a.n(Ce),Se=a(223),Re=a.n(Se),be=a(29),ye=a.n(be),Ae=a(63),_e=a.n(Ae),Ne=a(67),xe=a.n(Ne),ke=a(115),Oe=a.n(ke),De=a(173),Pe=a.n(De),Ve=a(414),Ie=a.n(Ve),we=a(19),Me=a.n(we);function Le(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class Ue extends o.a.Component{constructor(...e){super(...e),this.state={value:0,username:"",password:""},this.handleChange=(e,t)=>{this.setState({value:t})},this.handleUsernameChange=e=>{this.setState({username:e.target.value})},this.handlePasswordChange=e=>{this.setState({password:e.target.value})},this.handleSubmit=()=>{j.username=this.state.username,j.password=this.state.password,this.setState({username:"",password:""}),this.props.accountActions.loadLoginUser()}}componentDidMount(){this.props.accountActions.loadLoginUser()}componentWillReceiveProps(e){e.user.isConnected&&(this.props.history.location&&this.props.history.location.state&&this.props.history.location.state.from?W.push(this.props.history.location.state.from.pathname):W.push("/"))}render(){const e=this.props.classes,t=this.state.value;var a=null!=this.props.user.connectionError,n=a&&(""+this.props.user.connectionError==="Error: Forbidden"||""+this.props.user.connectionError==="Error: Unauthorized");return o.a.createElement("div",{className:e.root},a?null:o.a.createElement("div",null,o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"Login"})),o.a.createElement(he.a,{variant:"middle"}),0===t&&o.a.createElement(Le,null)),a&&n?o.a.createElement("div",null,o.a.createElement("main",{className:e.main},o.a.createElement(Re.a,null),o.a.createElement(Me.a,{className:e.paper},o.a.createElement(fe.a,{className:e.avatar},o.a.createElement(Ie.a,null)),o.a.createElement(ue.a,{component:"h1",variant:"h5"},"Sign in"),o.a.createElement("form",{className:e.form},o.a.createElement(ye.a,{margin:"normal",required:!0,fullWidth:!0},o.a.createElement(Pe.a,{htmlFor:"username"},"Username"),o.a.createElement(Oe.a,{autoComplete:"username",autoFocus:!0,onChange:this.handleUsernameChange})),o.a.createElement(ye.a,{margin:"normal",required:!0,fullWidth:!0},o.a.createElement(Pe.a,{htmlFor:"password"},"Password"),o.a.createElement(Oe.a,{id:"password",autoComplete:"current-password",onChange:this.handlePasswordChange})),o.a.createElement(_e.a,{control:o.a.createElement(xe.a,{value:"remember",color:"primary"}),label:"Remember me"}),o.a.createElement(Te.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:this.handleSubmit},"Sign in"))))):null,a&&!n?o.a.createElement("div",null,"Can't connect to VTN backend:"+this.props.user.connectionError):null)}}var Ge=Object(g.connect)((function(e){return{user:e.user}}),(function(e){return{accountActions:Object(v.b)(n,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},stepper:{backgroundColor:"#fafafa"},warning:{backgroundColor:ge.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex"},iconButton:{marginTop:10},main:{width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit,[e.breakpoints.up(400+3*e.spacing.unit*2)]:{width:400,marginLeft:"auto",marginRight:"auto"}},paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}))(Ue)),Be=a(296);a(772);var qe=()=>o.a.createElement("div",null,o.a.createElement("h2",{className:"alt-header"},"About"),o.a.createElement("p",null,"This example app is part of the ",o.a.createElement("a",{href:"https://github.com/coryhouse/react-slingshot"},"React-Slingshot starter kit"),"."),o.a.createElement("p",null,o.a.createElement(Be.a,{to:"/badlink"},"Click this bad link")," to see the 404 page."));var Fe=()=>o.a.createElement("div",null,o.a.createElement("h1",null,"React Slingshot"),o.a.createElement("h2",null,"Get Started"),o.a.createElement("ol",null,o.a.createElement("li",null,"Review the",o.a.createElement(Be.a,{to:"/fuel-savings"},"demo app")),o.a.createElement("li",null,"Remove the demo and start coding: npm run remove-demo")));var We=()=>o.a.createElement("div",null,o.a.createElement("h4",null,"404 Page Not Found"),o.a.createElement(Be.a,{to:"/"},"Go back to homepage"));const ze=()=>e=>{e({type:"LOAD_VTN_CONFIGURATION",swagger:function(t){t.apis["oadr-20b-vtn-controller"].viewConfUsingGET({responseContentType:"application/json"}).then(t=>{var a=JSON.parse(t.data);e({type:"LOAD_VTN_CONFIGURATION_SUCCESS",payload:a})}).catch(t=>{e({type:"LOAD_VTN_CONFIGURATION_ERROR",payload:t})})}})},je=()=>e=>{e({type:"LOAD_MARKET_CONTEXT",swagger:function(t){t.apis["market-context-controller"].listMarketContextUsingGET({responseContentType:"application/json"}).then(t=>{var a=JSON.parse(t.data);e({type:"LOAD_MARKET_CONTEXT_SUCCESS",payload:a})}).catch(t=>{e({type:"LOAD_MARKET_CONTEXT_ERROR",payload:t})})}})},Ke=e=>(t,a)=>{t({type:"CREATE_MARKET_CONTEXT",swagger:function(n){n.apis["market-context-controller"].createMarketContextUsingPOST({dto:e},{responseContentType:"application/json"}).then(e=>{var n=JSON.parse(e.data);t({type:"CREATE_MARKET_CONTEXT_SUCCESS",payload:n}),je()(t,a)}).catch(e=>{t({type:"CREATE_MARKET_CONTEXT_ERROR",payload:e})})}})},He=e=>(t,a)=>{t({type:"CREATE_MARKET_CONTEXT",swagger:function(n){n.apis["market-context-controller"].updateMarketContextUsingPUT({dto:e},{responseContentType:"application/json"}).then(e=>{var n=JSON.parse(e.data);t({type:"CREATE_MARKET_CONTEXT_SUCCESS",payload:n}),je()(t,a)}).catch(e=>{t({type:"CREATE_MARKET_CONTEXT_ERROR",payload:e})})}})},Ye=e=>(t,a)=>{t({type:"DELETE_MARKET_CONTEXT",swagger:function(n){n.apis["market-context-controller"].deleteMarketContextByIdUsingDELETE({marketContextId:e},{responseContentType:"application/json"}).then(()=>{t({type:"DELETE_MARKET_CONTEXT_SUCCESS"}),je()(t,a)}).catch(e=>{t({type:"DELETE_MARKET_CONTEXT_ERROR",payload:e})})}})},Xe=()=>e=>{e({type:"LOAD_GROUP",swagger:function(t){t.apis["group-controller"].listGroupUsingGET({responseContentType:"application/json"}).then(t=>{var a=JSON.parse(t.data);e({type:"LOAD_GROUP_SUCCESS",payload:a})}).catch(t=>{e({type:"LOAD_GROUP_ERROR",payload:t})})}})},Qe=e=>(t,a)=>{t({type:"CREATE_GROUP",swagger:function(n){n.apis["group-controller"].createGroupUsingPOST({dto:e},{responseContentType:"application/json"}).then(e=>{var n=JSON.parse(e.data);t({type:"CREATE_GROUP_SUCCESS",payload:n}),Xe()(t,a)}).catch(e=>{t({type:"CREATE_GROUP_ERROR",payload:e})})}})},Je=e=>(t,a)=>{t({type:"CREATE_GROUP",swagger:function(n){n.apis["group-controller"].updateGroupUsingPUT({dto:e},{responseContentType:"application/json"}).then(e=>{var n=JSON.parse(e.data);t({type:"CREATE_GROUP_SUCCESS",payload:n}),Xe()(t,a)}).catch(e=>{t({type:"CREATE_GROUP_ERROR",payload:e})})}})},Ze=e=>(t,a)=>{t({type:"DELETE_GROUP",swagger:function(n){n.apis["group-controller"].deleteGroupByIdUsingDELETE({groupId:e},{responseContentType:"application/json"}).then(()=>{t({type:"DELETE_GROUP_SUCCESS"}),Xe()(t,a)}).catch(e=>{t({type:"DELETE_GROUP_ERROR",payload:e})})}})};var $e=a(12),et=a.n($e),tt=a(416),at=a.n(tt),nt=a(415),rt=a.n(nt),it=a(117),st=a.n(it);function lt(e){return o.a.createElement(et.a,{label:e.field,defaultValue:e.value,className:e.className,InputProps:{readOnly:!0}})}function ot(e){var t=e.value?"Supported":"not supported",a=e.value?o.a.createElement(st.a,{color:"action"}):o.a.createElement(rt.a,{color:"action"});return o.a.createElement(et.a,{label:e.field,defaultValue:t,className:e.className,InputProps:{readOnly:!0,endAdornment:o.a.createElement(at.a,null," ",a," ")}})}var ct=e=>{const t=e.classes,a=e.vtnConfiguration;var n=function(a,n){var r=null,i=e.vtnConfiguration[n];return null!=e.vtnConfiguration[n]&&(r=o.a.createElement(lt,{className:t.textField,field:a,value:i})),r},r=function(a,n){var r=null,i=e.vtnConfiguration[n];return null!=e.vtnConfiguration[n]&&(r=o.a.createElement(ot,{className:t.textField,field:a,value:i})),r};return o.a.createElement("div",{className:t.root},o.a.createElement(ye.a,{className:t.formControl},n("Identifiant VTN","vtnId")),o.a.createElement(ye.a,{className:t.formControl},n("Default Pull Frequency (seconds)","pullFrequencySeconds")),o.a.createElement(he.a,{style:{marginBottom:"20px",marginTop:"20px"}}),function(){if(null!=a.contextPath&&null!=a.port&&null!=a.host){var e="https://"+a.host+":"+a.port+a.contextPath+"/OpenADR2/Simple/2.0b",n="https://"+a.host+":"+a.port+a.contextPath+"/OpenADR2/Simple";return[o.a.createElement(ye.a,{className:t.formControl,key:"textfield_endpoint20b"},o.a.createElement(lt,{className:t.textField,field:"OADR 2.0b Endpoint",value:e})),o.a.createElement(ye.a,{className:t.formControl,key:"textfield_endpoint20a"},o.a.createElement(lt,{className:t.textField,field:"OADR 2.0a Endpoint",value:n}))]}}(),o.a.createElement(he.a,{style:{marginBottom:"20px",marginTop:"20px"}}),o.a.createElement(ye.a,{className:t.formControl},r("HTTPS Push feature","supportPush")),o.a.createElement(ye.a,{className:t.formControl},r("Unsecured HTTP Push feature","supportUnsecuredHttpPush")))},mt=a(72),pt=a.n(mt),ut=a(417),dt=a.n(ut),ht=a(33),Et=a.n(ht),gt=a(96),vt=a.n(gt),ft=a(1),Ct=a.n(ft),Tt=a(419),St=a.n(Tt),Rt=a(422),bt=a.n(Rt),yt=a(424),At=a.n(yt),_t=a(423),Nt=a.n(_t),xt=a(420),kt=a.n(xt),Ot=a(52),Dt=a.n(Ot),Pt=a(421),Vt=a.n(Pt),It=a(118),wt=a.n(It),Mt=a(100),Lt=a.n(Mt),Ut=a(74),Gt=a.n(Ut),Bt=a(86),qt=a.n(Bt),Ft=a(418),Wt=a.n(Ft);function zt(e){return Wt()(e)}function jt(e){return"PT"+e+"M"}function Kt(e){return new Date(e+"Z").getTime()}var Ht=e=>(1===(e=""+e).length&&(e="0"+e),e);function Yt(e){var t=new Date;return t.setTime(e),{date:t.getFullYear()+"-"+Ht(t.getMonth()+1)+"-"+Ht(t.getDate()),time:Ht(t.getHours())+":"+Ht(t.getMinutes()),tz:"UTC"}}var Xt=e=>o.a.createElement(St.a,{className:e.classes.card,style:{margin:5}},o.a.createElement(kt.a,{className:e.classes.media,subheader:e.cardType,action:o.a.createElement(Dt.a,{size:"small",onClick:e.close,style:{padding:0,margin:"5px 10px"}},o.a.createElement(Vt.a,null))}),o.a.createElement(he.a,{variant:"middle"}),o.a.createElement(bt.a,{onClick:t=>{e.edit&&e.edit(t)}},o.a.createElement(Nt.a,{style:{minHeight:80,maxHeight:100}},o.a.createElement(Ct.a,{container:!0,spacing:8},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(fe.a,{style:{backgroundColor:e.color,margin:"0px 10px",height:50,width:50}},e.icon)),o.a.createElement(Ct.a,{item:!0,xs:9},o.a.createElement(ue.a,{gutterBottom:!0,variant:"title",component:"h2",align:"right",style:{marginRight:10}},e.name),o.a.createElement(ue.a,{component:"p",variant:"caption",align:"right",style:{marginRight:10}},e.description)))))),o.a.createElement(he.a,{variant:"middle"}),o.a.createElement(At.a,{style:{minHeight:40,maxHeight:40}},e.actions));function Qt(e){var t=null;e.handleDeleteMarketContext?t=e.handleDeleteMarketContext:e.handleRemoveVenMarketContext&&(t=e.handleRemoveVenMarketContext);return o.a.createElement(Xt,{classes:e.classes,color:e.context.color,name:e.context.name,description:e.context.description,close:t,edit:e.handleEditMarketContext,cardType:"Market Context",icon:o.a.createElement(wt.a,{style:{height:30,width:30}}),actions:[o.a.createElement(Te.a,{onClick:()=>{W.push("/event",{filters:[{type:"MARKET_CONTEXT",value:e.context.name}]})},key:"action_marketcontext_events",size:"small",color:"primary"}," Events "),o.a.createElement(Te.a,{onClick:()=>{W.push("/ven",{filters:[{type:"MARKET_CONTEXT",value:e.context.name}]})},key:"action_marketcontext_vens",size:"small",color:"primary"}," Vens ")]})}function Jt(e){var t=null;e.handleDeleteGroup?t=e.handleDeleteGroup:e.handleRemoveVenGroup&&(t=e.handleRemoveVenGroup);return o.a.createElement(Xt,{classes:e.classes,color:"#bbb",name:e.group.name,description:e.group.description,close:t,edit:e.handleEditGroup,cardType:"Group",icon:o.a.createElement(Lt.a,{style:{height:30,width:30}}),actions:[o.a.createElement(Te.a,{onClick:()=>{W.push("/ven",{filters:[{type:"GROUP",value:e.group.name}]})},key:"action_group_vens",size:"small",color:"primary"}," Vens ")]})}function Zt(e){var t=null!=e.ven.registrationId?"green":"#bbb";return o.a.createElement(Xt,{classes:e.classes,color:t,name:e.ven.commonName,description:e.ven.username,close:e.handleDeleteVen,edit:e.handleEditVen,cardType:"VEN",icon:o.a.createElement(Gt.a,{style:{height:30,width:30}}),actions:[o.a.createElement(Te.a,{onClick:()=>{W.push("/event",{filters:[{type:"VEN",value:e.ven.username}]})},key:"action_group_vens",size:"small",color:"primary"}," Events ")]})}function $t(e){var t;switch(e.event.descriptor.state){case"ACTIVE":t="green";break;case"CANCELLED":t="red";break;default:t="#bbb"}e.event.published||(t=ge.a[700]);var a=Yt(e.event.activePeriod.start);return o.a.createElement(Xt,{classes:e.classes,color:t,name:e.event.descriptor.marketContext+":"+e.event.id,description:o.a.createElement("span",null,a.date+" "+a.time," | ",e.event.activePeriod.duration," | ",e.event.activePeriod.notificationDuration),close:e.handleDeleteEvent,edit:e.handleEditEvent,cardType:"EVENT",icon:o.a.createElement(qt.a,{style:{height:30,width:30}}),actions:[o.a.createElement(Te.a,{onClick:()=>{W.push("/ven",{filters:[{type:"EVENT",value:e.event.id}]})},key:"action_group_vens",size:"small",color:"primary"}," VENS ")]})}class ea extends o.a.Component{constructor(e){super(e),this.handleCreateMarketContextNameChange=e=>{this.setState({name:e.target.value})},this.handleCreateMarketContextDescriptionChange=e=>{this.setState({description:e.target.value})},this.handleCreateMarketContextColorChange=e=>{this.setState({color:e})},this.handleCancelMarketContextButtonClick=()=>{this.setState({name:"",description:"",color:"",editMode:!1})},this.handleCreateMarketContextButtonClick=e=>{e.preventDefault();var t={name:this.state.name,description:this.state.description,color:this.state.color};this.state.editMode?this.props.updateMarketContext(t):this.props.createMarketContext(t),this.setState({name:"",description:"",color:"",editMode:!1})},this.handleDeleteMarketContext=e=>{var t=this;return function(a){a.preventDefault(),t.props.deleteMarketContext(e)}},this.handleEditMarketContext=e=>{var t=this;return function(a){a.preventDefault(),t.setState({editMode:!0,name:e.name,description:e.description,color:e.color})}},this.state={},this.state.name="",this.state.description="",this.state.color="",this.state.editMode=!1}render(){const e=this.props,t=e.classes,a=e.marketContext;var n=[];for(var r in a){var i=a[r];n.push(o.a.createElement(Qt,{key:"marketcontext_card_"+i.id,classes:t,context:i,handleDeleteMarketContext:this.handleDeleteMarketContext(i.id),handleEditMarketContext:this.handleEditMarketContext(i)}))}return o.a.createElement("div",{className:t.root},o.a.createElement("form",null,o.a.createElement(Ct.a,{container:!0,spacing:8},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(et.a,{label:"Name",value:this.state.name,className:t.textField,onChange:this.handleCreateMarketContextNameChange,disabled:this.state.editMode,style:{width:"95%"},InputLabelProps:{shrink:!0},InputProps:{style:{marginTop:24}}})),o.a.createElement(Ct.a,{item:!0,xs:5},o.a.createElement(et.a,{label:"Description",value:this.state.description,className:t.textField,style:{width:"95%"},onChange:this.handleCreateMarketContextDescriptionChange,fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{marginTop:24}}})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(dt.a,{label:"Color",defaultValue:"#000",value:this.state.color,TextFieldProps:{className:t.textField,style:{width:"95%"},InputLabelProps:{shrink:!0},InputProps:{style:{marginTop:24,color:this.state.color}}},onChange:this.handleCreateMarketContextColorChange})),o.a.createElement(Ct.a,{item:!0,xs:1},this.state.editMode?o.a.createElement(Te.a,{key:"vtn_cancel",variant:"outlined",color:"secondary",size:"small",className:t.button,style:{marginTop:13},onClick:this.handleCancelMarketContextButtonClick},o.a.createElement(vt.a,null)):null),o.a.createElement(Ct.a,{item:!0,xs:1},this.state.editMode?o.a.createElement(Te.a,{key:"btn_save",variant:"outlined",color:"primary",size:"small",className:t.button,style:{marginTop:13},fullWidth:!0,onClick:this.handleCreateMarketContextButtonClick},o.a.createElement(Et.a,null)," Save"):null,this.state.editMode?null:o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"primary",size:"small",className:t.button,style:{marginTop:13},fullWidth:!0,onClick:this.handleCreateMarketContextButtonClick},o.a.createElement(Et.a,null),"New"))))),o.a.createElement("div",null,o.a.createElement(he.a,{style:{marginBottom:"20px",marginTop:"20px"}}),o.a.createElement(pt.a,{style:{justifyContent:"left"}},n)))}}var ta=ea;class aa extends o.a.Component{constructor(e){super(e),this.handleGroupNameChange=e=>{this.setState({name:e.target.value})},this.handleGroupDescriptionChange=e=>{this.setState({description:e.target.value})},this.handleCancelGroupButtonClick=()=>{this.setState({name:"",description:"",color:"",editMode:!1})},this.handleSaveGroupButtonClick=e=>{e.preventDefault();var t={name:this.state.name,description:this.state.description};this.state.editMode?this.props.updateGroup(t):this.props.createGroup(t),this.setState({name:"",description:"",editMode:!1})},this.handleDeleteGroup=e=>{var t=this;return function(a){a.preventDefault(),t.props.deleteGroup(e)}},this.handleEditGroup=e=>{var t=this;return function(a){a.preventDefault(),t.setState({editMode:!0,name:e.name,description:e.description||"",color:e.color})}},this.state={},this.state.name="",this.state.description="",this.state.editMode=!1}render(){const e=this.props,t=e.classes,a=e.group;var n=[];for(var r in a){var i=a[r];n.push(o.a.createElement(Jt,{key:"group_card_"+i.id,classes:t,group:i,handleDeleteGroup:this.handleDeleteGroup(i.id),handleEditGroup:this.handleEditGroup(i)}))}return o.a.createElement("div",null,o.a.createElement("form",{className:t.root},o.a.createElement(Ct.a,{container:!0,spacing:8},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(et.a,{label:"Name",value:this.state.name,className:t.textField,onChange:this.handleGroupNameChange,disabled:this.state.editMode,style:{width:"95%"},InputLabelProps:{shrink:!0},InputProps:{style:{marginTop:24}}})),o.a.createElement(Ct.a,{item:!0,xs:7},o.a.createElement(et.a,{label:"Description",value:this.state.description,className:t.textField,onChange:this.handleGroupDescriptionChange,style:{width:"95%"},InputLabelProps:{shrink:!0},InputProps:{style:{marginTop:24}}})),o.a.createElement(Ct.a,{item:!0,xs:1},this.state.editMode?o.a.createElement(Te.a,{key:"vtn_cancel",variant:"outlined",color:"secondary",size:"small",className:t.button,style:{marginTop:13},onClick:this.handleCancelGroupButtonClick},o.a.createElement(vt.a,null)):null),o.a.createElement(Ct.a,{item:!0,xs:1},this.state.editMode?o.a.createElement(Te.a,{key:"btn_save",variant:"outlined",color:"primary",size:"small",className:t.button,style:{marginTop:13},fullWidth:!0,onClick:this.handleCreateGroupButtonClick},o.a.createElement(Et.a,null)," Save"):null,this.state.editMode?null:o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"primary",size:"small",className:t.button,style:{marginTop:13},fullWidth:!0,onClick:this.handleCreateGroupButtonClick},o.a.createElement(Et.a,null),"New"))))),o.a.createElement("div",null,o.a.createElement(he.a,{style:{marginBottom:"20px",marginTop:"20px"}}),o.a.createElement(pt.a,{style:{justifyContent:"left"}},n)))}}var na=aa;function ra(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class ia extends o.a.Component{constructor(...e){super(...e),this.state={value:0},this.handleChange=(e,t)=>{switch(this.setState({value:t}),t){case 0:W.push("/vtn_configuration/marketcontext");break;case 1:W.push("/vtn_configuration/group");break;case 2:W.push("/vtn_configuration/parameter")}}}componentDidMount(){switch(this.props.actions.loadVtnConfiguration(),this.props.actions.loadMarketContext(),this.props.actions.loadGroup(),this.props.match.params.panel){case"marketcontext":this.setState({value:0});break;case"group":this.setState({value:1});break;case"parameter":this.setState({value:2})}}render(){const e=this.props,t=e.classes,a=e.vtnConfiguration,n=this.state.value;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"Market Contexts"}),o.a.createElement(me.a,{label:"Groups"}),o.a.createElement(me.a,{label:"Parameters"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(ra,null,o.a.createElement(ta,{classes:t,marketContext:a.marketContext,createMarketContext:this.props.actions.createMarketContext,updateMarketContext:this.props.actions.updateMarketContext,deleteMarketContext:this.props.actions.deleteMarketContext})),1===n&&o.a.createElement(ra,null,o.a.createElement(na,{classes:t,group:a.group,createGroup:this.props.actions.createGroup,updateGroup:this.props.actions.updateGroup,deleteGroup:this.props.actions.deleteGroup})),2===n&&o.a.createElement(ra,null,o.a.createElement(ct,{classes:t,vtnConfiguration:a.parameters})))}}var sa=Object(g.connect)((function(e){return{vtnConfiguration:e.vtnConfiguration}}),(function(e){return{actions:Object(v.b)(r,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit,minWidth:500},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},iconButton:{marginTop:10}}))(ia));const la=()=>Y("LOAD_VEN",e=>e.apis["ven-controller"].listVenUsingGET(X),Z),oa=(e,t,a)=>{var n={filters:e,page:t,size:a};return Y("SEARCH_VEN",e=>e.apis["ven-controller"].searchVenUsingPOST(n,X),Z)},ca=e=>Y("LOAD_VEN_DETAIL",t=>{var a={venID:e};return t.apis["ven-controller"].findVenByUsernameUsingGET(a,X)},Z),ma=e=>Y("CREATE_VEN",t=>{var a={dto:e};return t.apis["ven-controller"].createVenUsingPOST(a,Q)},t=>{J(t.data,e.commonName+"-credentials.tar"),W.push("/ven/")}),pa=e=>Y("DELETE_VEN",t=>{var a={venID:e};return t.apis["ven-controller"].deleteVenByUsernameUsingDELETE(a,X)},()=>{W.push("/ven/")},(e,t)=>{la()(e,t)}),ua=e=>Y("LOAD_VEN_GROUP",t=>{var a={venID:e};return t.apis["ven-controller"].listVenGroupUsingGET(a,X)},Z),da=e=>Y("LOAD_VEN_MARKET_CONTEXT",t=>{var a={venID:e};return t.apis["ven-controller"].listVenMarketContextUsingGET(a,X)},Z),ha=(e,t)=>Y("ADD_VEN_MARKET_CONTEXT",a=>{var n={venID:e,marketContextId:t};return a.apis["ven-controller"].addMarketContextToVenUsingPOST(n,X)},Z,(t,a)=>{da(e)(t,a)}),Ea=(e,t)=>Y("ADD_VEN_GROUP",a=>{var n={venID:e,groupId:t};return a.apis["ven-controller"].addGroupToVenUsingPOST(n,X)},Z,(t,a)=>{ua(e)(t,a)}),ga=(e,t)=>Y("REMOVE_VEN_MARKET_CONTEXT",a=>{var n={venID:e,marketContextId:t};return a.apis["ven-controller"].deleteVenMarketContextUsingPOST(n,X)},null,(t,a)=>{da(e)(t,a)}),va=(e,t)=>Y("REMOVE_VEN_GROUP",a=>{var n={venID:e,groupId:t};return a.apis["ven-controller"].deleteVenGroupUsingPOST(n,X)},null,(t,a)=>{ua(e)(t,a)}),fa=e=>Y("REQUEST_REREGISTRATION_VEN",t=>{var a={venID:e};return t.apis["oadr-20b-ven-controller"].registerPartyRequestReregistrationUsingPOST(a,X)}),Ca=e=>Y("REQUEST_CANCEL_REGISTRATION_VEN",t=>{var a={venID:e};return t.apis["oadr-20b-ven-controller"].registerPartyCancelPartyRegistrationUsingPOST(a,X)}),Ta=e=>Y("REQUEST_CLEAN_REGISTRATION_VEN",t=>{var a={venID:e};return t.apis["ven-controller"].cleanRegistrationUsingPOST(a,X)}),Sa=(e,t)=>Y("LOAD_VEN_AVAILABLE_REPORT",a=>{var n={venID:e,reportSpecifierId:t};return a.apis["oadr-20b-ven-controller"].viewOtherReportCapabilityUsingGET(n,X)},Z),Ra=(e,t)=>Y("LOAD_VEN_AVAILABLE_REPORT_DESCRIPTION",a=>{var n={venID:e,reportSpecifierId:t};return a.apis["oadr-20b-ven-controller"].viewOtherReportCapabilityDescriptionUsingGET(n,X)},Z),ba=(e,t)=>Y("LOAD_VEN_REQUESTED_REPORT",a=>{var n={venID:e,reportRequestId:t};return a.apis["oadr-20b-ven-controller"].viewReportRequestUsingGET(n,X)},Z),ya=(e,t)=>Y("LOAD_VEN_REQUESTED_REPORT_SPECIFIER",a=>{var n={venID:e,criteria:{reportRequestId:[t]}};return a.apis["oadr-20b-ven-controller"].viewReportRequestSpecifierUsingPOST(n,X)},Z),Aa=e=>Y("REQUEST_VEN_REGISTER_REPORT",t=>{var a={venID:e};return t.apis["oadr-20b-ven-controller"].requestRegisterReportUsingPOST(a,X)}),_a=e=>Y("SEND_VTN_REGISTER_REPORT",t=>{var a={venID:e};return t.apis["oadr-20b-ven-controller"].sendRegisterReportUsingPOST(a,X)}),Na=(e,t,a,n,r)=>Y("CREATE_REQUESTED_REPORT",null==r?r=>{var i={venID:e,reportSpecifierId:t,start:a,end:n};return r.apis["oadr-20b-ven-controller"].requestAllOtherReportCapabilityDescriptionRidUsingPOST(i,X)}:i=>{var s={venID:e,reportSpecifierId:t,start:a,end:n,rid:r.join(",")};return i.apis["oadr-20b-ven-controller"].requestOtherReportCapabilityDescriptionRidUsingPOST(s,X)},()=>{W.push("/ven/detail/"+e+"/reports")}),xa=(e,t,a,n,r)=>Y("CREATE_REQUESTED_REPORT",null==r?r=>{var i={venID:e,reportSpecifierId:t,granularity:a,reportBackDuration:n};return r.apis["oadr-20b-ven-controller"].subscribeAllOtherReportCapabilityDescriptionRidUsingPOST(i,X)}:i=>{var s={venID:e,reportSpecifierId:t,granularity:a,reportBackDuration:n,rid:r.join(",")};return i.apis["oadr-20b-ven-controller"].subscribeOtherReportCapabilityDescriptionRidUsingPOST(s,X)},()=>{W.push("/ven/detail/"+e+"/reports")}),ka=(e,t)=>Y("CANCEL_REQUESTED_REPORT",a=>{var n={venID:e,reportRequestId:t};return a.apis["oadr-20b-ven-controller"].cancelSubscriptionReportRequestUsingPOST(n,X)},null,(t,a)=>{ba(e)(t,a)}),Oa=e=>Y("LOAD_VEN_OPT",t=>{var a={venID:e};return t.apis["oadr-20b-ven-controller"].venOptUsingGET(a,X)},Z),Da=(e,t,a)=>Y("LOAD_VEN_AVAILABLE_REPORT",n=>{var r={venID:e,page:t,size:a};return n.apis["oadr-20b-ven-controller"].pageOtherReportCapabilityUsingGET(r,X)},Z),Pa=(e,t,a)=>Y("LOAD_VEN_REQUESTED_REPORT",n=>{var r={venID:e,page:t,size:a};return n.apis["oadr-20b-ven-controller"].pageReportRequestUsingGET(r,X)},Z),Va=(e,t)=>Y("LOAD_EVENT",e=>e.apis["demand-response-controller"].listUsingGET(X),Z),Ia=(e,t,a,n,r)=>{var i={filters:e,start:t,end:a,page:n,size:r};return Y("SEARCH_EVENT",e=>e.apis["demand-response-controller"].searchUsingPOST(i,X),Z)},wa=e=>{var t={event:e};return Y("CREATE_EVENT",e=>e.apis["demand-response-controller"].createUsingPOST(t,X),e=>{W.push("/event/")})},Ma=(e,t)=>{var a={id:e,event:t};return Y("UPDATE_EVENT",e=>e.apis["demand-response-controller"].updateUsingPUT(a,X),Z)},La=e=>Y("DELETE_EVENT",t=>{var a={id:e};return t.apis["demand-response-controller"].deleteUsingDELETE(a,X)},()=>{W.push("/event/")},(e,t)=>{Va()(e,t)}),Ua=e=>{var t={id:e};return Y("LOAD_EVENT_DETAIL",e=>e.apis["demand-response-controller"].readUsingGET(t,X),Z)},Ga=e=>{var t={id:e};return Y("PUBLISH_EVENT",e=>e.apis["demand-response-controller"].publishUsingPOST(t,X),null,(t,a)=>{Ua(e)(t,a)})},Ba=e=>{var t={id:e};return Y("ACTIVE_EVENT",e=>e.apis["demand-response-controller"].activeUsingPOST(t,X),null,(t,a)=>{Ua(e)(t,a)})},qa=e=>{var t={id:e};return Y("CANCEL_EVENT",e=>e.apis["demand-response-controller"].cancelUsingPOST(t,X),null,(t,a)=>{Ua(e)(t,a)})},Fa=e=>{var t={id:e};return Y("LOAD_EVENT_VEN_RESPONSE",e=>e.apis["demand-response-controller"].readVenDemandResponseEventUsingGET(t,X),Z)};var Wa=a(139),za=a.n(Wa),ja=a(76),Ka=a.n(ja),Ha=a(62),Ya=a.n(Ha),Xa=a(105),Qa=a.n(Xa),Ja=a(68),Za=a.n(Ja),$a=a(104),en=a.n($a),tn=a(103),an=a.n(tn),nn=a(425),rn=a.n(nn),sn=a(297),ln=a.n(sn),on=a(36),cn=a.n(on);function mn(e){const t=e.classes,a=e.inputRef,n=void 0===a?()=>{}:a,r=e.ref,i=Object(p.a)(e,["classes","inputRef","ref"]);return o.a.createElement(et.a,Object.assign({fullWidth:!0,InputProps:{inputRef:e=>{r(e),n(e)},classes:{input:t.input}}},i))}const pn=e=>({root:{flexGrow:1},container:{position:"relative"},suggestionsContainerOpen:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},divider:{height:2*e.spacing.unit}});class un extends o.a.Component{constructor(...e){super(...e),this.state={single:"",popper:""},this.handleChange=e=>(t,{newValue:a})=>{this.setState({[e]:a})}}render(){const e=this.props.classes;var t=this;const a={renderInputComponent:mn,suggestions:this.props.suggestions,onSuggestionsFetchRequested:this.props.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.props.onSuggestionsClearRequested,onSuggestionsSelect:this.props.onSuggestionsSelect,getSuggestionValue:function(e){return e.commonName},renderSuggestion:function(e){return o.a.createElement(cn.a,{component:"div",onClick:()=>{t.props.onSuggestionsSelect(e)}},o.a.createElement("div",null,o.a.createElement("strong",null,e.commonName)," (",o.a.createElement("i",null,e.username),")"))}};return o.a.createElement("div",{className:e.root},o.a.createElement(ln.a,Object.assign({},a,{inputProps:{classes:e,label:"venId, commonName, oadrName",placeholder:"",value:this.state.single,onChange:this.handleChange("single")},theme:{container:e.container,suggestionsContainerOpen:e.suggestionsContainerOpen,suggestionsList:e.suggestionsList,suggestion:e.suggestion},renderSuggestionsContainer:e=>o.a.createElement(Me.a,Object.assign({},e.containerProps,{square:!0}),e.children)})))}}un=Object(se.withStyles)(pn)(un);class dn extends o.a.Component{constructor(...e){super(...e),this.state={single:"",popper:""},this.handleChange=e=>(t,{newValue:a})=>{this.setState({[e]:a})}}render(){const e=this.props.classes;var t=this;const a={renderInputComponent:mn,suggestions:this.props.suggestions,onSuggestionsFetchRequested:this.props.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.props.onSuggestionsClearRequested,onSuggestionsSelect:this.props.onSuggestionsSelect,getSuggestionValue:function(e){return e.descriptor.eventId},renderSuggestion:function(e){return o.a.createElement(cn.a,{component:"div",onClick:()=>{t.props.onSuggestionsSelect(e)}},o.a.createElement("div",null,o.a.createElement("strong",null,e.descriptor.eventId)))}};return o.a.createElement("div",{className:e.root},o.a.createElement(ln.a,Object.assign({},a,{inputProps:{classes:e,placeholder:"",value:this.state.single,onChange:this.handleChange("single")},theme:{container:e.container,suggestionsContainerOpen:e.suggestionsContainerOpen,suggestionsList:e.suggestionsList,suggestion:e.suggestion},renderSuggestionsContainer:e=>o.a.createElement(Me.a,Object.assign({},e.containerProps,{square:!0}),e.children)})))}}function hn(e){return o.a.createElement(an.a,{open:e.open,onClose:()=>{e.close()}},o.a.createElement(en.a,null,e.title),o.a.createElement("div",null,o.a.createElement(Ka.a,null,e.marketContext.map(t=>o.a.createElement(Ya.a,{button:!0,onClick:()=>{e.close(t)},key:t.name},o.a.createElement(Qa.a,null,o.a.createElement(fe.a,{style:{backgroundColor:t.color}},o.a.createElement(wt.a,null))),o.a.createElement(Za.a,{primary:t.name}))))))}function En(e){return o.a.createElement(an.a,{open:e.open,onClose:()=>{e.close()}},o.a.createElement(en.a,null,e.title),o.a.createElement("div",null,o.a.createElement(Ka.a,null,e.group.map(t=>o.a.createElement(Ya.a,{button:!0,onClick:()=>{e.close(t)},key:t.name},o.a.createElement(Qa.a,null,o.a.createElement(fe.a,{style:{backgroundColor:"#bbb"}},o.a.createElement(Lt.a,null))),o.a.createElement(Za.a,{primary:t.name}))))))}function gn(e){return o.a.createElement(an.a,{open:e.open,onClose:()=>{e.close()}},o.a.createElement(en.a,null,e.title),o.a.createElement("div",null,o.a.createElement(Ka.a,null,o.a.createElement(Ya.a,{button:!0,onClick:()=>{e.close("group")}},o.a.createElement(Qa.a,null,o.a.createElement(fe.a,{style:{backgroundColor:"#bbb"}},o.a.createElement(Lt.a,null))),o.a.createElement(Za.a,{primary:"Group"})),o.a.createElement(Ya.a,{button:!0,onClick:()=>{e.close("ven")}},o.a.createElement(Qa.a,null,o.a.createElement(fe.a,{style:{backgroundColor:"#bbb"}},o.a.createElement(Gt.a,null))),o.a.createElement(Za.a,{primary:"Ven"})))))}function vn(e){return o.a.createElement(an.a,{open:e.open,onClose:()=>{e.close()}},o.a.createElement(en.a,null,e.title),o.a.createElement("div",null,o.a.createElement(Ka.a,null,[{name:"online",color:"green"},{name:"offline",color:"#bbb"}].map(t=>o.a.createElement(Ya.a,{button:!0,onClick:()=>{e.close(t)},key:t.name},o.a.createElement(Qa.a,null,o.a.createElement(fe.a,{style:{backgroundColor:t.color}},o.a.createElement(Gt.a,null))),o.a.createElement(Za.a,{primary:t.name}))))))}function fn(e){return o.a.createElement(an.a,{open:e.open,onClose:()=>{e.close()}},o.a.createElement(en.a,null,e.title),o.a.createElement("div",null,o.a.createElement(Ka.a,null,o.a.createElement(Ya.a,{style:{marginBottom:250,width:400}},o.a.createElement(un,{suggestions:e.suggestions,onSuggestionsFetchRequested:e.onSuggestionsFetchRequested,onSuggestionsClearRequested:e.onSuggestionsClearRequested,onSuggestionsSelect:e.onSuggestionsSelect})))))}function Cn(e){var t=[{name:"ACTIVE",color:"green",label:"Active"},{name:"CANCELLED",color:"red",label:"Cancelled"},{name:"PUBLISHED",color:"#bbb",label:"Published"},{name:"NOT_PUBLISHED",color:ge.a[700],label:"Not Published"},{name:"SENDABLE",color:"#bbb",label:"Sendable"},{name:"NOT_SENDABLE",color:"#bbb",label:"Not Sendable"}];return o.a.createElement(an.a,{open:e.open,onClose:()=>{e.close()}},o.a.createElement(en.a,null,e.title),o.a.createElement("div",null,o.a.createElement(Ka.a,null,t.map(t=>o.a.createElement(Ya.a,{button:!0,onClick:()=>{e.close(t)},key:t.name},o.a.createElement(Qa.a,null,o.a.createElement(fe.a,{style:{backgroundColor:t.color}},o.a.createElement(qt.a,null))),o.a.createElement(Za.a,{primary:t.label}))))))}function Tn(e){return e.event?o.a.createElement(an.a,{open:e.open,onClose:()=>{e.close()}},o.a.createElement(en.a,null,e.event.title),o.a.createElement("div",null,o.a.createElement(Ka.a,null,o.a.createElement(Ya.a,null,o.a.createElement(Qa.a,null,o.a.createElement(fe.a,null,o.a.createElement(Gt.a,null))),o.a.createElement(Za.a,{primary:e.event.marketContext})))),o.a.createElement(rn.a,null,o.a.createElement(Te.a,{onClick:e.close,color:"primary"},"close"),o.a.createElement(Te.a,{onClick:e.handleEventDetailClick,color:"primary",autoFocus:!0},"Event Detail"))):null}dn=Object(se.withStyles)(pn)(dn);var Sn=e=>o.a.createElement("span",{style:{display:"flex",alignItems:"center",marginLeft:"-7px"}},o.a.createElement(wt.a,{color:"disabled",style:{marginRight:"5px"}})," ",e.name),Rn=e=>o.a.createElement("span",{style:{display:"flex",alignItems:"center",marginLeft:"-7px"}},o.a.createElement(Lt.a,{color:"disabled",style:{marginRight:"5px"}})," ",e.name),bn=e=>o.a.createElement("span",{style:{display:"flex",alignItems:"center",marginLeft:"-7px"}},o.a.createElement(Gt.a,{color:"disabled",style:{marginRight:"5px"}})," ",e.name),yn=e=>o.a.createElement("span",{style:{display:"flex",alignItems:"center",marginLeft:"-7px"}},o.a.createElement(qt.a,{color:"disabled",style:{marginRight:"5px"}})," ",e.name);class An extends o.a.Component{constructor(e){super(e),this.addFilterFromInput=e=>{this.addFilter({type:this.props.type,value:e})},this.addFilter=e=>{var t=this.props.filter;t.push(e),this.props.onFilterChange(t)},this.removeFilter=(e,t)=>{var a=this.props.filter;a.splice(t,1),this.props.onFilterChange(a)},this.handleMarketContextSelectOpen=()=>{this.setState({marketContextSelectDialogOpen:!0})},this.handleMarketContextSelectClose=e=>{null!=e&&this.addFilter({type:"MARKET_CONTEXT",value:e.name}),this.setState({marketContextSelectDialogOpen:!1})},this.handleGroupSelectOpen=()=>{this.setState({groupSelectDialogOpen:!0})},this.handleGroupSelectClose=e=>{null!=e&&this.addFilter({type:"GROUP",value:e.name}),this.setState({groupSelectDialogOpen:!1})},this.handleVenStatusSelectOpen=()=>{this.setState({venStatusSelectDialogOpen:!0})},this.handleVenStatusSelectClose=e=>{null!=e&&this.addFilter({type:"IS_REGISTERED",value:"online"===e.name}),this.setState({venStatusSelectDialogOpen:!1})},this.handleVenSelectOpen=()=>{this.setState({venSelectDialogOpen:!0})},this.handleVenSelectClose=e=>{null!=e&&this.addFilter({type:"VEN",value:e.username}),this.setState({venSelectDialogOpen:!1})},this.handleEventStatusSelectOpen=()=>{this.setState({eventStatusSelectDialogOpen:!0})},this.handleEventStatusSelectClose=e=>{null==e||"ACTIVE"!==e.name&&"CANCELLED"!==e.name?null==e||"NOT_PUBLISHED"!==e.name&&"PUBLISHED"!==e.name?null==e||"NOT_SENDABLE"!==e.name&&"SENDABLE"!==e.name||this.addFilter({type:"EVENT_SENDABLE",value:e.name}):this.addFilter({type:"EVENT_PUBLISHED",value:e.name}):this.addFilter({type:"EVENT_STATE",value:e.name}),this.setState({eventStatusSelectDialogOpen:!1})},this.state={},this.state.marketContextSelectDialogOpen=!1,this.state.groupSelectDialogOpen=!1,this.state.venStatusSelectDialogOpen=!1,this.state.venSelectDialogOpen=!1,this.state.eventStatusSelectDialogOpen=!1}render(){const e=this.props,t=e.classes,a=e.hasFilter;var n=this.props.group?this.props.group:[],r=this.props.marketContext?this.props.marketContext:[],i=this.props.ven?this.props.ven:[],s=[];for(var l in this.props.filter){var c=null,m=this.props.filter[l];switch(m.type){case"MARKET_CONTEXT":c=o.a.createElement(Sn,{name:m.value});break;case"GROUP":c=o.a.createElement(Rn,{name:m.value});break;case"IS_REGISTERED":case"VEN":c=o.a.createElement(bn,{name:m.value});break;case"EVENT":c=o.a.createElement(yn,{name:"eventID:"+m.value});break;case"EVENT_STATE":case"EVENT_PUBLISHED":case"EVENT_SENDABLE":c=o.a.createElement(yn,{name:m.value})}s.push(c)}return o.a.createElement("span",null,o.a.createElement(za.a,{label:"Filters",className:t.textField,value:s,onDelete:this.removeFilter,onAdd:this.addFilterFromInput,fullWidth:!0,InputLabelProps:{shrink:!0},style:{width:"75%"}}),a&&a.marketContext?o.a.createElement("span",null,o.a.createElement(Dt.a,{className:t.iconButton,"aria-label":"market_context",onClick:this.handleMarketContextSelectOpen},o.a.createElement(wt.a,null)),o.a.createElement(hn,{marketContext:r,open:this.state.marketContextSelectDialogOpen,close:this.handleMarketContextSelectClose,title:"Filter by Market Context"})):null,a&&a.group?o.a.createElement("span",null,o.a.createElement(Dt.a,{className:t.iconButton,"aria-label":"group",onClick:this.handleGroupSelectOpen},o.a.createElement(Lt.a,null)),o.a.createElement(En,{group:n,open:this.state.groupSelectDialogOpen,close:this.handleGroupSelectClose,title:"Filter by Group"})):null,a&&a.venStatus?o.a.createElement("span",null,o.a.createElement(Dt.a,{className:t.iconButton,"aria-label":"group",onClick:this.handleVenStatusSelectOpen},o.a.createElement(Gt.a,null)),o.a.createElement(vn,{open:this.state.venStatusSelectDialogOpen,close:this.handleVenStatusSelectClose,title:"Filter by Ven Status"})):null,a&&a.ven?o.a.createElement("span",null,o.a.createElement(Dt.a,{className:t.iconButton,"aria-label":"ven",onClick:this.handleVenSelectOpen},o.a.createElement(Gt.a,null)),o.a.createElement(fn,{open:this.state.venSelectDialogOpen,suggestions:i,onSuggestionsFetchRequested:this.props.onVenSuggestionsFetchRequested,onSuggestionsClearRequested:this.props.onVenSuggestionsClearRequested,onSuggestionsSelect:this.handleVenSelectClose,close:this.handleVenSelectClose,title:"Filter by Targeted Ven"})):null,a&&a.eventStatus?o.a.createElement("span",null,o.a.createElement(Dt.a,{className:t.iconButton,"aria-label":"eventStatus",onClick:this.handleEventStatusSelectOpen},o.a.createElement(qt.a,null)),o.a.createElement(Cn,{open:this.state.eventStatusSelectDialogOpen,close:this.handleEventStatusSelectClose,title:"Filter by Event Status"})):null)}}var _n=An;class Nn extends o.a.Component{constructor(e){super(e),this.handleDeleteVen=e=>{var t=this;return function(a){a.preventDefault(),t.props.deleteVen(e)}},this.handleEditVen=e=>function(t){t.preventDefault(),W.push("/ven/detail/"+e)},this.handleCreateVENClick=()=>{W.push("/ven/create")},this.state={}}render(){const e=this.props,t=e.classes,a=e.ven,n=e.marketContext,r=e.group,i=e.event;var s=[];for(var l in a){var c=a[l];s.push(o.a.createElement(Zt,{key:"ven_card_"+c.username,classes:t,ven:c,handleDeleteVen:this.handleDeleteVen(c.username),handleEditVen:this.handleEditVen(c.username)}))}return o.a.createElement("div",{className:t.root},o.a.createElement(Ct.a,{container:!0,spacing:8},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{item:!0,xs:11},o.a.createElement(_n,{classes:t,type:"VEN",hasFilter:{group:!0,marketContext:!0,venStatus:!0,event:!0},group:r,marketContext:n,filter:this.props.filters,onFilterChange:this.props.onFilterChange,event:i,onEventSuggestionsFetchRequested:this.props.onEventSuggestionsFetchRequested,onEventSuggestionsClearRequested:this.props.onEventSuggestionsClearRequested,onEventSuggestionsSelect:this.props.onEventSuggestionsSelect})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"primary",size:"small",className:t.button,fullWidth:!0,onClick:this.handleCreateVENClick},o.a.createElement(Et.a,null),"New")))),o.a.createElement(he.a,{style:{marginBottom:"20px",marginTop:"20px"}}),o.a.createElement(pt.a,{style:{justifyContent:"left"}},s))}}var xn=Nn;class kn extends o.a.Component{constructor(e){super(e),this.onFilterChange=e=>{this.setState({filters:e}),this.props.venActions.searchVen(e,this.state.pagination.page,this.state.pagination.size)},this.onPaginationChange=e=>{this.setState({pagination:e})},this.onEventSuggestionsFetchRequested=e=>{console.log(e);var t=this.state.filters.splice(0);this.props.eventActions.searchEvent(t,null,null,0,5)},this.onEventSuggestionsClearRequested=()=>{},this.onEventSuggestionsSelect=e=>{console.log(e);var t=this.state.filters;t.push({type:"EVENT",value:e.descriptor.eventId}),this.setState({filters:t}),this.props.eventActions.searchEvent(t,this.state.pagination.page,this.state.pagination.size)},this.state={},this.state.filters=[],e.location.state&&e.location.state.filters.length>0&&(this.state.filters=this.state.filters.concat(e.location.state.filters)),this.state.pagination={page:0,size:20}}componentDidMount(){this.props.vtnConfigurationActions.loadMarketContext(),this.props.vtnConfigurationActions.loadGroup(),this.props.venActions.searchVen(this.state.filters,this.state.pagination.page,this.state.pagination.size)}render(){const e=this.props,t=e.classes,a=e.ven;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:0,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"VENs"})),o.a.createElement(he.a,{variant:"middle"}),o.a.createElement(ue.a,{component:"div",style:{padding:24}},o.a.createElement(xn,{classes:t,ven:a.ven,marketContext:a.marketContext,group:a.group,deleteVen:this.props.venActions.deleteVen,filters:this.state.filters,pagination:this.state.pagination,onFilterChange:this.onFilterChange,onPaginationChange:this.onPaginationChange,event:a.event,onEventSuggestionsFetchRequested:this.onEventSuggestionsFetchRequested,onEventSuggestionsClearRequested:this.onEventSuggestionsClearRequested,onEventSuggestionsSelect:this.onEventSuggestionsSelect})))}}var On=Object(g.connect)((function(e){return{ven:e.ven}}),(function(e){return{venActions:Object(v.b)(i,e),vtnConfigurationActions:Object(v.b)(r,e),eventActions:Object(v.b)(s,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit,minWidth:500},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},iconButton:{marginTop:10}}))(kn)),Dn=a(39),Pn=a.n(Dn),Vn=a(41),In=a.n(Vn),wn=a(4),Mn=a.n(wn),Ln=a(40),Un=a.n(Ln),Gn=a(31),Bn=a.n(Gn),qn=a(60),Fn=a.n(qn),Wn=e=>{const t=e.classes,a=e.user;return o.a.createElement(Me.a,{className:t.root},o.a.createElement(Fn.a,{className:t.root},o.a.createElement("div",{className:t.title},o.a.createElement(ue.a,{variant:"h6",id:"tableTitle"},"Users")),o.a.createElement("div",{className:t.spacer}),o.a.createElement("div",{className:t.actions})),o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{align:"right"},"Common Name"),o.a.createElement(Mn.a,{align:"right"},"Username"),o.a.createElement(Mn.a,{align:"right"},"Authentication Method"),o.a.createElement(Mn.a,{align:"right"},"Roles"),o.a.createElement(Mn.a,{align:"right"}))),o.a.createElement(In.a,null,a.map(t=>o.a.createElement(Bn.a,{key:t.id},o.a.createElement(Mn.a,{align:"right"},t.commonName),o.a.createElement(Mn.a,{align:"right"},t.username),o.a.createElement(Mn.a,{align:"right"},t.authenticationType),o.a.createElement(Mn.a,{align:"right"},t.roles.map(e=>o.a.createElement("span",{key:e},e," ",o.a.createElement("br",null)))),o.a.createElement(Mn.a,{scope:"row",align:"right"},o.a.createElement(Te.a,{size:"small",color:"secondary",onClick:e.handleDeleteUser(t.username)}," REMOVE ")))))))};class zn extends o.a.Component{constructor(e){super(e),this.handleCreateUserClick=()=>{W.push("/account/user/create")},this.handleDeleteUser=e=>()=>{this.props.deleteUser(e)},this.state={}}render(){const e=this.props,t=e.classes,a=e.user;return o.a.createElement("div",{className:t.root},o.a.createElement(Ct.a,{container:!0,spacing:8},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{item:!0,xs:11},o.a.createElement(_n,{classes:t,type:"VEN"})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"primary",size:"small",className:t.button,fullWidth:!0,onClick:this.handleCreateUserClick},o.a.createElement(Et.a,null),"New")))),o.a.createElement(he.a,{style:{marginBottom:"30px",marginTop:"20px"}}),o.a.createElement(Wn,{user:a,classes:t,handleDeleteUser:this.handleDeleteUser}))}}var jn=zn,Kn=e=>{const t=e.classes,a=e.app;return console.log(e.app),o.a.createElement(Me.a,{className:t.root},o.a.createElement(Fn.a,{className:t.root},o.a.createElement("div",{className:t.title},o.a.createElement(ue.a,{variant:"h6",id:"tableTitle"},"Users")),o.a.createElement("div",{className:t.spacer}),o.a.createElement("div",{className:t.actions})),o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{align:"right"},"Common Name"),o.a.createElement(Mn.a,{align:"right"},"Username"),o.a.createElement(Mn.a,{align:"right"},"Authentication Method"),o.a.createElement(Mn.a,{align:"right"},"Roles"),o.a.createElement(Mn.a,{align:"right"}))),o.a.createElement(In.a,null,a.map(t=>o.a.createElement(Bn.a,{key:t.id},o.a.createElement(Mn.a,{align:"right"},t.commonName),o.a.createElement(Mn.a,{align:"right"},t.username),o.a.createElement(Mn.a,{align:"right"},t.authenticationType),o.a.createElement(Mn.a,{align:"right"},t.roles.map(e=>o.a.createElement("span",{key:e},e," ",o.a.createElement("br",null)))),o.a.createElement(Mn.a,{scope:"row",align:"right"},o.a.createElement(Te.a,{size:"small",color:"secondary",onClick:e.handleDeleteApp(t.username)}," REMOVE ")))))))};class Hn extends o.a.Component{constructor(e){super(e),this.handleCreateAppClick=()=>{W.push("/account/app/create")},this.handleDeleteApp=e=>()=>{this.props.deleteApp(e)},this.state={}}render(){const e=this.props,t=e.classes,a=e.app;return o.a.createElement("div",{className:t.root},o.a.createElement(Ct.a,{container:!0,spacing:8},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{item:!0,xs:11},o.a.createElement(_n,{classes:t,type:"VEN"})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"primary",size:"small",className:t.button,fullWidth:!0,onClick:this.handleCreateAppClick},o.a.createElement(Et.a,null),"New")))),o.a.createElement(he.a,{style:{marginBottom:"30px",marginTop:"20px"}}),o.a.createElement(Kn,{app:a,classes:t,handleDeleteApp:this.handleDeleteApp}))}}var Yn=Hn;function Xn(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class Qn extends o.a.Component{constructor(...e){super(...e),this.state={value:0},this.handleChange=(e,t)=>{switch(this.setState({value:t}),t){case 0:W.push("/account/user");break;case 1:W.push("/account/app")}}}componentDidMount(){switch(this.props.accountActions.loadAccountUser(),this.props.accountActions.loadAccountApp(),this.props.match.params.panel){case"user":this.setState({value:0});break;case"app":this.setState({value:1})}}render(){const e=this.props,t=e.classes,a=e.account,n=this.state.value;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"Users"}),o.a.createElement(me.a,{label:"Apps"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(Xn,null,o.a.createElement(jn,{classes:t,user:a.user,deleteUser:this.props.accountActions.deleteUser})),1===n&&o.a.createElement(Xn,null,o.a.createElement(Yn,{classes:t,app:a.app,deleteApp:this.props.accountActions.deleteApp})))}}var Jn=Object(g.connect)((function(e){return{account:e.account}}),(function(e){return{accountActions:Object(v.b)(n,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},stepper:{backgroundColor:"#fafafa"},warning:{backgroundColor:ge.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex"},iconButton:{marginTop:10}}))(Qn)),Zn=a(97),$n=a.n(Zn),er=a(98),tr=a.n(er),ar=a(99),nr=a.n(ar),rr=a(140),ir=a.n(rr),sr=a(51),lr=a.n(sr),or=a(232),cr=a.n(or),mr=a(426),pr=a.n(mr);const ur={boxSizing:"border-box",color:"rgba(0, 0, 0, 0.54)",fontSize:"1rem",fontWeight:400,lineHeight:1,transition:"color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms,transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms",transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left",top:0,left:0};var dr=e=>{const t=e.classes,a=e.identification,n=e.vtnConfiguration;var r=null;return n&&n.supportCertificateGeneration&&(r=[o.a.createElement(_e.a,{key:"generate_rsa_radio",value:"rsa",control:o.a.createElement(cr.a,{color:"primary"}),label:"Generate RSA certificate",labelPlacement:"end"}),o.a.createElement(_e.a,{key:"generate_ecc_radio",value:"ecc",control:o.a.createElement(cr.a,{color:"primary"}),label:"Generate ECC certificate",labelPlacement:"end"})]),o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(lr.a,{style:ur,component:"label"},"SSL Certificate"),o.a.createElement(pr.a,{"aria-label":"position",name:"position",value:a.needCertificateGeneration,onChange:t=>{var a=e.identification;a.needCertificateGeneration=t.target.value,e.onChange(a)},row:!0},o.a.createElement(_e.a,{value:"no",style:{marginLeft:0},control:o.a.createElement(cr.a,{color:"primary"}),label:"Provide Username",labelPlacement:"end"}),r))};class hr extends o.a.Component{constructor(...e){super(...e),this.handleNeedCertificateGenerationChange=e=>{var t=this.props.identification;t.needCertificateGeneration=e.target.value,this.props.onChange(t)},this.handleCommonNameChange=e=>{var t=this.props.identification;t.commonName=e.target.value,this.props.onChange(t)}}render(){const e=this.props,t=e.classes,a=e.identification,n=e.vtnConfiguration;return o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(et.a,{required:!0,id:"oadr_cn_textfield",fullWidth:!0,label:"User Common Name",placeholder:"user1.oadr.com",value:a.commonName,className:t.textField,error:this.props.hasError,onChange:this.handleCommonNameChange,InputLabelProps:{shrink:!0}}))),o.a.createElement(Ct.a,{item:!0,xs:4}),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(dr,{classes:t,identification:a,vtnConfiguration:n,onChange:this.props.onChange})),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(ir.a,{color:"disabled",style:{width:40,height:40}})),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(ue.a,{variant:"caption",gutterBottom:!0},"VEN MUST have a valid SSL certificate to securely communicate with VTN. VEN identifier (VenID) is a fingerprint of VEN certificate."),o.a.createElement(ue.a,{variant:"caption",gutterBottom:!0},"In case VEN certificate is not generated by VTN, user have to provide VenID corresponding to it's certificate fingerprint"),o.a.createElement(ue.a,{variant:"caption",gutterBottom:!0},"In case VEN certificate is generated by VTN, VenID will be computed after certificate generation. Ven Common Name is used as certificate CN subject entry Certificate will available for download at the confirmation of this form and only at that time. VTN can't re-generate certificate without re-creating a VEN.")),o.a.createElement(Ct.a,{item:!0,xs:2})))}}var Er=hr,gr=a(54),vr=a.n(gr);const fr={boxSizing:"border-box",color:"rgba(0, 0, 0, 0.54)",fontSize:"1rem",fontWeight:400,lineHeight:1,transition:"color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms,transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms",transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left",top:0,left:0};class Cr extends o.a.Component{constructor(...e){super(...e),this.handleAuthenticationTypeChange=e=>{var t=this.props.authentication;t.authenticationType=e.target.value,this.props.onChange(t)},this.handleAuthenticationPasswordChange=e=>{var t=this.props.authentication;t.authenticationPassword=e.target.value,this.props.onChange(t)},this.handleAuthenticationPasswordConfirmChange=e=>{var t=this.props.authentication;t.authenticationPasswordConfirm=e.target.value,this.props.onChange(t)},this.handleAuthenticationUsernameChange=e=>{console.log(e);var t=this.props.authentication;t.username=e.target.value,this.props.onChange(t)}}render(){const e=this.props,t=e.classes,a=e.hasError,n=e.identification,r=e.authentication;var i=[];for(var s in r.authenticationTypes){var l=r.authenticationTypes[s];i.push(o.a.createElement(cn.a,{key:s,value:s},l.label))}var c=null,m=null;return a&&"login"===r.authenticationType&&""===r.authenticationPassword&&(m=!0),"login"===r.authenticationType&&(c=o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(et.a,{required:!0,type:"password",id:"password_textfield",label:"Password",value:r.authenticationPassword,className:t.textField,error:m,onChange:this.handleAuthenticationPasswordChange,InputLabelProps:{shrink:!0}}))),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(et.a,{required:!0,type:"password",fullWidth:!0,id:"password_confirm_textfield",label:"Password Confirm",value:r.authenticationPasswordConfirm,className:t.textField,error:this.props.hasError,onChange:this.handleAuthenticationPasswordConfirmChange,InputLabelProps:{shrink:!0}}))),o.a.createElement(Ct.a,{item:!0,xs:2}))),o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(lr.a,{style:fr,component:"label"},"Authentication Method"),o.a.createElement(vr.a,{value:r.authenticationType,style:{marginTop:0},onChange:this.handleAuthenticationTypeChange,inputProps:{name:"VEN Authentication Type",id:"oadr_authentication_select"}},i))),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(et.a,{required:!0,id:"login_textfield",label:"Username",value:"no"!==n.needCertificateGeneration&&"login"!==r.authenticationType?"<generated>":r.username,disabled:"no"!==n.needCertificateGeneration,className:t.textField,onChange:this.handleAuthenticationUsernameChange,InputLabelProps:{shrink:!0}}))),o.a.createElement(Ct.a,{item:!0,xs:2})),c)}}var Tr=Cr;const Sr={boxSizing:"border-box",color:"rgba(0, 0, 0, 0.54)",fontSize:"1rem",fontWeight:400,lineHeight:1,transition:"color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms,transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms",transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left",top:0,left:0,marginTop:"-8px"};var Rr=[{name:"Admin",value:"ROLE_ADMIN"},{name:"Admin",value:"ROLE_ANONYMOUS"},{name:"Device Manager",value:"ROLE_DEVICE_MANAGER"},{name:"Demand Response Program",value:"ROLE_DRPROGRAM"}],br=e=>{const t=e.classes;return o.a.createElement(Me.a,{className:t.root},o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{align:"right"},"Role"),o.a.createElement(Mn.a,{align:"right"}))),o.a.createElement(In.a,null,e.roles.map((t,a)=>o.a.createElement(Bn.a,{key:a},o.a.createElement(Mn.a,{scope:"row",align:"right"},t),o.a.createElement(Mn.a,{scope:"row",align:"right"},o.a.createElement(Te.a,{size:"small",color:"secondary",onClick:e.removeRole(a)}," REMOVE ")))))))};class yr extends o.a.Component{constructor(e){super(e),this.clearRole=()=>{this.setState({selectedRole:""})},this.addRole=()=>{var e=this.props.roles;e.push(this.state.selectedRole),this.setState({selectedRole:""}),this.props.onChange(e)},this.removeRole=e=>()=>{var t=this.props.roles;t.splice(e,1),this.props.onChange(t)},this.handleSelectedRoleChange=e=>{this.setState({selectedRole:e.target.value})},this.state={selectedRole:""}}render(){const e=this.props.classes;return o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(ye.a,{className:e.formControl},o.a.createElement(lr.a,{style:Sr,component:"label"},"Select Role"),o.a.createElement(vr.a,{required:!0,value:this.state.selectedRole,style:{marginTop:0,width:"100%"},onChange:this.handleSelectedRoleChange,inputProps:{name:"signal_name_select",id:"signal_name_select"}},Rr.map((e,t)=>o.a.createElement(cn.a,{key:"menu_item_acceptable_role_"+e.value,value:e.value},e.name))))),""!==this.state.selectedRole?o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"primary",size:"small",fullWidth:!0,className:e.button,style:{marginTop:13},onClick:this.addRole},o.a.createElement(Et.a,null),"Create")):null,""!==this.state.selectedRole?o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(Te.a,{key:"btn_cancel",variant:"outlined",color:"secondary",size:"small",fullWidth:!0,className:e.button,style:{marginTop:13},onClick:this.clearRole},o.a.createElement(Et.a,null),"Cancel")):null,o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,spacing:24,style:{marginTop:20,marginBottom:10}},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(br,{roles:this.props.roles,classes:e,removeRole:this.removeRole})),o.a.createElement(Ct.a,{item:!0,xs:2})))}}var Ar=yr,_r=a(5),Nr=a.n(_r),xr=a(79),kr=a.n(xr),Or=a(224),Dr=a.n(Or);class Pr extends o.a.Component{render(){const e=this.props,t=e.classes,a=e.identification,n=e.authentication,r=e.roles;var i=e=>o.a.createElement(kr.a,{className:t.warning,style:{maxWidth:"none"},message:o.a.createElement("span",{id:"client-snackbar",className:t.message},o.a.createElement(Dr.a,{style:{width:40,height:40,marginRight:60},className:Nr()(t.icon,t.iconVariant)})," ",e.message)}),s=n.username,l=null,c=null,m=null;return"no"!==a.needCertificateGeneration?(m=o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3}),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(i,{message:o.a.createElement(ue.a,{gutterBottom:!0,style:{color:"white"}},o.a.createElement("strong",null,"Authentication using login / password is required.",o.a.createElement("br",null)," Username is used as user/app login"))})),o.a.createElement(Ct.a,{item:!0,xs:3})),s="<generated>",c=o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3}),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(i,{message:o.a.createElement(ue.a,{gutterBottom:!0,style:{color:"white"}},o.a.createElement("strong",null,"Certificate will be generated and can only be downloaded at the end of this form.",o.a.createElement("br",null)," Certificate can't be regenerated."))})),o.a.createElement(Ct.a,{item:!0,xs:3}))):(m=o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3}),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(i,{message:o.a.createElement(ue.a,{gutterBottom:!0,style:{color:"white"}},o.a.createElement("strong",null,"Authentication using x509 client certificate is required.",o.a.createElement("br",null)))})),o.a.createElement(Ct.a,{item:!0,xs:3})),l=o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3}),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(i,{message:o.a.createElement(ue.a,{gutterBottom:!0,style:{color:"white"}},o.a.createElement("strong",null,"Certificate won't be generated.",o.a.createElement("br",null)," Provided username MUST match with user/app certificate fingerprint"))})),o.a.createElement(Ct.a,{item:!0,xs:3}))),o.a.createElement("div",null,o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:1}),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(et.a,{label:"Authentication",value:n.authenticationType,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(et.a,{label:"Common Name",value:a.commonName,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(et.a,{label:"Username",value:s,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20,marginBottom:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20,marginBottom:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(et.a,{label:"Roles",value:r,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20,marginBottom:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),m,o.a.createElement(Ct.a,{container:!0,style:{marginTop:20,marginBottom:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),l,c))}}var Vr=Pr;const Ir={x509:{label:"Client certificate authentication"},login:{label:"Login / Password authentication"}};class wr extends o.a.Component{constructor(e){super(e),this.handleCreateUser=()=>{const e=this.state,t=e.identification,a=e.authentication,n=e.roles;var r={commonName:t.venCommonName,needCertificateGeneration:t.needCertificateGeneration,oadrProfil:t.venOadrProfile,authenticationType:a.authenticationType,username:a.username,roles:n};"login"===a.authenticationType&&(r.password=a.authenticationPassword),this.props.createUser(r)},this.handleFinish=()=>{this.handleCreateUser()},this.handleNext=()=>{const e=this.state.activeStep;e===["Identification settings","Authentication settings","Roles settings","Confirmation"].length-1?this.handleFinish():this.setState({activeStep:e+1})},this.handleBack=()=>{this.setState(e=>({activeStep:e.activeStep-1}))},this.handleReset=()=>{this.setState({activeStep:0})},this.handleIndentificationStepChange=e=>{this.setState({identification:e})},this.handleAuthenticationStepChange=e=>{this.setState({authentication:e})},this.handleRoleStepChange=e=>{this.setState({roles:e})},this.state={activeStep:0,identification:{commonName:"",needCertificateGeneration:"rsa"},authentication:{username:"",authenticationTypes:Ir,authenticationType:"x509",authenticationPassword:"",authenticationPasswordConfirm:""},roles:[]}}render(){const e=this.props,t=e.classes,a=e.vtnConfiguration,n=["Identification settings","Authentication settings","Roles settings","Confirmation"],r=this.state.activeStep;var i,s=this;return o.a.createElement("div",{className:t.root},o.a.createElement($n.a,{activeStep:r,className:t.stepper},n.map((e,t)=>{const a={},n={};return a.completed=!1,o.a.createElement(tr.a,Object.assign({key:e},a),o.a.createElement(nr.a,n,e))})),o.a.createElement("div",null,r===n.length?o.a.createElement("div",null,o.a.createElement(ue.a,{className:t.instructions},"All steps completed - you're finished"),o.a.createElement(Te.a,{onClick:this.handleReset,className:t.button},"Reset")):o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(Te.a,{disabled:0===r,onClick:this.handleBack,className:t.button},"Back"),o.a.createElement(Te.a,{variant:"contained",color:"primary",onClick:(i=r,e=>{!function(e){switch(e){case 0:case 1:case 2:case 3:return!0;default:return!1}}(i)?s.setState({hasError:!0}):(s.state.hasError&&s.setState({hasError:!1}),s.handleNext(e))}),className:t.button},r===n.length-1?"Create User":"Next")),o.a.createElement(ue.a,{component:"div",className:t.instructions},o.a.createElement(Me.a,{elevation:1,style:{padding:"20px 0px"}},function(e){switch(e){case 0:return o.a.createElement(Er,{classes:t,identification:s.state.identification,onChange:s.handleIndentificationStepChange,vtnConfiguration:a});case 1:return o.a.createElement(Tr,{classes:t,identification:s.state.identification,authentication:s.state.authentication,onChange:s.handleAuthenticationStepChange});case 2:return o.a.createElement(Ar,{classes:t,roles:s.state.roles,onChange:s.handleRoleStepChange});case 3:return o.a.createElement(Vr,{classes:t,identification:s.state.identification,authentication:s.state.authentication,roles:s.state.roles});default:return"Unknown step"}}(r))))))}}var Mr=wr;function Lr(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class Ur extends o.a.Component{constructor(...e){super(...e),this.state={value:0},this.handleChange=(e,t)=>{this.setState({value:t})}}componentDidMount(){this.props.vtnConfigurationActions.loadVtnConfiguration()}render(){const e=this.props,t=e.classes,a=e.account_create,n=this.state.value;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"User Create"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(Lr,null,o.a.createElement(Mr,{classes:t,vtnConfiguration:a.parameters,createUser:this.props.accountActions.createUser})))}}var Gr=Object(g.connect)((function(e){return{account_create:e.account_create}}),(function(e){return{accountActions:Object(v.b)(n,e),vtnConfigurationActions:Object(v.b)(r,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},stepper:{backgroundColor:"#fafafa"},warning:{backgroundColor:ge.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex"},iconButton:{marginTop:10}}))(Ur));class Br extends o.a.Component{constructor(...e){super(...e),this.handleCommonNameChange=e=>{var t=this.props.identification;t.commonName=e.target.value,this.props.onChange(t)}}render(){const e=this.props,t=e.classes,a=e.identification,n=e.vtnConfiguration;return o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(et.a,{required:!0,id:"oadr_cn_textfield",fullWidth:!0,label:"App Common Name",placeholder:"myven.oadr.com",value:a.commonName,className:t.textField,error:this.props.hasError,onChange:this.handleCommonNameChange,InputLabelProps:{shrink:!0}}))),o.a.createElement(Ct.a,{item:!0,xs:4}),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(dr,{classes:t,identification:a,vtnConfiguration:n,onChange:this.props.onChange})),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(ir.a,{color:"disabled",style:{width:40,height:40}})),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(ue.a,{variant:"caption",gutterBottom:!0},"VEN MUST have a valid SSL certificate to securely communicate with VTN. VEN identifier (VenID) is a fingerprint of VEN certificate."),o.a.createElement(ue.a,{variant:"caption",gutterBottom:!0},"In case VEN certificate is not generated by VTN, user have to provide VenID corresponding to it's certificate fingerprint"),o.a.createElement(ue.a,{variant:"caption",gutterBottom:!0},"In case VEN certificate is generated by VTN, VenID will be computed after certificate generation. Ven Common Name is used as certificate CN subject entry Certificate will available for download at the confirmation of this form and only at that time. VTN can't re-generate certificate without re-creating a VEN.")),o.a.createElement(Ct.a,{item:!0,xs:2})))}}var qr=Br;const Fr={x509:{label:"Client certificate authentication"},login:{label:"Login / Password authentication"}};class Wr extends o.a.Component{constructor(e){super(e),this.handleCreateApp=()=>{const e=this.state,t=e.identification,a=e.authentication,n=e.roles;var r={commonName:t.venCommonName,needCertificateGeneration:t.needCertificateGeneration,authenticationType:a.authenticationType,username:a.username,roles:n};"login"===a.authenticationType&&(r.password=a.authenticationPassword),this.props.createApp(r)},this.handleFinish=()=>{this.handleCreateApp()},this.handleNext=()=>{const e=this.state.activeStep;e===["Identification settings","Authentication settings","Roles settings","Confirmation"].length-1?this.handleFinish():this.setState({activeStep:e+1})},this.handleBack=()=>{this.setState(e=>({activeStep:e.activeStep-1}))},this.handleReset=()=>{this.setState({activeStep:0})},this.handleIndentificationStepChange=e=>{this.setState({identification:e})},this.handleAuthenticationStepChange=e=>{this.setState({authentication:e})},this.handleRoleStepChange=e=>{this.setState({roles:e})},this.state={activeStep:0,identification:{commonName:"",needCertificateGeneration:"rsa"},authentication:{username:"",authenticationTypes:Fr,authenticationType:"x509",authenticationPassword:"",authenticationPasswordConfirm:""},roles:[]}}render(){const e=this.props,t=e.classes,a=e.vtnConfiguration,n=["Identification settings","Authentication settings","Roles settings","Confirmation"],r=this.state.activeStep;var i,s=this;return o.a.createElement("div",{className:t.root},o.a.createElement($n.a,{activeStep:r,className:t.stepper},n.map((e,t)=>{const a={},n={};return a.completed=!1,o.a.createElement(tr.a,Object.assign({key:e},a),o.a.createElement(nr.a,n,e))})),o.a.createElement("div",null,r===n.length?o.a.createElement("div",null,o.a.createElement(ue.a,{className:t.instructions},"All steps completed - you're finished"),o.a.createElement(Te.a,{onClick:this.handleReset,className:t.button},"Reset")):o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(Te.a,{disabled:0===r,onClick:this.handleBack,className:t.button},"Back"),o.a.createElement(Te.a,{variant:"contained",color:"primary",onClick:(i=r,e=>{!function(e){switch(e){case 0:case 1:case 2:case 3:return!0;default:return!1}}(i)?s.setState({hasError:!0}):(s.state.hasError&&s.setState({hasError:!1}),s.handleNext(e))}),className:t.button},r===n.length-1?"Create App":"Next")),o.a.createElement(ue.a,{component:"div",className:t.instructions},o.a.createElement(Me.a,{elevation:1,style:{padding:"20px 0px"}},function(e){switch(e){case 0:return o.a.createElement(qr,{classes:t,identification:s.state.identification,onChange:s.handleIndentificationStepChange,vtnConfiguration:a});case 1:return o.a.createElement(Tr,{classes:t,authentication:s.state.authentication,identification:s.state.identification,onChange:s.handleAuthenticationStepChange});case 2:return o.a.createElement(Ar,{classes:t,roles:s.state.roles,onChange:s.handleRoleStepChange});case 3:return o.a.createElement(Vr,{classes:t,identification:s.state.identification,authentication:s.state.authentication,roles:s.state.roles});default:return"Unknown step"}}(r))))))}}var zr=Wr;function jr(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class Kr extends o.a.Component{constructor(...e){super(...e),this.state={value:0},this.handleChange=(e,t)=>{this.setState({value:t})}}componentDidMount(){this.props.vtnConfigurationActions.loadVtnConfiguration()}render(){const e=this.props,t=e.classes,a=e.account_create,n=this.state.value;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"App Create"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(jr,null,o.a.createElement(zr,{classes:t,vtnConfiguration:a.parameters,createApp:this.props.accountActions.createApp})))}}var Hr=Object(g.connect)((function(e){return{account_create:e.account_create}}),(function(e){return{accountActions:Object(v.b)(n,e),vtnConfigurationActions:Object(v.b)(r,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},stepper:{backgroundColor:"#fafafa"},warning:{backgroundColor:ge.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex"},iconButton:{marginTop:10}}))(Kr));class Yr extends o.a.Component{constructor(...e){super(...e),this.handleCreateEventClick=()=>{W.push("/event/create")}}render(){const e=this.props,t=e.classes,a=e.marketContext,n=e.ven;return o.a.createElement("div",null,o.a.createElement(Ct.a,{container:!0,spacing:8},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{item:!0,xs:11},o.a.createElement(_n,{classes:t,type:"EVENT",hasFilter:{marketContext:!0,ven:!0,eventStatus:!0},marketContext:a,filter:this.props.filters,onFilterChange:this.props.onFilterChange,ven:n,onVenSuggestionsFetchRequested:this.props.onVenSuggestionsFetchRequested,onVenSuggestionsClearRequested:this.props.onVenSuggestionsClearRequested,onVenSuggestionsSelect:this.props.onVenSuggestionsSelect})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"primary",size:"small",fullWidth:!0,className:t.button,onClick:this.handleCreateEventClick},o.a.createElement(Et.a,null),"New")))))}}var Xr=Yr,Qr=a(30),Jr=a.n(Qr);class Zr extends o.a.Component{constructor(e){super(e),this.handleEditEvent=e=>()=>{W.push("/event/detail/"+e)},this.handleDeleteEvent=e=>()=>{this.props.deleteEvent(e)},this.handleViewChange=e=>()=>{this.props.onViewChange(e)},this.getTitle=()=>{switch(this.props.view){case"month":return Jr()(this.props.currentDate).format("YYYY MMMM");case"week":let e=Jr()(this.props.currentDate).startOf(this.props.view),t=Jr()(this.props.currentDate).endOf(this.props.view);return e.format("MMM Do")+" - "+t.format("MMM Do");case"day":return Jr()(this.props.currentDate).format("dddd MMM DD");default:return Jr()(this.props.currentDate).format("YYYY MMMM")}},this.getNext=()=>{var e=Jr()(this.props.currentDate).add(1,this.props.view).toDate();this.props.onCurrentDateChange(e)},this.getBack=()=>{var e=Jr()(this.props.currentDate).add(-1,this.props.view).toDate();this.props.onCurrentDateChange(e)},this.getToday=()=>{var e=new Date;this.props.onCurrentDateChange(e)},this.state={}}render(){const e=this.props,t=e.classes,a=e.marketContext,n=e.event,r=e.ven,i=e.filters,s=e.pagination,l=e.onFilterChange,c=e.onPaginationChange,m=e.onVenSuggestionsFetchRequested,p=e.onVenSuggestionsClearRequested,u=e.onVenSuggestionsSelect;var d=[];for(var h in n){var E=n[h];d.push(o.a.createElement($t,{key:"event_card_"+E.id,classes:t,event:E,handleEditEvent:this.handleEditEvent(E.id),handleDeleteEvent:this.handleDeleteEvent(E.id)}))}return o.a.createElement("div",{className:t.root},o.a.createElement(Xr,{classes:t,marketContext:a,event:n,filters:i,pagination:s,onFilterChange:l,onPaginationChange:c,ven:r,onVenSuggestionsFetchRequested:m,onVenSuggestionsClearRequested:p,onVenSuggestionsSelect:u}),o.a.createElement(he.a,{style:{marginBottom:"20px",marginTop:"20px"}}),o.a.createElement("div",{className:"rbc-calendar"},o.a.createElement("div",{className:"rbc-toolbar"},o.a.createElement("span",{className:"rbc-btn-group"},o.a.createElement("button",{type:"button",onClick:this.getToday},"Today"),o.a.createElement("button",{type:"button",onClick:this.getBack},"Back"),o.a.createElement("button",{type:"button",onClick:this.getNext},"Next")),o.a.createElement("span",{className:"rbc-toolbar-label "},o.a.createElement("span",{style:{paddingTop:10}},this.getTitle()),o.a.createElement("span",{className:"rbc-btn-group",style:{float:"right",visibility:"hidden"}},o.a.createElement("button",{type:"button"},"Color Status"),o.a.createElement("button",{type:"button"},"Color Market"))),o.a.createElement("span",{className:"rbc-btn-group"},o.a.createElement("button",{type:"button",className:"month"===this.state.view?"rbc-active":"",onClick:this.handleViewChange("month")},"Month"),o.a.createElement("button",{type:"button",className:"week"===this.state.view?"rbc-active":"",onClick:this.handleViewChange("week")},"Week"),o.a.createElement("button",{type:"button",className:"day"===this.state.view?"rbc-active":"",onClick:this.handleViewChange("day")},"Day"),o.a.createElement("button",{type:"button",style:{visibility:"hidden"}},"Agenda")))),o.a.createElement(pt.a,{style:{justifyContent:"left"}},d))}}var $r=Zr,ei=a(48),ti=(a(949),a(172)),ai=a.n(ti),ni=a(73),ri=a.n(ni),ii=a(227),si=a.n(ii);class li extends o.a.Component{render(){let e=this.props.date,t=li.range(e);return o.a.createElement(si.a,Object.assign({},this.props,{range:t,eventOffset:15}))}}li.range=e=>{let t=Jr()(e).startOf("week"),a=Jr()(t.toDate());a.add(7,"day");let n=Jr()(t.toDate()),r=[];for(;n.toDate().getTime()<a.toDate().getTime();)r.push(n.toDate()),n.add(1,"day");return r},li.navigate=(e,t)=>{let a=Jr()(new Date(e));switch(t){case ei.a.Navigate.PREVIOUS:return a.add(-7,"day"),a.toDate();case ei.a.Navigate.NEXT:return a.add(7,"day"),a.toDate();case ei.a.Navigate.TODAY:return console.log("today"),e=new Date;default:return e}},li.title=e=>{let t=Jr()(e).startOf("week"),a=Jr()(t.toDate());return a.add(7,"day"),o.a.createElement("span",null,o.a.createElement("span",{style:{paddingTop:10}},t.format("MMM Do")," - ",a.format("MMM Do")),o.a.createElement("span",{className:"rbc-btn-group",style:{float:"right"}},o.a.createElement("button",{type:"button",className:"status"===li.color?"rbc-active":"",onClick:e=>{li.onColorChange("status")}},"Color Status"),o.a.createElement("button",{type:"button",className:"market"===li.color?"rbc-active":"",onClick:e=>{li.onColorChange("market")}},"Color Market")))};var oi=li;class ci extends o.a.Component{render(){let e=this.props.date,t=ci.range(e);return o.a.createElement(si.a,Object.assign({},this.props,{range:t,eventOffset:10}))}}ci.range=e=>[Jr()(e).startOf("day").toDate()],ci.navigate=(e,t)=>{let a=Jr()(new Date(e));switch(t){case ei.a.Navigate.PREVIOUS:return a.add(-1,"day"),a.toDate();case ei.a.Navigate.NEXT:return a.add(1,"day"),a.toDate();case ei.a.Navigate.TODAY:return e=new Date;default:return e}},ci.title=e=>o.a.createElement("span",null,o.a.createElement("span",{style:{paddingTop:10}},Jr()(e).format("dddd MMM DD")),o.a.createElement("span",{className:"rbc-btn-group",style:{float:"right"}},o.a.createElement("button",{type:"button",className:"status"===ci.color?"rbc-active":"",onClick:e=>{ci.onColorChange("status")}},"Color Status"),o.a.createElement("button",{type:"button",className:"market"===ci.color?"rbc-active":"",onClick:e=>{ci.onColorChange("market")}},"Color Market")));var mi=ci,pi=a(432),ui=a.n(pi);class di extends ui.a{}di.range=e=>{let t=Jr()(e).startOf("month"),a=Jr()(e).endOf("month"),n=Jr()(t.toDate()),r=[];for(;n.toDate().getTime()<a.toDate().getTime();)r.push(n.toDate()),n.add(1,"day");return r},di.navigate=(e,t)=>{let a=Jr()(new Date(e));switch(t){case ei.a.Navigate.PREVIOUS:return a.add(-1,"month"),a.toDate();case ei.a.Navigate.NEXT:return a.add(1,"month"),a.toDate();case ei.a.Navigate.TODAY:return e=new Date;default:return e}},di.title=e=>o.a.createElement("span",null,o.a.createElement("span",{style:{paddingTop:10}},Jr()(e).format("YYYY MMMM")),o.a.createElement("span",{className:"rbc-btn-group",style:{float:"right"}},o.a.createElement("button",{type:"button",className:"status"===di.color?"rbc-active":"",onClick:e=>{di.onColorChange("status")}},"Color Status"),o.a.createElement("button",{type:"button",className:"market"===di.color?"rbc-active":"",onClick:e=>{di.onColorChange("market")}},"Color Market")));var hi=di,Ei=a(433),gi=a.n(Ei);class vi extends gi.a{}vi.range=e=>{let t=Jr()(e).startOf("week"),a=Jr()(t.toDate());a.add(7,"day");let n=Jr()(t.toDate()),r=[];for(;n.toDate().getTime()<a.toDate().getTime();)r.push(n.toDate()),n.add(1,"day");return r},vi.navigate=(e,t)=>{let a=Jr()(new Date(e));switch(t){case ei.a.Navigate.PREVIOUS:return a.add(-7,"day"),a.toDate();case ei.a.Navigate.NEXT:return a.add(7,"day"),a.toDate();case ei.a.Navigate.TODAY:return e=new Date;default:return e}},vi.title=e=>{let t=Jr()(e).startOf("week"),a=Jr()(t.toDate());return a.add(7,"day"),o.a.createElement("span",null,o.a.createElement("span",{style:{paddingTop:10}},t.format("M/D/YYYY")," - ",a.format("M/D/YYYY")),o.a.createElement("span",{className:"rbc-btn-group",style:{float:"right"}},o.a.createElement("button",{type:"button",className:"status"===vi.color?"rbc-active":"",onClick:e=>{vi.onColorChange("status")}},"Color Status"),o.a.createElement("button",{type:"button",className:"market"===vi.color?"rbc-active":"",onClick:e=>{vi.onColorChange("market")}},"Color Market")))};var fi=vi;const Ci=ei.a.momentLocalizer(Jr.a);var Ti={};class Si extends o.a.Component{constructor(e){super(e),this.handleEventCalendarDialogClose=()=>{this.setState({eventCalendarDialog:!1})},this.handleEditEvent=e=>()=>{W.push("/event/detail/"+e)},this.getEventPropGetter=(e,t,a,n)=>{if("status"===this.props.color){var r,i=700;return n&&(i=500),e.published?"ACTIVE"===e.state?r=ri.a[i]:"CANCELLED"===e.state&&(r=ai.a[i]):r=ge.a[i],{style:{backgroundColor:r}}}return{style:{backgroundColor:Ti[e.marketContext]}}},this.handleSelectEvent=e=>{this.setState({eventCalendarDialog:!0,selectedEvent:e})},this.handleEventDetailClick=e=>()=>{W.push("/event/detail/"+e)},this.state={},this.state.eventCalendarDialog=!1,this.state.selectedEvent=null}componentDidUpdate(e,t,a){for(var n in Ti={},this.props.marketContext){var r=this.props.marketContext[n];Ti[r.name]=r.color}}render(){var e=this;const t=this.props,a=t.classes,n=t.marketContext,r=t.event,i=t.ven,s=t.filters,l=t.pagination,c=t.onFilterChange,m=t.onPaginationChange,p=t.onVenSuggestionsFetchRequested,u=t.onVenSuggestionsClearRequested,d=t.onVenSuggestionsSelect;var h=[];return r.forEach(e=>{var t=new Date;t.setTime(e.activePeriod.start);var a=new Date;a.setTime(e.activePeriod.start+1e3*zt(e.activePeriod.duration)),h.push({title:e.descriptor.marketContext+":"+e.id,start:t,end:a,allday:!1,state:e.descriptor.state,published:e.published,marketContext:e.descriptor.marketContext,id:e.id})}),oi.onColorChange=this.props.onColorChange,oi.color=this.props.color,mi.onColorChange=this.props.onColorChange,mi.color=this.props.color,hi.onColorChange=this.props.onColorChange,hi.color=this.props.color,fi.onColorChange=this.props.onColorChange,fi.color=this.props.color,o.a.createElement("div",{className:a.root},o.a.createElement(Xr,{classes:a,marketContext:n,event:r,filters:s,pagination:l,onFilterChange:c,onPaginationChange:m,ven:i,onVenSuggestionsFetchRequested:p,onVenSuggestionsClearRequested:u,onVenSuggestionsSelect:d}),o.a.createElement(he.a,{style:{marginBottom:"20px",marginTop:"20px"}}),o.a.createElement(ei.a,{style:{height:600},localizer:Ci,events:h,defaultView:this.props.view,defaultDate:this.props.currentDate,startAccessor:"start",endAccessor:"end",eventPropGetter:this.getEventPropGetter,onSelectEvent:this.handleSelectEvent,views:{month:hi,week:oi,day:mi,agenda:fi},onNavigate:t=>{e.props.onCurrentDateChange(t)},onView:t=>{e.props.onViewChange(t)}}),this.state.selectedEvent?o.a.createElement(Tn,{classes:a,title:this.state.selectedEvent?this.state.selectedEvent.title:"",event:this.state.selectedEvent,open:this.state.eventCalendarDialog,close:this.handleEventCalendarDialogClose,handleEventDetailClick:this.handleEventDetailClick(this.state.selectedEvent.id)}):null)}}var Ri=Si;function bi(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class yi extends o.a.Component{constructor(e){super(e),this.handleChange=(e,t)=>{switch(this.setState({value:t}),t){case 0:W.push("/event/list");break;case 1:W.push("/event/calendar")}},this.refreshEvent=()=>{this.props.eventActions.searchEvent(this.state.filters,this.state.start,this.state.end,this.state.pagination.page,this.state.pagination.size)},this.onFilterChange=e=>{this.setState({filters:e}),this.refreshEvent()},this.onPaginationChange=e=>{this.setState({pagination:e}),this.refreshEvent()},this.onVenSuggestionsFetchRequested=e=>{var t=this.state.filters.splice(0);t.push({type:"VEN",value:e.value}),this.props.venActions.searchVen(t,0,5)},this.onVenSuggestionsClearRequested=()=>{},this.onVenSuggestionsSelect=e=>{var t=this.state.filters;t.push({type:"VEN",value:e.username}),this.setState({filters:t}),this.refreshEvent()},this.onColorChange=e=>{this.setState({color:e})},this.onViewChange=e=>{this.setState({view:e});var t=this.getRequestDateRange(this.state.currentDate,e);console.log(e),this.props.eventActions.searchEvent(this.state.filters,t.start,t.end,this.state.pagination.page,this.state.pagination.size)},this.getRequestDateRange=(e,t)=>{var a;switch(t){case"month":case"week":case"day":return{start:(a=Jr()(e)).startOf(t).toDate().getTime(),end:a.endOf(t).toDate().getTime()};case"agenda":return{start:(a=Jr()(e).startOf("day")).toDate().getTime(),end:a.add(2,"week").toDate().getTime()}}},this.onCurrentDateChange=e=>{this.setState({currentDate:e});var t=this.getRequestDateRange(e,this.state.view);this.props.eventActions.searchEvent(this.state.filters,t.start,t.end,this.state.pagination.page,this.state.pagination.size)},this.state={},this.state.value=0,this.state.filters=[],e.location.state&&e.location.state.filters.length>0&&(this.state.filters=this.state.filters.concat(e.location.state.filters)),this.state.pagination={page:0,size:100},this.state.color="status",this.state.view="week",this.state.currentDate=new Date}componentDidMount(){switch(this.props.vtnConfigurationActions.loadMarketContext(),this.refreshEvent(),this.props.match.params.panel){case"list":this.setState({value:0});break;case"calendar":this.setState({value:1})}}render(){const e=this.props,t=e.classes,a=e.event,n=this.state.value;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"Events"}),o.a.createElement(me.a,{label:"Calendar"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(bi,null,o.a.createElement($r,{classes:t,marketContext:a.marketContext,event:a.event,deleteEvent:this.props.eventActions.deleteEvent,filters:this.state.filters,pagination:this.state.pagination,onFilterChange:this.onFilterChange,onPaginationChange:this.onPaginationChange,ven:a.ven,onVenSuggestionsFetchRequested:this.onVenSuggestionsFetchRequested,onVenSuggestionsClearRequested:this.onVenSuggestionsClearRequested,onVenSuggestionsSelect:this.onVenSuggestionsSelect,color:this.state.color,view:this.state.view,currentDate:this.state.currentDate,onColorChange:this.onColorChange,onViewChange:this.onViewChange,onCurrentDateChange:this.onCurrentDateChange})),1===n&&o.a.createElement(bi,null,o.a.createElement(Ri,{classes:t,marketContext:a.marketContext,event:a.event,deleteEvent:this.props.eventActions.deleteEvent,filters:this.state.filters,pagination:this.state.pagination,onFilterChange:this.onFilterChange,onPaginationChange:this.onPaginationChange,ven:a.ven,onVenSuggestionsFetchRequested:this.onVenSuggestionsFetchRequested,onVenSuggestionsClearRequested:this.onVenSuggestionsClearRequested,onVenSuggestionsSelect:this.onVenSuggestionsSelect,color:this.state.color,view:this.state.view,currentDate:this.state.currentDate,onColorChange:this.onColorChange,onViewChange:this.onViewChange,onCurrentDateChange:this.onCurrentDateChange})))}}var Ai=Object(g.connect)((function(e){return{event:e.event}}),(function(e){return{vtnConfigurationActions:Object(v.b)(r,e),eventActions:Object(v.b)(s,e),venActions:Object(v.b)(i,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit,minWidth:500},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},iconButton:{marginTop:10}}))(yi)),_i=a(37),Ni=a.n(_i);class xi extends o.a.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.classes,a=e.event;var n,r=e=>o.a.createElement(kr.a,{className:t.success,style:{maxWidth:"none",paddingTop:0,paddingBottom:0},message:o.a.createElement(Ct.a,{container:!0,direction:"row",alignItems:"center"},o.a.createElement(Ct.a,{item:!0},o.a.createElement(st.a,{style:{width:20,height:20,marginRight:20,color:"#fff"}})),o.a.createElement(Ct.a,{item:!0},e.message))}),i=e=>o.a.createElement(kr.a,{className:t.error,style:{maxWidth:"none",paddingTop:0,paddingBottom:0},message:o.a.createElement(Ct.a,{container:!0,direction:"row",alignItems:"center"},o.a.createElement(Ct.a,{item:!0},o.a.createElement(st.a,{style:{width:20,height:20,marginRight:20,color:"#fff"}})),o.a.createElement(Ct.a,{item:!0},e.message))}),s=e=>o.a.createElement(kr.a,{className:t.success,style:{maxWidth:"none",paddingTop:0,paddingBottom:0,backgroundColor:ge.a[700]},message:o.a.createElement(Ct.a,{container:!0,direction:"row",alignItems:"center"},o.a.createElement(Ct.a,{item:!0},o.a.createElement(vt.a,{style:{width:20,height:20,marginRight:20,color:"#fff"}})),o.a.createElement(Ct.a,{item:!0},e.message))}),l=null;return a.published?"ACTIVE"===a.descriptor.state?l=o.a.createElement(r,{message:o.a.createElement(ue.a,{component:"span",style:{color:"#fff"}},o.a.createElement("strong",null,"ACTIVE"))}):"CANCELLED"===a.descriptor.state&&(l=o.a.createElement(i,{message:o.a.createElement(ue.a,{component:"span",style:{color:"#fff"}},o.a.createElement("strong",null,"CANCELLED"))})):l=o.a.createElement(s,{message:o.a.createElement(ue.a,{component:"span",style:{color:"#fff"}},o.a.createElement("strong",null,a.descriptor.state))}),n=this.props.actions,o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,lg:4,md:6},o.a.createElement($t,{key:"ven_card_",classes:t,event:a})),o.a.createElement(Ct.a,{item:!0,lg:8,md:6},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:4},l)),n))))}}var ki=xi,Oi=e=>{var t=null!=e.value?e.value:"";return o.a.createElement(et.a,{label:e.field,value:t,className:e.className,margin:"normal",fullWidth:!0,InputProps:{readOnly:!0}})};class Di extends o.a.Component{constructor(e){super(e),this.handlePublishEventClick=()=>{this.props.publishEvent(this.props.event.id)},this.handleActiveEventClick=()=>{this.props.activeEvent(this.props.event.id)},this.handleCancelEventClick=()=>{this.props.cancelEvent(this.props.event.id)},this.state={}}render(){const e=this.props,t=e.classes,a=e.event;if(0===Object.keys(a).length)return null;var n=Yt(a.createdTimestamp),r=Yt(a.lastUpdateTimestamp);return o.a.createElement("div",{className:t.root},o.a.createElement(ki,{classes:t,event:a,actions:o.a.createElement(Ct.a,{container:!0,spacing:24},a.published?null:o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:this.handlePublishEventClick},o.a.createElement(Ni.a,{style:{marginRight:15}})," PUBLISH")),a.published&&"ACTIVE"===a.descriptor.state?o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"secondary",fullWidth:!0,size:"small",onClick:this.handleCancelEventClick},o.a.createElement(Ni.a,{style:{marginRight:15}})," CANCEL")):null,a.published&&"CANCELLED"===a.descriptor.state?o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:this.handleActiveEventClick},o.a.createElement(Ni.a,{style:{marginRight:15}})," ACTIVE")):null)}),o.a.createElement(he.a,{style:{marginTop:"20px"}}),o.a.createElement(Ct.a,null,o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Oi,{className:t.textField,field:"Event ID",value:a.id})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Oi,{className:t.textField,field:"Modification Number",value:a.descriptor.modificationNumber})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Oi,{className:t.textField,field:"Oadr Profile",value:a.descriptor.oadrProfile})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(Oi,{className:t.textField,field:"Priority",value:a.descriptor.priority})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(Oi,{className:t.textField,field:"State",value:a.descriptor.state}))),o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Oi,{className:t.textField,field:"Created Datetime",value:n.date+" "+n.time+" "+n.tz})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Oi,{className:t.textField,field:"Last Update Datetime",value:r.date+" "+r.time+" "+r.tz})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Oi,{className:t.textField,field:"Vtn Comment",value:a.descriptor.vtnComment})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(Oi,{className:t.textField,field:"Is Test Event",value:a.descriptor.testEvent})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(Oi,{className:t.textField,field:"Response Required",value:a.descriptor.responseRequired})))))}}var Pi=Di,Vi=e=>{var t=null!=e.value?e.value:"";return o.a.createElement(et.a,{label:e.field,value:t,className:e.className,margin:"normal",fullWidth:!0,InputProps:{readOnly:!0}})};class Ii extends o.a.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.classes,a=e.event;var n=Yt(a.activePeriod.start),r=!1;return null==a.activePeriod.notificationDuration&&null==a.activePeriod.rampUpDuration&&null==a.activePeriod.recoveryDuration&&null==a.activePeriod.toleranceDuration||(r=!0),o.a.createElement("div",{className:t.root},o.a.createElement(ki,{classes:t,event:a}),o.a.createElement(he.a,{style:{marginTop:"20px"}}),o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Vi,{className:t.textField,field:"Start Datetime",value:n.date+" "+n.time+" "+n.tz})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Vi,{className:t.textField,field:"Duration",value:a.activePeriod.duration})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(_e.a,{control:o.a.createElement(xe.a,{checked:r,value:"advancedActivePeriod",color:"primary"}),label:"Advanced Active Period"}))),r?o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Vi,{className:t.textField,field:"Notification Duration",value:a.activePeriod.notificationDuration})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Vi,{className:t.textField,field:"Ramp Up Duration",value:a.activePeriod.rampUpDuration})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Vi,{className:t.textField,field:"Recovery Duration",value:a.activePeriod.recoveryDuration})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Vi,{className:t.textField,field:"Tolerance Duration",value:a.activePeriod.toleranceDuration}))):null,o.a.createElement(he.a,{style:{marginTop:"20px"}}))}}var wi=Ii,Mi=a(78);const Li=[{name:"delta",label:"Delta",description:"Signal indicates the amount to change from what one would have used without the signal"},{name:"level",label:"Level",description:"Signal indicates a program level"},{name:"multiplier",label:"Multiplier",description:"Signal indicates a multiplier applied to the current rate of delivery or usage from what one would have used without the signal"},{name:"price",label:"Price",description:"Signal indicates the price"},{name:"priceMultiplier",label:"Price Multiplier",description:"Signal indicates the price multiplier. Extended price is the computed price value multiplied by the number of units"},{name:"priceRelative",label:"Price Relative",description:"Signal indicates the relative price"},{name:"setpoint",label:"Set Point",description:"Signal indicates a target amount of units"},{name:"x-loadControlCapacity",label:"Load Control Capacity",description:"This is an instruction for the load controller to operate at a level that is some percentage of its maximum load consumption capacity. This can be mapped to specific load controllers to do things like duty cycling. Note that 1.0 refers to 100% consumption. In the case of simple ON/OFF type devices then 0 = OFF and 1 = ON"},{name:"x-loadControlLevelOffset",label:"Load Control Level Offset",description:"Discrete integer levels that are relative to normal operations where 0 is normal operations"},{name:"x-loadControlPercentOffset",label:"Load Control Percent Offset",description:"Percentage change from normal load control operations"},{name:"x-loadControlSetPoint",label:"Load Control Set Point",description:"Load controller set points"}],Ui=[{name:"BID_ENERGY",label:"Bid Energy",description:"This is the amount of energy from a resource that was bid into a program"},{name:"BID_LOAD",label:"Bid Load",description:"This is the amount of load that was bid by a resource into a program"},{name:"BID_PRICE",label:"Bid Price",description:"This is the price that was bid by the resource"},{name:"CHARGE_STATE",label:"Charge State",description:"State of energy storage resource"},{name:"DEMAND_CHARGE",label:"Demand Charge",description:"This is the demand charge"},{name:"ELECTRICITY_PRICE",label:"Electricity Price",description:"This is the cost of electricity"},{name:"ENERGY_PRICE",label:"Energy Price",description:"This is the cost of energy"},{name:"LOAD_CONTROL",label:"Load Control",description:"Set load output to relative values"},{name:"LOAD_DISPATCH",label:"Load Dispatch",description:"This is used to dispatch load"},{name:"SIMPLE",label:"Simple",description:"Simple levels (OpenADR 2.0a compliant) "},{name:"SIMPLE_DEPRECATED",label:"Simple (deprecated)",description:"depreciated - for backwards compatibility with A profile"}],Gi={currencyPerKwh:[{name:"euro_per_kwh",label:"\u20ac / kWh",description:"Euro per kWh"},{name:"dollar_per_kwh",label:"$ / kWh",description:"Euro per kWh"}],energy:[{name:"kwh",label:"kWh",description:"kWh"}],power:[{name:"kw",label:"kW",description:"kW"}],none:[{name:"none",label:"None",description:"None"}]},Bi=[{signalName:"SIMPLE",signalType:"level",unit:Gi.none},{signalName:"ELECTRICITY_PRICE",signalType:"price",unit:Gi.currencyPerKwh},{signalName:"ELECTRICITY_PRICE",signalType:"priceRelative",unit:Gi.currencyPerKwh},{signalName:"ELECTRICITY_PRICE",signalType:"priceMultiplier",unit:Gi.none},{signalName:"ENERGY_PRICE",signalType:"priceRelative",unit:Gi.currencyPerKwh},{signalName:"ENERGY_PRICE",signalType:"priceMultiplier",unit:Gi.none},{signalName:"ENERGY_PRICE",signalType:"price",unit:Gi.currencyPerKwh},{signalName:"DEMAND_CHARGE",signalType:"priceRelative",unit:Gi.currencyPerKwh},{signalName:"DEMAND_CHARGE",signalType:"priceMultiplier",unit:Gi.none},{signalName:"DEMAND_CHARGE",signalType:"price",unit:Gi.currencyPerKwh},{signalName:"BID_PRICE",signalType:"price",unit:Gi.currencyPerKwh},{signalName:"BID_LOAD",signalType:"setpoint",unit:Gi.power},{signalName:"BID_ENERGY",signalType:"setpoint",unit:Gi.energy},{signalName:"CHARGE_STATE",signalType:"setpoint",unit:Gi.energy},{signalName:"CHARGE_STATE",signalType:"delta",unit:Gi.energy},{signalName:"CHARGE_STATE",signalType:"multiplier",unit:Gi.none},{signalName:"LOAD_DISPATCH",signalType:"setpoint",unit:Gi.power},{signalName:"LOAD_DISPATCH",signalType:"delta",unit:Gi.power},{signalName:"LOAD_DISPATCH",signalType:"multiplier",unit:Gi.none},{signalName:"LOAD_DISPATCH",signalType:"level",unit:Gi.power},{signalName:"LOAD_CONTROL",signalType:"x-loadControlCapacity",unit:Gi.none},{signalName:"LOAD_CONTROL",signalType:"x-loadControlPercentOffset",unit:Gi.none},{signalName:"LOAD_CONTROL",signalType:"x-loadControlSetPoint",unit:Gi.none},{signalName:"LOAD_CONTROL",signalType:"x-loadControlLevelOffset",unit:Gi.none}];var qi=e=>{var t=[];for(var a in Bi){var n=Bi[a];n.signalName===e&&t.push(n.signalType)}return t},Fi=(e,t)=>{var a=[];for(var n in Bi){var r=Bi[n];r.signalName===e&&r.signalType===t&&(a=a.concat(r.unit))}return a};const Wi={boxSizing:"border-box",color:"rgba(0, 0, 0, 0.54)",fontSize:"1rem",fontWeight:400,lineHeight:1,transition:"color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms,transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms",transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left",top:0,left:0,marginTop:"-8px"};var zi=e=>{const t=e.classes;return o.a.createElement(Me.a,null,o.a.createElement(Fn.a,null,o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(et.a,{label:"Interval Duration (min)",required:!0,type:"number",placeholder:"Duration",value:e.createIntervalDuration,className:t.textField,onChange:e.handleCreateIntervalDurationChange,InputLabelProps:{shrink:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(et.a,{label:"Interval Value",required:!0,placeholder:"Value",value:e.createIntervalValue,className:t.textField,onChange:e.handleCreateIntervalValueChange,InputLabelProps:{shrink:!0},fullWidth:!0})),e.needIntervalCreate&&""!==e.createIntervalValue&&""!==e.createIntervalDuration?o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"primary",size:"small",style:{marginTop:13},onClick:e.handleCreateIntervalClick},o.a.createElement(Et.a,null),e.createIntervalEditMode?"Edit":"Create")):null,e.needIntervalCreate&&""!==e.createIntervalValue&&""!==e.createIntervalDuration?o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"secondary",size:"small",style:{marginTop:13},onClick:e.handleCancelIntervalClick},o.a.createElement(Et.a,null),"Cancel")):null)),e.intervals.length>0?o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{align:"right"},"Duration"),o.a.createElement(Mn.a,{align:"right"},"Value"),o.a.createElement(Mn.a,{align:"right"}),o.a.createElement(Mn.a,{align:"right"}))),o.a.createElement(In.a,null,e.intervals.map((t,a)=>o.a.createElement(Bn.a,{key:a},o.a.createElement(Mn.a,{scope:"row",align:"right"},t.duration),o.a.createElement(Mn.a,{scope:"row",align:"right"},t.value),o.a.createElement(Mn.a,{scope:"row",align:"right"},o.a.createElement(Te.a,{size:"small",color:"primary",onClick:e.handleEditIntervalClick(t,a)}," EDIT ")),o.a.createElement(Mn.a,{scope:"row",align:"right"},o.a.createElement(Te.a,{size:"small",color:"secondary",onClick:e.handleRemoveSignalIntervalAtIndex(a)}," REMOVE ")))))):null)};zi=Object(se.withStyles)(e=>({root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Mi.lighten)(e.palette.primary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},margin:{marginRight:"10px"}}))(zi);class ji extends o.a.Component{constructor(e){super(e),this.handleSignalNameChange=e=>{let t=this.props.eventSignal;t.signalName=e.target.value;var a=qi(t.signalName);if(1===a.length){t.signalType=a[0];var n=Fi(t.signalName,t.signalType);1===n.length&&(t.unitType=n[0].name)}this.props.onChange(t)},this.handleSignalTypeChange=e=>{let t=this.props.eventSignal;t.signalType=e.target.value,this.props.onChange(t)},this.handleUnitTypeChange=e=>{let t=this.props.eventSignal;t.unitType=e.target.value,this.props.onChange(t)},this.handleRemoveSignalIntervalAtIndex=e=>()=>{let t=this.props.eventSignal;t.intervals.splice(e,1),this.props.onChange(t)},this.handleCreateIntervalDurationChange=e=>{this.setState({createIntervalDuration:e.target.value})},this.handleCreateIntervalValueChange=e=>{this.setState({createIntervalValue:e.target.value})},this.handleCurrentValueChange=e=>{let t=this.props.eventSignal;t.currentValue=e.target.value,this.props.onChange(t)},this.handleCreateIntervalClick=()=>{let e=this.props.eventSignal,t={duration:this.state.createIntervalDuration,value:this.state.createIntervalValue};this.state.createIntervalEditMode?e.intervals[this.state.createIntervalEditIndex]=t:e.intervals.push(t),this.props.onChange(e),this.setState({createIntervalEditMode:!1,createIntervalEditIndex:null,createIntervalDuration:"",createIntervalValue:""})},this.handleEditIntervalClick=(e,t)=>()=>{this.setState({createIntervalEditMode:!0,createIntervalDuration:e.duration,createIntervalValue:e.value,createIntervalEditIndex:t})},this.handleCancelIntervalClick=()=>{this.setState({createIntervalEditMode:!1,createIntervalEditIndex:null,createIntervalDuration:"",createIntervalValue:""})},this.handleNeedIntervalCreateClick=e=>{if(!e.target.checked){let e=this.props.eventSignal;e.intervals=[],this.props.onChange(e)}this.setState({needIntervalCreate:e.target.checked})},this.state={},this.state.createIntervalDuration="",this.state.createIntervalValue="",this.state.createIntervalEditMode=!1,this.state.createIntervalEditIndex=null,this.state.needIntervalCreate=!1,e.eventSignal.intervals.length>0&&(this.state.needIntervalCreate=!0)}componentWillReceiveProps(e){var t={},a=!1;e.eventSignal.intervals.length>0&&(t.needIntervalCreate=!0,a=!0),a&&this.setState(t)}render(){const e=this.props,t=e.classes,a=e.hasError,n=e.eventSignal;var r,i=[];for(var s in Ui)r=Ui[s],i.push(o.a.createElement(cn.a,{key:"menu_item_signal_name_"+r.name,value:r.name},r.label));var l=[];if(""!==n.signalName){var c=qi(n.signalName);for(var m in Li)r=Li[m],c.includes(r.name)&&l.push(o.a.createElement(cn.a,{key:"menu_item_signal_name_"+r.name,value:r.name},r.label))}var p=[];if(""!==n.signalType){var u=Fi(n.signalName,n.signalType);for(var d in u)r=u[d],p.push(o.a.createElement(cn.a,{key:"menu_item_unit_type_"+r.name,value:r.name},r.label))}return o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(lr.a,{style:Wi,component:"label"},"Signal Name"),o.a.createElement(vr.a,{required:!0,value:n.signalName,error:a&&""===n.signalName,style:{marginTop:0},onChange:this.handleSignalNameChange,inputProps:{name:"signal_name_select",id:"signal_name_select"}},i))),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(lr.a,{style:Wi,component:"label"},"Signal Name"),o.a.createElement(vr.a,{required:!0,disabled:""===n.signalName,error:a&&""===n.signalType,value:n.signalType,style:{marginTop:0},onChange:this.handleSignalTypeChange,inputProps:{name:"signal_type_select",id:"signal_type_select"}},l))),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(lr.a,{style:Wi,component:"label"},"Signal Unit"),o.a.createElement(vr.a,{required:!0,disabled:""===n.signalName||""===n.signalType,value:n.unitType,style:{marginTop:0},error:a&&""===n.unitType,onChange:this.handleUnitTypeChange,inputProps:{name:"unit_type_select",id:"unit_type_select"}},p)))),o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(et.a,{label:"Current Value",placeholder:"Current Value",error:a&&""===n.currentValue&&0===n.intervals.length,value:n.currentValue,className:t.textField,onChange:this.handleCurrentValueChange,fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(_e.a,{control:o.a.createElement(xe.a,{checked:this.state.needIntervalCreate,onChange:this.handleNeedIntervalCreateClick,value:"Intervals",color:"primary"}),label:"Intervals"})),this.props.canBeRemoved?o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"secondary",size:"small",className:t.button,onClick:this.props.onRemove},o.a.createElement(Et.a,null),"Remove")):null),this.state.needIntervalCreate?o.a.createElement(Ct.a,{container:!0,spacing:24,style:{marginTop:20,marginBottom:10}},o.a.createElement(Ct.a,{item:!0,xs:12},o.a.createElement(zi,{intervals:n.intervals,handleRemoveSignalIntervalAtIndex:this.handleRemoveSignalIntervalAtIndex,needIntervalCreate:this.state.needIntervalCreate,createIntervalValue:this.state.createIntervalValue,createIntervalDuration:this.state.createIntervalDuration,createIntervalEditMode:this.state.createIntervalEditMode,handleCreateIntervalDurationChange:this.handleCreateIntervalDurationChange,handleCreateIntervalValueChange:this.handleCreateIntervalValueChange,handleCreateIntervalClick:this.handleCreateIntervalClick,handleEditIntervalClick:this.handleEditIntervalClick,handleCancelIntervalClick:this.handleCancelIntervalClick}))):null)}}class Ki extends o.a.Component{constructor(...e){super(...e),this.handleAddSignalClick=()=>{this.props.addCopySignals()},this.handleEventSignalChange=e=>t=>{this.props.updateCopySignals(e,t)},this.handleRemoveEventSignalChange=e=>()=>{this.props.removeCopySignals(e)},this.handlePublishEventClick=()=>{this.props.publishEvent(this.props.event.id)}}render(){const e=this.props,t=e.classes,a=e.event,n=e.copySignals,r=e.editMode;var i=this;return o.a.createElement("div",{className:t.root},o.a.createElement(ki,{classes:t,event:a,actions:o.a.createElement(Ct.a,{container:!0,spacing:24},a.published?null:o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:this.handlePublishEventClick},o.a.createElement(Ni.a,{style:{marginRight:15}})," PUBLISH")),r?o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:()=>{this.props.updateEvent(!1)}},o.a.createElement(Ni.a,{style:{marginRight:15}})," UPDATE")):null,r?o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"secondary",fullWidth:!0,size:"small",onClick:()=>{this.props.updateEvent(!0)}},o.a.createElement(Ni.a,{style:{marginRight:15}})," UPDATE AND PUBLISH")):null)}),o.a.createElement(he.a,{style:{marginTop:"20px",marginBottom:20}}),n.map((e,a)=>o.a.createElement("div",{key:"signal_panel_"+a},0!==a?o.a.createElement(Ct.a,{container:!0,style:{marginTop:20,marginBottom:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:12},o.a.createElement(he.a,null))):null,o.a.createElement(ji,{classes:t,eventSignal:e,hasError:!1,onChange:i.handleEventSignalChange(a),onRemove:i.handleRemoveEventSignalChange(a),canBeRemoved:n.length>0}))),o.a.createElement(he.a,{style:{marginTop:30}}),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:12},o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"primary",size:"small",className:t.button,onClick:this.handleAddSignalClick},o.a.createElement(Et.a,null),"Add New Signal"))))}}var Hi=Ki,Yi=e=>{const t=e.classes;return o.a.createElement(Me.a,{className:t.root},o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{align:"right"},"Target Type"),o.a.createElement(Mn.a,{align:"right"},"Target ID"),o.a.createElement(Mn.a,{align:"right"},"Targeted Devices"),o.a.createElement(Mn.a,{align:"right"}))),o.a.createElement(In.a,null,e.eventTarget.map((t,a)=>o.a.createElement(Bn.a,{key:a},o.a.createElement(Mn.a,{scope:"row",align:"right"},t.targetType),o.a.createElement(Mn.a,{scope:"row",align:"right"},t.targetId),o.a.createElement(Mn.a,{scope:"row",align:"right"}),o.a.createElement(Mn.a,{scope:"row",align:"right"},o.a.createElement(Te.a,{size:"small",color:"secondary",onClick:e.handleRemoveTargetAtIndex(a)}," REMOVE ")))))))};class Xi extends o.a.Component{constructor(e){super(e),this.handleCreateTarget=()=>{let e=this.props.eventTarget;e.push({targetType:this.state.createTargetType,targetId:this.state.createTargetId}),this.props.onChange(e),this.setState({createTargetType:"",createTargetId:""})},this.handleCancelTarget=()=>{this.setState({createTargetType:"",createTargetId:""})},this.handleRemoveTargetAtIndex=e=>()=>{let t=this.props.eventTarget;t.splice(e,1),this.props.onChange(t)},this.handleTargetTypeChange=e=>{this.setState({createTargetType:e.target.value})},this.handleTargetIdChange=e=>{this.setState({createTargetId:e.target.value})},this.handleTargetSelectDialogClose=e=>{var t={targetSelectDialog:!1};null!=e&&(t.createTargetType=e),this.setState(t)},this.handleTargetSelectDialogOpen=()=>{this.setState({targetSelectDialog:!0})},this.handleGroupSelectClose=e=>{var t={groupSelectDialog:!1};null!=e&&(t.createTargetId=e.name),this.setState(t)},this.handleGroupSelectOpen=()=>{this.setState({groupSelectDialog:!0})},this.onVenSuggestionsSelect=e=>{console.log(e),null!=e&&this.setState({createTargetId:e.username})},this.state={createTargetType:"",createTargetId:"",targetSelectDialog:!1,groupSelectDialog:!1}}render(){const e=this.props,t=e.classes,a=e.hasError,n=e.eventTarget,r=e.group;return o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(et.a,{label:"Select Target Type",error:a&&null==n.marketContext,value:this.state.createTargetType,placeholder:"Ven, Group ...",className:t.textField,fullWidth:!0,onClick:this.handleTargetSelectDialogOpen,InputProps:{readOnly:!0},InputLabelProps:{shrink:!0}}),o.a.createElement(gn,{open:this.state.targetSelectDialog,close:this.handleTargetSelectDialogClose,title:"Select Target Type"})),"group"===this.state.createTargetType?o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(et.a,{required:!0,label:"Group",value:this.state.createTargetId,className:t.textField,fullWidth:!0,onClick:this.handleGroupSelectOpen,InputProps:{readOnly:!0}}),o.a.createElement(En,{group:r,open:this.state.groupSelectDialog,close:this.handleGroupSelectClose,title:"Select Market Context"})):null,"ven"===this.state.createTargetType?o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(un,{suggestions:this.props.ven,onSuggestionsFetchRequested:this.props.onVenSuggestionsFetchRequested,onSuggestionsClearRequested:this.props.onVenSuggestionsClearRequested,onSuggestionsSelect:this.onVenSuggestionsSelect})):null,""!==this.state.createTargetType&&""!==this.state.createTargetId?o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"primary",size:"small",className:t.button,style:{marginTop:13},onClick:this.handleCreateTarget},o.a.createElement(Et.a,null),"Create")):null,""!==this.state.createTargetType?o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(Te.a,{key:"btn_cancel",variant:"outlined",color:"secondary",size:"small",className:t.button,style:{marginTop:13},onClick:this.handleCancelTarget},o.a.createElement(Et.a,null),"Cancel")):null),o.a.createElement(Ct.a,{container:!0,spacing:24,style:{marginTop:20,marginBottom:10}},o.a.createElement(Ct.a,{item:!0,xs:12},o.a.createElement(Yi,{classes:t,eventTarget:n,handleRemoveTargetAtIndex:this.handleRemoveTargetAtIndex}))))}}class Qi extends o.a.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.classes,a=e.event,n=e.copyTargets,r=e.group,i=e.editMode,s=e.ven;return o.a.createElement("div",{className:t.root},o.a.createElement(ki,{classes:t,event:a,actions:o.a.createElement(Ct.a,{container:!0,spacing:24},a.published?null:o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:this.handlePublishEventClick},o.a.createElement(Ni.a,{style:{marginRight:15}})," PUBLISH")),i?o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:()=>{this.props.updateEvent(!1)}},o.a.createElement(Ni.a,{style:{marginRight:15}})," UPDATE")):null,i?o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"secondary",fullWidth:!0,size:"small",onClick:()=>{this.props.updateEvent(!0)}},o.a.createElement(Ni.a,{style:{marginRight:15}})," UPDATE AND PUBLISH")):null)}),o.a.createElement(he.a,{style:{marginTop:"20px",marginBottom:20}}),o.a.createElement(Xi,{classes:t,eventTarget:n,group:r,onChange:this.props.updateCopyTargets,ven:s,onVenSuggestionsFetchRequested:this.props.onVenSuggestionsFetchRequested,onVenSuggestionsClearRequested:this.props.onVenSuggestionsClearRequested,onVenSuggestionsSelect:this.props.onVenSuggestionsSelect}))}}var Ji=Qi,Zi=e=>{const t=e.classes;return o.a.createElement(Me.a,{className:t.root},o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{align:"right"},"Ven ID"),o.a.createElement(Mn.a,{align:"right"},"Last Modification Number"),o.a.createElement(Mn.a,{align:"right"},"Last Update"),o.a.createElement(Mn.a,{align:"right"},"Opt"))),o.a.createElement(In.a,null,e.venResponse.map((e,t)=>{var a=Yt(e.lastUpdateDatetime);return o.a.createElement(Bn.a,{key:t},o.a.createElement(Mn.a,{scope:"row",align:"right"},e.venId),o.a.createElement(Mn.a,{scope:"row",align:"right"},e.lastSentModificationNumber),o.a.createElement(Mn.a,{scope:"row",align:"right"},a.date+" "+a.time+" "+a.tz),o.a.createElement(Mn.a,{scope:"row",align:"right"},e.venOpt))}))))};class $i extends o.a.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.classes,a=e.event,n=e.venResponse;return o.a.createElement("div",{className:t.root},o.a.createElement(ki,{classes:t,event:a,actions:o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:this.props.refreshVenResponse},o.a.createElement(Ni.a,{style:{marginRight:15}})," REFRESH")))}),o.a.createElement(he.a,{style:{marginTop:"20px",marginBottom:20}}),o.a.createElement(Zi,{classes:t,venResponse:n}))}}var es=$i;function ts(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class as extends o.a.Component{constructor(){super(),this.handleChange=(e,t)=>{switch(this.setState({value:t}),t){case 0:W.push("/event/detail/"+this.props.match.params.id+"/descriptor");break;case 1:W.push("/event/detail/"+this.props.match.params.id+"/activeperiod");break;case 2:W.push("/event/detail/"+this.props.match.params.id+"/signal");break;case 3:W.push("/event/detail/"+this.props.match.params.id+"/target");break;case 4:W.push("/event/detail/"+this.props.match.params.id+"/venresponse")}},this.updateCopySignals=(e,t)=>{var a=this.state.copySignals;a[e]=t,this.setState({copySignals:a,editMode:!0})},this.removeCopySignals=e=>{var t=this.state.copySignals;t.splice(e,1),this.setState({copySignals:t,editMode:!0})},this.updateCopyTargets=e=>{this.setState({copyTargets:e,editMode:!0})},this.addCopySignals=e=>{var t=this.state.copySignals;t.push({signalName:"",signalType:"",unitType:"",intervals:[],currentValue:""}),this.setState({copySignals:t,editMode:!0})},this.updateEvent=e=>{var t={published:e,signals:this.state.copySignals,targets:this.state.copyTargets};this.props.eventActions.updateEvent(this.props.match.params.id,t),this.setState({editMode:!1})},this.onVenSuggestionsFetchRequested=e=>{var t=[];t.push({type:"VEN",value:e.value}),this.props.venActions.searchVen(t,0,5)},this.onVenSuggestionsClearRequested=()=>{},this.onVenSuggestionsSelect=e=>{var t=this.state.filters;t.push({type:"VEN",value:e.username}),this.setState({filters:t}),this.refreshEvent()},this.state={value:0,copySignals:[],copyTargets:[],editMode:!1}}componentDidMount(){switch(this.props.vtnConfigurationActions.loadMarketContext(),this.props.vtnConfigurationActions.loadGroup(),this.props.eventActions.loadEventDetail(this.props.match.params.id),this.props.eventActions.loadEventVenResponse(this.props.match.params.id),this.props.event_detail.event.signals&&this.setState({copySignals:this.props.event_detail.event.signals}),this.props.event_detail.event.targets&&this.setState({copyTargets:this.props.event_detail.event.targets}),this.props.match.params.panel){case"descriptor":this.setState({value:0});break;case"activeperiod":this.setState({value:1});break;case"signal":this.setState({value:2});break;case"target":this.setState({value:3});break;case"venresponse":this.setState({value:4})}}componentDidUpdate(e,t){this.props.event_detail.event.signals!==e.event_detail.event.signals&&this.setState({copySignals:this.props.event_detail.event.signals}),this.props.event_detail.event.targets!==e.event_detail.event.targets&&this.setState({copyTargets:this.props.event_detail.event.targets})}render(){const e=this.props,t=e.classes,a=e.event_detail,n=this.state.value;return a.event.activePeriod?o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"Descriptor"}),o.a.createElement(me.a,{label:"Active Period"}),o.a.createElement(me.a,{label:"Signals"}),o.a.createElement(me.a,{label:"Targets"}),o.a.createElement(me.a,{label:"Ven Responses"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(ts,null,o.a.createElement(Pi,{classes:t,event:a.event,activeEvent:this.props.eventActions.activeEvent,cancelEvent:this.props.eventActions.cancelEvent,publishEvent:this.props.eventActions.publishEvent})),1===n&&o.a.createElement(ts,null,o.a.createElement(wi,{classes:t,event:a.event})),2===n&&o.a.createElement(ts,null,o.a.createElement(Hi,{classes:t,event:a.event,updateEvent:this.updateEvent,editMode:this.state.editMode,copySignals:this.state.copySignals,updateCopySignals:this.updateCopySignals,removeCopySignals:this.removeCopySignals,addCopySignals:this.addCopySignals,publishEvent:this.props.eventActions.publishEvent})),3===n&&o.a.createElement(ts,null,o.a.createElement(Ji,{classes:t,event:a.event,updateEvent:this.updateEvent,group:a.group,editMode:this.state.editMode,copyTargets:this.state.copyTargets,updateCopyTargets:this.updateCopyTargets,ven:a.ven,onVenSuggestionsFetchRequested:this.onVenSuggestionsFetchRequested,onVenSuggestionsClearRequested:this.onVenSuggestionsClearRequested,onVenSuggestionsSelect:this.props.onVenSuggestionsSelect})),4===n&&o.a.createElement(ts,null,o.a.createElement(es,{classes:t,event:a.event,venResponse:a.venResponse,refreshVenResponse:()=>{this.props.eventActions.loadEventVenResponse(this.props.match.params.id)}}))):null}}var ns=Object(g.connect)((function(e){return{event_detail:e.event_detail}}),(function(e){return{eventActions:Object(v.b)(s,e),vtnConfigurationActions:Object(v.b)(r,e),venActions:Object(v.b)(i,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit,display:"flex"},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},success:{backgroundColor:ri.a[600]},error:{backgroundColor:ai.a[600]},iconButton:{marginTop:10}}))(as));const rs={boxSizing:"border-box",color:"rgba(0, 0, 0, 0.54)",fontSize:"1rem",fontWeight:400,lineHeight:1,transition:"color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms,transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms",transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left",top:0,left:0,marginTop:"-8px"};class is extends o.a.Component{constructor(e){super(e),this.handleMarketContextSelectOpen=()=>{this.setState({marketContextSelectDialogOpen:!0})},this.handleMarketContextSelectClose=e=>{if(null!=e){let t=this.props.descriptor;t.marketContext=e.name,this.props.onChange(t)}this.setState({marketContextSelectDialogOpen:!1})},this.handlePriorityChange=e=>{let t=this.props.descriptor;t.priority=e.target.value,this.props.onChange(t)},this.handleResponseRequiredChange=e=>{let t=this.props.descriptor;t.responseRequired=e.target.value,this.props.onChange(t)},this.handleTestEventChange=e=>{let t=this.props.descriptor;t.testEvent=e.target.checked,this.props.onChange(t)},this.handleVtnCommentChange=e=>{let t=this.props.descriptor;t.vtnComment=e.target.value,this.props.onChange(t)},this.handleOadrProfileChange=e=>{let t=this.props.descriptor;t.oadrProfile=e.target.value,this.props.onChange(t)},this.state={marketContextSelectDialogOpen:!1}}render(){const e=this.props,t=e.classes,a=e.hasError,n=e.descriptor,r=e.marketContext;return o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(lr.a,{style:rs,component:"label"},"OadrProfile"),o.a.createElement(vr.a,{value:n.oadrProfile,style:{marginTop:0},onChange:this.handleOadrProfileChange,inputProps:{name:"response_required_select",id:"response_required_select"}},o.a.createElement(cn.a,{key:"menu_item_oadr_profile_20a",value:"OADR20A"},"2.0a"),o.a.createElement(cn.a,{key:"menu_item_oadr_profile_20a",value:"OADR20B"},"2.0b")))),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(et.a,{required:!0,label:"Priority",type:"number",value:n.priority,onChange:this.handlePriorityChange,className:t.textField,fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(lr.a,{style:rs,component:"label"},"Response Required"),o.a.createElement(vr.a,{value:n.responseRequired,style:{marginTop:0},onChange:this.handleResponseRequiredChange,inputProps:{name:"response_required_select",id:"response_required_select"}},o.a.createElement(cn.a,{key:"response_required_item_always",value:"ALWAYS"},"Always"),o.a.createElement(cn.a,{key:"response_required_item_never",value:"NEVER"},"Never")))),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(_e.a,{control:o.a.createElement(xe.a,{checked:n.testEvent,onChange:this.handleTestEventChange,value:"testEvent",color:"primary"}),label:"Test Event"})),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,spacing:24,style:{marginTop:20,marginBottom:10}},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(et.a,{required:!0,label:"Market Context",error:a&&null==n.marketContext,value:n.marketContext?n.marketContext:"",className:t.textField,fullWidth:!0,onClick:this.handleMarketContextSelectOpen,InputProps:{readOnly:!0}}),o.a.createElement(hn,{marketContext:r,open:this.state.marketContextSelectDialogOpen,close:this.handleMarketContextSelectClose,title:"Select Market Context"})),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(et.a,{label:"VTN Comment",multiline:!0,rowsMax:"4",value:n.vtnComment,onChange:this.handleVtnCommentChange,className:t.textField,fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:2})))}}var ss=is,ls=[{label:"Niue Time",name:"Pacific/Niue",offset:-11},{label:"Samoa Standard Time",name:"Pacific/Pago_Pago",offset:-11},{label:"Cook Islands Standard Time",name:"Pacific/Rarotonga",offset:-10},{label:"Hawaii-Aleutian Standard Time",name:"Pacific/Honolulu",offset:-10},{label:"Hawaii-Aleutian Time",name:"America/Adak",offset:-10},{label:"Tahiti Time",name:"Pacific/Tahiti",offset:-10},{label:"Marquesas Time",name:"Pacific/Marquesas",offset:-9.5},{label:"Alaska Time - Anchorage",name:"America/Anchorage",offset:-9},{label:"Alaska Time - Juneau",name:"America/Juneau",offset:-9},{label:"Alaska Time - Nome",name:"America/Nome",offset:-9},{label:"Alaska Time - Sitka",name:"America/Sitka",offset:-9},{label:"Alaska Time - Yakutat",name:"America/Yakutat",offset:-9},{label:"Gambier Time",name:"Pacific/Gambier",offset:-9},{label:"Pacific Time - Dawson",name:"America/Dawson",offset:-8},{label:"Pacific Time - Los Angeles",name:"America/Los_Angeles",offset:-8},{label:"Pacific Time - Metlakatla",name:"America/Metlakatla",offset:-8},{label:"Pacific Time - Tijuana",name:"America/Tijuana",offset:-8},{label:"Pacific Time - Vancouver",name:"America/Vancouver",offset:-8},{label:"Pacific Time - Whitehorse",name:"America/Whitehorse",offset:-8},{label:"Pitcairn Time",name:"Pacific/Pitcairn",offset:-8},{label:"Mexican Pacific Standard Time",name:"America/Hermosillo",offset:-7},{label:"Mexican Pacific Time - Chihuahua",name:"America/Chihuahua",offset:-7},{label:"Mexican Pacific Time - Mazatlan",name:"America/Mazatlan",offset:-7},{label:"Mountain Standard Time - Creston",name:"America/Creston",offset:-7},{label:"Mountain Standard Time - Dawson Creek",name:"America/Dawson_Creek",offset:-7},{label:"Mountain Standard Time - Fort Nelson",name:"America/Fort_Nelson",offset:-7},{label:"Mountain Standard Time - Phoenix",name:"America/Phoenix",offset:-7},{label:"Mountain Time - Boise",name:"America/Boise",offset:-7},{label:"Mountain Time - Cambridge Bay",name:"America/Cambridge_Bay",offset:-7},{label:"Mountain Time - Denver",name:"America/Denver",offset:-7},{label:"Mountain Time - Edmonton",name:"America/Edmonton",offset:-7},{label:"Mountain Time - Inuvik",name:"America/Inuvik",offset:-7},{label:"Mountain Time - Ojinaga",name:"America/Ojinaga",offset:-7},{label:"Mountain Time - Yellowknife",name:"America/Yellowknife",offset:-7},{label:"Central Standard Time - Belize",name:"America/Belize",offset:-6},{label:"Central Standard Time - Costa Rica",name:"America/Costa_Rica",offset:-6},{label:"Central Standard Time - El Salvador",name:"America/El_Salvador",offset:-6},{label:"Central Standard Time - Guatemala",name:"America/Guatemala",offset:-6},{label:"Central Standard Time - Managua",name:"America/Managua",offset:-6},{label:"Central Standard Time - Regina",name:"America/Regina",offset:-6},{label:"Central Standard Time - Swift Current",name:"America/Swift_Current",offset:-6},{label:"Central Standard Time - Tegucigalpa",name:"America/Tegucigalpa",offset:-6},{label:"Central Time - Bahia Banderas",name:"America/Bahia_Banderas",offset:-6},{label:"Central Time - Beulah, North Dakota",name:"America/North_Dakota/Beulah",offset:-6},{label:"Central Time - Center, North Dakota",name:"America/North_Dakota/Center",offset:-6},{label:"Central Time - Chicago",name:"America/Chicago",offset:-6},{label:"Central Time - Knox, Indiana",name:"America/Indiana/Knox",offset:-6},{label:"Central Time - Matamoros",name:"America/Matamoros",offset:-6},{label:"Central Time - Menominee",name:"America/Menominee",offset:-6},{label:"Central Time - Merida",name:"America/Merida",offset:-6},{label:"Central Time - Mexico City",name:"America/Mexico_City",offset:-6},{label:"Central Time - Monterrey",name:"America/Monterrey",offset:-6},{label:"Central Time - New Salem, North Dakota",name:"America/North_Dakota/New_Salem",offset:-6},{label:"Central Time - Rainy River",name:"America/Rainy_River",offset:-6},{label:"Central Time - Rankin Inlet",name:"America/Rankin_Inlet",offset:-6},{label:"Central Time - Resolute",name:"America/Resolute",offset:-6},{label:"Central Time - Tell City, Indiana",name:"America/Indiana/Tell_City",offset:-6},{label:"Central Time - Winnipeg",name:"America/Winnipeg",offset:-6},{label:"Galapagos Time",name:"Pacific/Galapagos",offset:-6},{label:"Acre Standard Time - Eirunepe",name:"America/Eirunepe",offset:-5},{label:"Acre Standard Time - Rio Branco",name:"America/Rio_Branco",offset:-5},{label:"Colombia Standard Time",name:"America/Bogota",offset:-5},{label:"Cuba Time",name:"America/Havana",offset:-5},{label:"Easter Island Time",name:"Pacific/Easter",offset:-5},{label:"Eastern Standard Time - Atikokan",name:"America/Atikokan",offset:-5},{label:"Eastern Standard Time - Cancun",name:"America/Cancun",offset:-5},{label:"Eastern Standard Time - Jamaica",name:"America/Jamaica",offset:-5},{label:"Eastern Standard Time - Panama",name:"America/Panama",offset:-5},{label:"Eastern Time - Detroit",name:"America/Detroit",offset:-5},{label:"Eastern Time - Grand Turk",name:"America/Grand_Turk",offset:-5},{label:"Eastern Time - Indianapolis",name:"America/Indiana/Indianapolis",offset:-5},{label:"Eastern Time - Iqaluit",name:"America/Iqaluit",offset:-5},{label:"Eastern Time - Louisville",name:"America/Kentucky/Louisville",offset:-5},{label:"Eastern Time - Marengo, Indiana",name:"America/Indiana/Marengo",offset:-5},{label:"Eastern Time - Monticello, Kentucky",name:"America/Kentucky/Monticello",offset:-5},{label:"Eastern Time - Nassau",name:"America/Nassau",offset:-5},{label:"Eastern Time - New York",name:"America/New_York",offset:-5},{label:"Eastern Time - Nipigon",name:"America/Nipigon",offset:-5},{label:"Eastern Time - Pangnirtung",name:"America/Pangnirtung",offset:-5},{label:"Eastern Time - Petersburg, Indiana",name:"America/Indiana/Petersburg",offset:-5},{label:"Eastern Time - Port-au-Prince",name:"America/Port-au-Prince",offset:-5},{label:"Eastern Time - Thunder Bay",name:"America/Thunder_Bay",offset:-5},{label:"Eastern Time - Toronto",name:"America/Toronto",offset:-5},{label:"Eastern Time - Vevay, Indiana",name:"America/Indiana/Vevay",offset:-5},{label:"Eastern Time - Vincennes, Indiana",name:"America/Indiana/Vincennes",offset:-5},{label:"Eastern Time - Winamac, Indiana",name:"America/Indiana/Winamac",offset:-5},{label:"Ecuador Time",name:"America/Guayaquil",offset:-5},{label:"Peru Standard Time",name:"America/Lima",offset:-5},{label:"Amazon Standard Time - Boa Vista",name:"America/Boa_Vista",offset:-4},{label:"Amazon Standard Time - Manaus",name:"America/Manaus",offset:-4},{label:"Amazon Standard Time - Porto Velho",name:"America/Porto_Velho",offset:-4},{label:"Atlantic Standard Time - Barbados",name:"America/Barbados",offset:-4},{label:"Atlantic Standard Time - Blanc-Sablon",name:"America/Blanc-Sablon",offset:-4},{label:"Atlantic Standard Time - Cura\xe7ao",name:"America/Curacao",offset:-4},{label:"Atlantic Standard Time - Martinique",name:"America/Martinique",offset:-4},{label:"Atlantic Standard Time - Port of Spain",name:"America/Port_of_Spain",offset:-4},{label:"Atlantic Standard Time - Puerto Rico",name:"America/Puerto_Rico",offset:-4},{label:"Atlantic Standard Time - Santo Domingo",name:"America/Santo_Domingo",offset:-4},{label:"Atlantic Time - Bermuda",name:"Atlantic/Bermuda",offset:-4},{label:"Atlantic Time - Glace Bay",name:"America/Glace_Bay",offset:-4},{label:"Atlantic Time - Goose Bay",name:"America/Goose_Bay",offset:-4},{label:"Atlantic Time - Halifax",name:"America/Halifax",offset:-4},{label:"Atlantic Time - Moncton",name:"America/Moncton",offset:-4},{label:"Atlantic Time - Thule",name:"America/Thule",offset:-4},{label:"Bolivia Time",name:"America/La_Paz",offset:-4},{label:"Guyana Time",name:"America/Guyana",offset:-4},{label:"Venezuela Time",name:"America/Caracas",offset:-4},{label:"Newfoundland Time",name:"America/St_Johns",offset:-3.5},{label:"Amazon Time (Campo Grande)",name:"America/Campo_Grande",offset:-3},{label:"Amazon Time (Cuiaba)",name:"America/Cuiaba",offset:-3},{label:"Argentina Standard Time - Buenos Aires",name:"America/Argentina/Buenos_Aires",offset:-3},{label:"Argentina Standard Time - Catamarca",name:"America/Argentina/Catamarca",offset:-3},{label:"Argentina Standard Time - Cordoba",name:"America/Argentina/Cordoba",offset:-3},{label:"Argentina Standard Time - Jujuy",name:"America/Argentina/Jujuy",offset:-3},{label:"Argentina Standard Time - La Rioja",name:"America/Argentina/La_Rioja",offset:-3},{label:"Argentina Standard Time - Mendoza",name:"America/Argentina/Mendoza",offset:-3},{label:"Argentina Standard Time - Rio Gallegos",name:"America/Argentina/Rio_Gallegos",offset:-3},{label:"Argentina Standard Time - Salta",name:"America/Argentina/Salta",offset:-3},{label:"Argentina Standard Time - San Juan",name:"America/Argentina/San_Juan",offset:-3},{label:"Argentina Standard Time - Tucuman",name:"America/Argentina/Tucuman",offset:-3},{label:"Argentina Standard Time - Ushuaia",name:"America/Argentina/Ushuaia",offset:-3},{label:"Brasilia Standard Time - Araguaina",name:"America/Araguaina",offset:-3},{label:"Brasilia Standard Time - Bahia",name:"America/Bahia",offset:-3},{label:"Brasilia Standard Time - Belem",name:"America/Belem",offset:-3},{label:"Brasilia Standard Time - Fortaleza",name:"America/Fortaleza",offset:-3},{label:"Brasilia Standard Time - Maceio",name:"America/Maceio",offset:-3},{label:"Brasilia Standard Time - Recife",name:"America/Recife",offset:-3},{label:"Brasilia Standard Time - Santarem",name:"America/Santarem",offset:-3},{label:"Chile Time",name:"America/Santiago",offset:-3},{label:"Falkland Islands Standard Time",name:"Atlantic/Stanley",offset:-3},{label:"French Guiana Time",name:"America/Cayenne",offset:-3},{label:"Palmer Time",name:"Antarctica/Palmer",offset:-3},{label:"Paraguay Time",name:"America/Asuncion",offset:-3},{label:"Punta Arenas Time",name:"America/Punta_Arenas",offset:-3},{label:"Rothera Time",name:"Antarctica/Rothera",offset:-3},{label:"St. Pierre & Miquelon Time",name:"America/Miquelon",offset:-3},{label:"Suriname Time",name:"America/Paramaribo",offset:-3},{label:"Uruguay Standard Time",name:"America/Montevideo",offset:-3},{label:"West Greenland Time",name:"America/Godthab",offset:-3},{label:"Western Argentina Standard Time",name:"America/Argentina/San_Luis",offset:-3},{label:"Brasilia Time",name:"America/Sao_Paulo",offset:-2},{label:"Fernando de Noronha Standard Time",name:"America/Noronha",offset:-2},{label:"South Georgia Time",name:"Atlantic/South_Georgia",offset:-2},{label:"Azores Time",name:"Atlantic/Azores",offset:-1},{label:"Cape Verde Standard Time",name:"Atlantic/Cape_Verde",offset:-1},{label:"East Greenland Time",name:"America/Scoresbysund",offset:-1},{label:"Coordinated Universal Time",name:"UTC",offset:0},{label:"Greenwich Mean Time",name:"Etc/GMT",offset:0},{label:"Greenwich Mean Time - Abidjan",name:"Africa/Abidjan",offset:0},{label:"Greenwich Mean Time - Accra",name:"Africa/Accra",offset:0},{label:"Greenwich Mean Time - Bissau",name:"Africa/Bissau",offset:0},{label:"Greenwich Mean Time - Danmarkshavn",name:"America/Danmarkshavn",offset:0},{label:"Greenwich Mean Time - Monrovia",name:"Africa/Monrovia",offset:0},{label:"Greenwich Mean Time - Reykjavik",name:"Atlantic/Reykjavik",offset:0},{label:"Greenwich Mean Time - S\xe3o Tom\xe9",name:"Africa/Sao_Tome",offset:0},{label:"Ireland Time",name:"Europe/Dublin",offset:0},{label:"Troll Time",name:"Antarctica/Troll",offset:0},{label:"United Kingdom Time",name:"Europe/London",offset:0},{label:"Western European Time - Canary",name:"Atlantic/Canary",offset:0},{label:"Western European Time - Faroe",name:"Atlantic/Faroe",offset:0},{label:"Western European Time - Lisbon",name:"Europe/Lisbon",offset:0},{label:"Western European Time - Madeira",name:"Atlantic/Madeira",offset:0},{label:"Central European Standard Time - Algiers",name:"Africa/Algiers",offset:1},{label:"Central European Standard Time - Tunis",name:"Africa/Tunis",offset:1},{label:"Central European Time - Amsterdam",name:"Europe/Amsterdam",offset:1},{label:"Central European Time - Andorra",name:"Europe/Andorra",offset:1},{label:"Central European Time - Belgrade",name:"Europe/Belgrade",offset:1},{label:"Central European Time - Berlin",name:"Europe/Berlin",offset:1},{label:"Central European Time - Brussels",name:"Europe/Brussels",offset:1},{label:"Central European Time - Budapest",name:"Europe/Budapest",offset:1},{label:"Central European Time - Ceuta",name:"Africa/Ceuta",offset:1},{label:"Central European Time - Copenhagen",name:"Europe/Copenhagen",offset:1},{label:"Central European Time - Gibraltar",name:"Europe/Gibraltar",offset:1},{label:"Central European Time - Luxembourg",name:"Europe/Luxembourg",offset:1},{label:"Central European Time - Madrid",name:"Europe/Madrid",offset:1},{label:"Central European Time - Malta",name:"Europe/Malta",offset:1},{label:"Central European Time - Monaco",name:"Europe/Monaco",offset:1},{label:"Central European Time - Oslo",name:"Europe/Oslo",offset:1},{label:"Central European Time - Paris",name:"Europe/Paris",offset:1},{label:"Central European Time - Prague",name:"Europe/Prague",offset:1},{label:"Central European Time - Rome",name:"Europe/Rome",offset:1},{label:"Central European Time - Stockholm",name:"Europe/Stockholm",offset:1},{label:"Central European Time - Tirane",name:"Europe/Tirane",offset:1},{label:"Central European Time - Vienna",name:"Europe/Vienna",offset:1},{label:"Central European Time - Warsaw",name:"Europe/Warsaw",offset:1},{label:"Central European Time - Zurich",name:"Europe/Zurich",offset:1},{label:"Morocco Time",name:"Africa/Casablanca",offset:1},{label:"West Africa Standard Time - Lagos",name:"Africa/Lagos",offset:1},{label:"West Africa Standard Time - Ndjamena",name:"Africa/Ndjamena",offset:1},{label:"Western Sahara Time",name:"Africa/El_Aaiun",offset:1},{label:"Central Africa Time - Khartoum",name:"Africa/Khartoum",offset:2},{label:"Central Africa Time - Maputo",name:"Africa/Maputo",offset:2},{label:"Central Africa Time - Windhoek",name:"Africa/Windhoek",offset:2},{label:"Eastern European Standard Time - Cairo",name:"Africa/Cairo",offset:2},{label:"Eastern European Standard Time - Kaliningrad",name:"Europe/Kaliningrad",offset:2},{label:"Eastern European Standard Time - Tripoli",name:"Africa/Tripoli",offset:2},{label:"Eastern European Time - Amman",name:"Asia/Amman",offset:2},{label:"Eastern European Time - Athens",name:"Europe/Athens",offset:2},{label:"Eastern European Time - Beirut",name:"Asia/Beirut",offset:2},{label:"Eastern European Time - Bucharest",name:"Europe/Bucharest",offset:2},{label:"Eastern European Time - Chisinau",name:"Europe/Chisinau",offset:2},{label:"Eastern European Time - Damascus",name:"Asia/Damascus",offset:2},{label:"Eastern European Time - Gaza",name:"Asia/Gaza",offset:2},{label:"Eastern European Time - Hebron",name:"Asia/Hebron",offset:2},{label:"Eastern European Time - Helsinki",name:"Europe/Helsinki",offset:2},{label:"Eastern European Time - Kiev",name:"Europe/Kiev",offset:2},{label:"Eastern European Time - Nicosia",name:"Asia/Nicosia",offset:2},{label:"Eastern European Time - Riga",name:"Europe/Riga",offset:2},{label:"Eastern European Time - Sofia",name:"Europe/Sofia",offset:2},{label:"Eastern European Time - Tallinn",name:"Europe/Tallinn",offset:2},{label:"Eastern European Time - Uzhhorod",name:"Europe/Uzhgorod",offset:2},{label:"Eastern European Time - Vilnius",name:"Europe/Vilnius",offset:2},{label:"Eastern European Time - Zaporozhye",name:"Europe/Zaporozhye",offset:2},{label:"Famagusta Time",name:"Asia/Famagusta",offset:2},{label:"Israel Time",name:"Asia/Jerusalem",offset:2},{label:"South Africa Standard Time",name:"Africa/Johannesburg",offset:2},{label:"Arabian Standard Time - Baghdad",name:"Asia/Baghdad",offset:3},{label:"Arabian Standard Time - Qatar",name:"Asia/Qatar",offset:3},{label:"Arabian Standard Time - Riyadh",name:"Asia/Riyadh",offset:3},{label:"East Africa Time - Juba",name:"Africa/Juba",offset:3},{label:"East Africa Time - Nairobi",name:"Africa/Nairobi",offset:3},{label:"Kirov Time",name:"Europe/Kirov",offset:3},{label:"Moscow Standard Time - Minsk",name:"Europe/Minsk",offset:3},{label:"Moscow Standard Time - Moscow",name:"Europe/Moscow",offset:3},{label:"Moscow Standard Time - Simferopol",name:"Europe/Simferopol",offset:3},{label:"Syowa Time",name:"Antarctica/Syowa",offset:3},{label:"Turkey Time",name:"Europe/Istanbul",offset:3},{label:"Iran Time",name:"Asia/Tehran",offset:3.5},{label:"Armenia Standard Time",name:"Asia/Yerevan",offset:4},{label:"Astrakhan Time",name:"Europe/Astrakhan",offset:4},{label:"Azerbaijan Standard Time",name:"Asia/Baku",offset:4},{label:"Georgia Standard Time",name:"Asia/Tbilisi",offset:4},{label:"Gulf Standard Time",name:"Asia/Dubai",offset:4},{label:"Mauritius Standard Time",name:"Indian/Mauritius",offset:4},{label:"R\xe9union Time",name:"Indian/Reunion",offset:4},{label:"Samara Standard Time",name:"Europe/Samara",offset:4},{label:"Saratov Time",name:"Europe/Saratov",offset:4},{label:"Seychelles Time",name:"Indian/Mahe",offset:4},{label:"Ulyanovsk Time",name:"Europe/Ulyanovsk",offset:4},{label:"Volgograd Standard Time",name:"Europe/Volgograd",offset:4},{label:"Afghanistan Time",name:"Asia/Kabul",offset:4.5},{label:"French Southern & Antarctic Time",name:"Indian/Kerguelen",offset:5},{label:"Maldives Time",name:"Indian/Maldives",offset:5},{label:"Mawson Time",name:"Antarctica/Mawson",offset:5},{label:"Pakistan Standard Time",name:"Asia/Karachi",offset:5},{label:"Tajikistan Time",name:"Asia/Dushanbe",offset:5},{label:"Turkmenistan Standard Time",name:"Asia/Ashgabat",offset:5},{label:"Uzbekistan Standard Time - Samarkand",name:"Asia/Samarkand",offset:5},{label:"Uzbekistan Standard Time - Tashkent",name:"Asia/Tashkent",offset:5},{label:"West Kazakhstan Time - Aqtau",name:"Asia/Aqtau",offset:5},{label:"West Kazakhstan Time - Aqtobe",name:"Asia/Aqtobe",offset:5},{label:"West Kazakhstan Time - Atyrau",name:"Asia/Atyrau",offset:5},{label:"West Kazakhstan Time - Oral",name:"Asia/Oral",offset:5},{label:"West Kazakhstan Time - Qyzylorda",name:"Asia/Qyzylorda",offset:5},{label:"Yekaterinburg Standard Time",name:"Asia/Yekaterinburg",offset:5},{label:"India Standard Time - Colombo",name:"Asia/Colombo",offset:5.5},{label:"India Standard Time - Kolkata",name:"Asia/Kolkata",offset:5.5},{label:"Nepal Time",name:"Asia/Kathmandu",offset:5.75},{label:"Bangladesh Standard Time",name:"Asia/Dhaka",offset:6},{label:"Bhutan Time",name:"Asia/Thimphu",offset:6},{label:"East Kazakhstan Time - Almaty",name:"Asia/Almaty",offset:6},{label:"East Kazakhstan Time - Qostanay",name:"Asia/Qostanay",offset:6},{label:"Indian Ocean Time",name:"Indian/Chagos",offset:6},{label:"Kyrgyzstan Time",name:"Asia/Bishkek",offset:6},{label:"Omsk Standard Time",name:"Asia/Omsk",offset:6},{label:"Urumqi Time",name:"Asia/Urumqi",offset:6},{label:"Vostok Time",name:"Antarctica/Vostok",offset:6},{label:"Cocos Islands Time",name:"Indian/Cocos",offset:6.5},{label:"Myanmar Time",name:"Asia/Yangon",offset:6.5},{label:"Barnaul Time",name:"Asia/Barnaul",offset:7},{label:"Christmas Island Time",name:"Indian/Christmas",offset:7},{label:"Davis Time",name:"Antarctica/Davis",offset:7},{label:"Hovd Standard Time",name:"Asia/Hovd",offset:7},{label:"Indochina Time - Bangkok",name:"Asia/Bangkok",offset:7},{label:"Indochina Time - Ho Chi Minh City",name:"Asia/Ho_Chi_Minh",offset:7},{label:"Krasnoyarsk Standard Time - Krasnoyarsk",name:"Asia/Krasnoyarsk",offset:7},{label:"Krasnoyarsk Standard Time - Novokuznetsk",name:"Asia/Novokuznetsk",offset:7},{label:"Novosibirsk Standard Time",name:"Asia/Novosibirsk",offset:7},{label:"Tomsk Time",name:"Asia/Tomsk",offset:7},{label:"Western Indonesia Time - Jakarta",name:"Asia/Jakarta",offset:7},{label:"Western Indonesia Time - Pontianak",name:"Asia/Pontianak",offset:7},{label:"Australian Western Standard Time - Casey",name:"Antarctica/Casey",offset:8},{label:"Australian Western Standard Time - Perth",name:"Australia/Perth",offset:8},{label:"Brunei Darussalam Time",name:"Asia/Brunei",offset:8},{label:"Central Indonesia Time",name:"Asia/Makassar",offset:8},{label:"China Standard Time - Macau",name:"Asia/Macau",offset:8},{label:"China Standard Time - Shanghai",name:"Asia/Shanghai",offset:8},{label:"Choibalsan Standard Time",name:"Asia/Choibalsan",offset:8},{label:"Hong Kong Standard Time",name:"Asia/Hong_Kong",offset:8},{label:"Irkutsk Standard Time",name:"Asia/Irkutsk",offset:8},{label:"Malaysia Time - Kuala Lumpur",name:"Asia/Kuala_Lumpur",offset:8},{label:"Malaysia Time - Kuching",name:"Asia/Kuching",offset:8},{label:"Philippine Standard Time",name:"Asia/Manila",offset:8},{label:"Singapore Standard Time",name:"Asia/Singapore",offset:8},{label:"Taipei Standard Time",name:"Asia/Taipei",offset:8},{label:"Ulaanbaatar Standard Time",name:"Asia/Ulaanbaatar",offset:8},{label:"Australian Central Western Standard Time",name:"Australia/Eucla",offset:8.75},{label:"East Timor Time",name:"Asia/Dili",offset:9},{label:"Eastern Indonesia Time",name:"Asia/Jayapura",offset:9},{label:"Japan Standard Time",name:"Asia/Tokyo",offset:9},{label:"Korean Standard Time - Pyongyang",name:"Asia/Pyongyang",offset:9},{label:"Korean Standard Time - Seoul",name:"Asia/Seoul",offset:9},{label:"Palau Time",name:"Pacific/Palau",offset:9},{label:"Yakutsk Standard Time - Chita",name:"Asia/Chita",offset:9},{label:"Yakutsk Standard Time - Khandyga",name:"Asia/Khandyga",offset:9},{label:"Yakutsk Standard Time - Yakutsk",name:"Asia/Yakutsk",offset:9},{label:"Australian Central Standard Time",name:"Australia/Darwin",offset:9.5},{label:"Australian Eastern Standard Time - Brisbane",name:"Australia/Brisbane",offset:10},{label:"Australian Eastern Standard Time - Lindeman",name:"Australia/Lindeman",offset:10},{label:"Chamorro Standard Time",name:"Pacific/Guam",offset:10},{label:"Chuuk Time",name:"Pacific/Chuuk",offset:10},{label:"Dumont-d\u2019Urville Time",name:"Antarctica/DumontDUrville",offset:10},{label:"Papua New Guinea Time",name:"Pacific/Port_Moresby",offset:10},{label:"Vladivostok Standard Time - Ust-Nera",name:"Asia/Ust-Nera",offset:10},{label:"Vladivostok Standard Time - Vladivostok",name:"Asia/Vladivostok",offset:10},{label:"Central Australia Time - Adelaide",name:"Australia/Adelaide",offset:10.5},{label:"Central Australia Time - Broken Hill",name:"Australia/Broken_Hill",offset:10.5},{label:"Bougainville Time",name:"Pacific/Bougainville",offset:11},{label:"Eastern Australia Time - Currie",name:"Australia/Currie",offset:11},{label:"Eastern Australia Time - Hobart",name:"Australia/Hobart",offset:11},{label:"Eastern Australia Time - Melbourne",name:"Australia/Melbourne",offset:11},{label:"Eastern Australia Time - Sydney",name:"Australia/Sydney",offset:11},{label:"Kosrae Time",name:"Pacific/Kosrae",offset:11},{label:"Lord Howe Time",name:"Australia/Lord_Howe",offset:11},{label:"Macquarie Island Time",name:"Antarctica/Macquarie",offset:11},{label:"Magadan Standard Time",name:"Asia/Magadan",offset:11},{label:"New Caledonia Standard Time",name:"Pacific/Noumea",offset:11},{label:"Norfolk Island Time",name:"Pacific/Norfolk",offset:11},{label:"Ponape Time",name:"Pacific/Pohnpei",offset:11},{label:"Sakhalin Standard Time",name:"Asia/Sakhalin",offset:11},{label:"Solomon Islands Time",name:"Pacific/Guadalcanal",offset:11},{label:"Srednekolymsk Time",name:"Asia/Srednekolymsk",offset:11},{label:"Vanuatu Standard Time",name:"Pacific/Efate",offset:11},{label:"Anadyr Standard Time",name:"Asia/Anadyr",offset:12},{label:"Fiji Time",name:"Pacific/Fiji",offset:12},{label:"Gilbert Islands Time",name:"Pacific/Tarawa",offset:12},{label:"Marshall Islands Time - Kwajalein",name:"Pacific/Kwajalein",offset:12},{label:"Marshall Islands Time - Majuro",name:"Pacific/Majuro",offset:12},{label:"Nauru Time",name:"Pacific/Nauru",offset:12},{label:"Petropavlovsk-Kamchatski Standard Time",name:"Asia/Kamchatka",offset:12},{label:"Tuvalu Time",name:"Pacific/Funafuti",offset:12},{label:"Wake Island Time",name:"Pacific/Wake",offset:12},{label:"Wallis & Futuna Time",name:"Pacific/Wallis",offset:12},{label:"New Zealand Time",name:"Pacific/Auckland",offset:13},{label:"Phoenix Islands Time",name:"Pacific/Enderbury",offset:13},{label:"Tokelau Time",name:"Pacific/Fakaofo",offset:13},{label:"Tonga Standard Time",name:"Pacific/Tongatapu",offset:13},{label:"Chatham Time",name:"Pacific/Chatham",offset:13.75},{label:"Apia Time",name:"Pacific/Apia",offset:14},{label:"Line Islands Time",name:"Pacific/Kiritimati",offset:14}],os=e=>{const t=e.classes;var a=null,n=new Date;a=null!=e.value?Yt(e.value).date:Yt(n.getTime()).date;return o.a.createElement(et.a,{required:!0,error:e.error,label:e.field,type:"date",className:t.textField,value:a,onChange:t=>{e.onChange(Kt(t.target.value+"T00:00"))},fullWidth:null!=e.fullWidth&&e.fullWidth,InputLabelProps:{shrink:!0},InputProps:{style:{marginTop:24}}})},cs=e=>{const t=e.classes;var a,n=null,r=null,i=new Date;null!=e.value?(a=Yt(e.value),n=a.date,r=a.time):(a=Yt(i.getTime()),n=a.date,r="00:00");return o.a.createElement("span",null,o.a.createElement(et.a,{required:!0,error:e.error,label:e.field,type:"date",className:t.textField,value:n,onChange:t=>{(new Date).setTime(Kt(t.target.value+"T"+r)),e.onChange(Kt(t.target.value+"T"+r))},InputLabelProps:{shrink:!0}}),o.a.createElement(et.a,{required:!0,error:e.error,label:e.field,type:"time",className:t.textField,value:r,onChange:t=>{console.log(t.target.value),e.onChange(Kt(n+"T"+t.target.value))},InputLabelProps:{shrink:!0},inputProps:{step:60}}))},ms=e=>{const t=e.classes;var a="";return null!=e.value&&(a=e.value),o.a.createElement(et.a,{required:!0,error:e.error,label:e.field,type:"number",className:t.textField,fullWidth:!0,value:a,onChange:t=>{e.onChange(t.target.value)},InputLabelProps:{shrink:!0}})};const ps={boxSizing:"border-box",color:"rgba(0, 0, 0, 0.54)",fontSize:"1rem",fontWeight:400,lineHeight:1,transition:"color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms,transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms",transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left",top:0,left:0};var us=e=>{var t="";null!=e.value&&(t=e.value);var a=[];for(var n in ls){var r=ls[n],i=Math.abs(r.offset),s=r.offset<0,l=60*i,c=l%60,m=Math.floor(l/60),p="GMT";p+=s?"-":"+",m<10&&(p+="0"),p+=m+"",p+=":",c<10&&(p+="0"),p+=c,a.push(o.a.createElement(cn.a,{key:r.name,value:r.name},r.name," (",p,")"))}return o.a.createElement(ye.a,{style:{marginLeft:8}},o.a.createElement(lr.a,{style:ps,component:"label"},e.label),o.a.createElement(vr.a,{value:t,style:{marginTop:0},onChange:t=>{e.onChange(t.target.value)},inputProps:{name:"timezone",id:"timezone_select"}},a))};class ds extends o.a.Component{constructor(e){super(e),this.handleTimezoneChange=e=>{let t=this.props.activePeriod;t.timezone=e,this.props.onChange(t)},this.handleStartChange=e=>{let t=this.props.activePeriod;t.start=e,this.props.onChange(t)},this.handleDurationChange=e=>{let t=this.props.activePeriod;t.duration=e,this.props.onChange(t)},this.handleNeedAdvancedActivePeriod=e=>{if(!e.target.checked){let e=this.props.activePeriod;e.notificationDuration="",e.recoveryDuration="",e.toleranceDuration="",e.rampUpDuration="",this.props.onChange(e)}this.setState({needAdvancedActivePeriod:e.target.checked})},this.handleNotificationDurationChange=e=>{let t=this.props.activePeriod;t.notificationDuration=e,this.props.onChange(t)},this.handleRecoveryDurationChange=e=>{let t=this.props.activePeriod;t.recoveryDuration=e,this.props.onChange(t)},this.handleToleranceDurationChange=e=>{let t=this.props.activePeriod;t.toleranceDuration=e,this.props.onChange(t)},this.handleRampUpDurationChange=e=>{let t=this.props.activePeriod;t.rampUpDuration=e,this.props.onChange(t)},this.state={},this.state.needAdvancedActivePeriod=!1,""===e.activePeriod.notificationDuration&&""===e.activePeriod.rampUpDuration&&""===e.activePeriod.toleranceDuration&&""===e.activePeriod.recoveryDuration||(this.state.needAdvancedActivePeriod=!0)}componentWillReceiveProps(e){var t={},a=!1;""===e.activePeriod.notificationDuration&&""===e.activePeriod.rampUpDuration&&""===e.activePeriod.toleranceDuration&&""===e.activePeriod.recoveryDuration||(t.needAdvancedActivePeriod=!0,a=!0),a&&this.setState(t)}render(){const e=this.props,t=e.classes,a=e.hasError,n=e.activePeriod;return o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(us,{label:"Timezone",classes:t,value:n.timezone,onChange:this.handleTimezoneChange})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(cs,{classes:t,field:"Start Date",error:a&&null==n.start,value:n.start,onChange:this.handleStartChange})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(ms,{classes:t,field:"Duration (minutes)",error:a&&""===n.duration,value:n.duration,onChange:this.handleDurationChange})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(_e.a,{control:o.a.createElement(xe.a,{checked:this.state.needAdvancedActivePeriod,onChange:this.handleNeedAdvancedActivePeriod,value:"Intervals",color:"primary"}),label:"Advanced Period"})),o.a.createElement(Ct.a,{item:!0,xs:2})),this.state.needAdvancedActivePeriod?o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})):null,this.state.needAdvancedActivePeriod?o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(ms,{classes:t,field:"Notification Duration (minutes)",value:n.notificationDuration,onChange:this.handleNotificationDurationChange})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(ms,{classes:t,field:"RampUp Duration (minutes)",value:n.rampUpDuration,onChange:this.handleRampUpDurationChange})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(ms,{classes:t,field:"Tolerance Duration (minutes)",value:n.toleranceDuration,onChange:this.handleToleranceDurationchange})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(ms,{classes:t,field:"Recovery Duration (minutes)",value:n.recoveryDuration,onChange:this.handleRecoveryDurationChange})),o.a.createElement(Ct.a,{item:!0,xs:2})):null)}}var hs=ds;class Es extends o.a.Component{constructor(e){super(e),this.handleAddSignalClick=()=>{var e=this.props.eventSignal;e.push({signalName:"",signalType:"",unitType:"",intervals:[],currentValue:""}),this.props.onChange(e)},this.handleEventSignalChange=e=>t=>{var a=this.props.eventSignal;a[e]=t,this.props.onChange(a)},this.handleRemoveEventSignalChange=e=>()=>{var t=this.props.eventSignal;t.splice(e,1),this.props.onChange(t)},this.state={}}render(){const e=this.props,t=e.classes,a=e.hasError,n=e.eventSignal;var r=this;return o.a.createElement("div",null,o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},n.map((e,i)=>o.a.createElement("div",{key:"signal_panel_"+i},0!==i?o.a.createElement(Ct.a,{container:!0,style:{marginTop:20,marginBottom:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})):null,o.a.createElement(ji,{classes:t,eventSignal:e,hasError:a,onChange:r.handleEventSignalChange(i),onRemove:r.handleRemoveEventSignalChange(i),canBeRemoved:n.length>0})))),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(Te.a,{key:"btn_create",variant:"outlined",color:"primary",size:"small",className:t.button,onClick:this.handleAddSignalClick},o.a.createElement(Et.a,null),"Add New Signal")),o.a.createElement(Ct.a,{item:!0,xs:2})))}}var gs=Es;class vs extends o.a.Component{render(){const e=this.props,t=e.classes,a=e.eventTarget,n=e.group,r=e.ven;return o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(Xi,{classes:t,eventTarget:a,group:n,onChange:this.props.onChange,ven:r,onVenSuggestionsFetchRequested:this.props.onVenSuggestionsFetchRequested,onVenSuggestionsClearRequested:this.props.onVenSuggestionsClearRequested,onVenSuggestionsSelect:this.props.onVenSuggestionsSelect})),o.a.createElement(Ct.a,{item:!0,xs:2})))}}var fs=vs;class Cs extends o.a.Component{render(){const e=this.props,t=e.classes,a=e.descriptor,n=e.eventSignal;return o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(et.a,{label:"Market Context",value:a.marketContext,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(et.a,{label:"Priority",value:a.priority,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(et.a,{label:"Response required",value:a.responseRequired,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(et.a,{label:"Scope",value:a.testEvent?"Test Event":"Production Event",className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20,marginBottom:10},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),n.map((e,a)=>o.a.createElement(Ct.a,{container:!0,spacing:24,key:"signal_confirmation_panel_"+a},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(et.a,{label:"Signal Name",value:e.signalName,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(et.a,{label:"Signal Type",value:e.signalType,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(et.a,{label:"Unit",value:e.unitType,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(et.a,{label:"Current Value",value:e.currentValue,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(et.a,{label:"Nb Intervals",value:e.intervals.length,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:2}))),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20,marginBottom:10},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:2},o.a.createElement(et.a,{label:"Nb Targeted devices",value:12,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:2})))}}var Ts=Cs;class Ss extends o.a.Component{constructor(e){super(e),this.handleFinish=()=>{this.handleCreateEvent()},this.handleNext=()=>{const e=this.state.activeStep;e===["Descriptor","Active Period","Signal","Targets","Confirmation"].length-1?this.handleFinish():this.setState({activeStep:e+1})},this.handleBack=()=>{this.setState(e=>({activeStep:e.activeStep-1}))},this.handleReset=()=>{this.setState({activeStep:0})},this.handleCreateEvent=e=>{var t=(e,t,a)=>{null!=a&&(e[t]=jt(a))},a={start:this.state.activePeriod.start,duration:jt(this.state.activePeriod.duration)};t(a,"rampUpDuration",this.state.activePeriod.rampUpDuration),t(a,"recoveryDuration",this.state.activePeriod.recoveryDuration),t(a,"toleranceDuration",this.state.activePeriod.toleranceDuration),t(a,"notificationDuration",this.state.activePeriod.notificationDuration);var n={published:e,descriptor:{marketContext:this.state.descriptor.marketContext,priority:this.state.descriptor.priority,responseRequired:this.state.descriptor.responseRequired,testEvent:this.state.descriptor.testEvent,state:"ACTIVE",oadrProfile:this.state.descriptor.oadrProfile},activePeriod:a,signals:this.state.eventSignal,targets:this.state.eventTarget};this.props.createEvent(n)},this.handleDescriptorChange=e=>{this.setState(e)},this.handleActivePeriodChange=e=>{this.setState(e)},this.handleEventSignalChange=e=>{this.setState(e)},this.handleEventTargetChange=e=>{this.setState(e)},this.createEvent=()=>{};var t=new Date;this.state={activeStep:0,descriptor:{oadrProfile:"OADR20B",priority:0,responseRequired:"ALWAYS",testEvent:!1,vtnComment:"",marketContext:"http://MarketContext1"},activePeriod:{timezone:"UTC",start:t.getTime(),duration:120,notificationDuration:120,rampUpDuration:120,toleranceDuration:120,recoveryDuration:120},eventSignal:[{intervals:[],currentValue:"97.5",signalName:"ENERGY_PRICE",signalType:"price",unitType:"euro_per_kwh"}],eventTarget:[{targetType:"ven",targetId:"4A:D1:2E:95:49:43:80:0B:8D:E9"}]}}render(){const e=this.props,t=e.classes,a=e.marketContext,n=e.group,r=e.ven,i=["Descriptor","Active Period","Signal","Targets","Confirmation"],s=this.state,l=s.activeStep,c=s.descriptor,m=s.activePeriod,p=s.eventSignal,u=s.eventTarget,d=s.hasError;var h,E=this;return o.a.createElement("div",{className:t.root},o.a.createElement($n.a,{activeStep:l,className:t.stepper},i.map((e,t)=>{const a={},n={};return a.completed=!1,o.a.createElement(tr.a,Object.assign({key:e},a),o.a.createElement(nr.a,n,e))})),o.a.createElement("div",null,l===i.length?o.a.createElement("div",null,o.a.createElement(ue.a,{className:t.instructions},"All steps completed - you're finished"),o.a.createElement(Te.a,{onClick:this.handleReset,className:t.button},"Reset")):o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(Te.a,{disabled:0===l,onClick:this.handleBack,className:t.button},"Back"),o.a.createElement(Te.a,{variant:"contained",color:"primary",onClick:(h=l,e=>{!function(e){switch(e){case 0:return null!==c.priority&&null!==c.marketContext&&""!==c.eventName;case 1:return null!==m.start&&""!==m.duration;case 2:for(var t in p)if(""===p[t].signalName||""===p[t].signalType||""===p[t].currentValue&&0===p[t].signalInterval.length)return!1;return!0;case 3:return u.length>0;case 4:return!0;default:return!1}}(h)?E.setState({hasError:!0}):(E.state.hasError&&E.setState({hasError:!1}),E.handleNext(e))}),className:t.button},l===i.length-1?"Create Event":"Next"),l===i.length-1?o.a.createElement(Te.a,{variant:"contained",color:"secondary",onClick:()=>{E.handleCreateEvent(!0)},className:t.button},"Create And Publish Event"):null),o.a.createElement(ue.a,{component:"div",className:t.instructions},o.a.createElement(Me.a,{elevation:1,style:{padding:"20px 0px"}},(e=>{switch(e){case 0:return o.a.createElement(ss,{classes:t,marketContext:a,descriptor:c,onChange:this.handleDescriptorChange,hasError:d});case 1:return o.a.createElement(hs,{classes:t,marketContext:a,activePeriod:m,onChange:this.handleActivePeriodChange,hasError:d});case 2:return o.a.createElement(gs,{classes:t,onChange:this.handleEventSignalChange,eventSignal:p,hasError:d});case 3:return o.a.createElement(fs,{classes:t,group:n,eventTarget:u,onChange:this.handleEventTargetChange,ven:r,onVenSuggestionsFetchRequested:this.props.onVenSuggestionsFetchRequested,onVenSuggestionsClearRequested:this.props.onVenSuggestionsClearRequested,onVenSuggestionsSelect:this.props.onVenSuggestionsSelect});case 4:return o.a.createElement(Ts,{classes:t,group:n,marketContext:a,descriptor:c,eventTarget:u,eventSignal:p,createEvent:this.createEvent});default:return"Unknown step"}})(l))))))}}var Rs=Ss;function bs(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class ys extends o.a.Component{constructor(...e){super(...e),this.state={value:0},this.handleChange=(e,t)=>{this.setState({value:t})},this.onVenSuggestionsFetchRequested=e=>{[].push({type:"VEN",value:e.value}),this.props.venActions.searchVen([],0,5)},this.onVenSuggestionsClearRequested=()=>{},this.onVenSuggestionsSelect=e=>{console.log(e)}}componentDidMount(){this.props.vtnConfigurationActions.loadMarketContext(),this.props.vtnConfigurationActions.loadGroup()}render(){const e=this.props,t=e.classes,a=e.event_create,n=this.state.value;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"Event Create"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(bs,null,o.a.createElement(Rs,{classes:t,marketContext:a.marketContext,group:a.group,createEvent:this.props.eventActions.createEvent,ven:a.ven,onVenSuggestionsFetchRequested:this.onVenSuggestionsFetchRequested,onVenSuggestionsClearRequested:this.onVenSuggestionsClearRequested,onVenSuggestionsSelect:this.onVenSuggestionsSelect})))}}var As=Object(g.connect)((function(e){return{event_create:e.event_create}}),(function(e){return{eventActions:Object(v.b)(s,e),vtnConfigurationActions:Object(v.b)(r,e),venActions:Object(v.b)(i,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit,display:"flex"},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},iconButton:{marginTop:10}}))(ys)),_s=a(101),Ns=a.n(_s);class xs extends o.a.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.classes,a=e.ven;var n=e=>o.a.createElement(kr.a,{className:t.success,style:{maxWidth:"none",paddingTop:0,paddingBottom:0},message:o.a.createElement(Ct.a,{container:!0,direction:"row",alignItems:"center"},o.a.createElement(Ct.a,{item:!0},o.a.createElement(st.a,{style:{width:20,height:20,marginRight:20,color:"#fff"}})),o.a.createElement(Ct.a,{item:!0},e.message))}),r=e=>o.a.createElement(kr.a,{className:t.success,style:{maxWidth:"none",paddingTop:0,paddingBottom:0,backgroundColor:"#fafafa"},message:o.a.createElement(Ct.a,{container:!0,direction:"row",alignItems:"center"},o.a.createElement(Ct.a,{item:!0},o.a.createElement(vt.a,{style:{width:20,height:20,marginRight:20,color:"#000"}})),o.a.createElement(Ct.a,{item:!0},e.message))}),i=null,s=null;return null==a.registrationId?i=o.a.createElement(r,{message:o.a.createElement(ue.a,{component:"span"},o.a.createElement("strong",null,"Not Registered"))}):(i=o.a.createElement(n,{message:o.a.createElement(ue.a,{component:"span",style:{color:"#fff"}},o.a.createElement("strong",null,"Registered"))}),s=this.props.actions),o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,lg:4,md:6},o.a.createElement(Zt,{key:"ven_card_",classes:t,ven:a})),o.a.createElement(Ct.a,{item:!0,lg:8,md:6},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{item:!0,xs:4},i)),s))))}}var ks=xs,Os=e=>{var t=null!=e.value?e.value:"";return o.a.createElement(et.a,{label:e.field,value:t,className:e.className,margin:"normal",fullWidth:!0,InputProps:{readOnly:!0}})};class Ds extends o.a.Component{constructor(e){super(e),this.handleReRegistrationClick=()=>{this.props.registerPartyRequestReregistration(this.props.ven.username)},this.handleCancelRegistrationClick=()=>{this.props.registerPartyCancelPartyRegistration(this.props.ven.username)},this.handleCleanRegistrationClick=()=>{this.props.cleanRegistration(this.props.ven.username)},this.state={}}render(){const e=this.props,t=e.classes,a=e.ven;return o.a.createElement("div",{className:t.root},o.a.createElement(ks,{classes:t,ven:a,actions:o.a.createElement(Ct.a,{container:!0,spacing:12},o.a.createElement(Ct.a,{item:!0,xs:12},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:this.handleReRegistrationClick},o.a.createElement(Ni.a,{style:{marginRight:15}})," RE-REGISTRATION")),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"secondary",fullWidth:!0,size:"small",onClick:this.handleCancelRegistrationClick},o.a.createElement(Ni.a,{style:{marginRight:15}})," CANCEL REGISTRATION")),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"secondary",fullWidth:!0,size:"small",onClick:this.handleCleanRegistrationClick},o.a.createElement(Ns.a,{style:{marginRight:15}})," CLEAN REGISTRATION")))}),o.a.createElement(he.a,{style:{marginTop:"20px"}}),o.a.createElement(Ct.a,null,o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Os,{className:t.textField,field:"VenID",value:a.username})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Os,{className:t.textField,field:"Authentication Method",value:a.authenticationType})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Os,{className:t.textField,field:"Common Name",value:a.commonName})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Os,{className:t.textField,field:"Xml Signature",value:a.oadrProfil})))),o.a.createElement(Ct.a,null,o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Os,{className:t.textField,field:"Oadr name",value:a.oadrName})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Os,{className:t.textField,field:"Transport",value:a.transport})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Os,{className:t.textField,field:"RegistrationID",value:a.registrationId})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Os,{className:t.textField,field:"Push Url",value:a.pushUrl})))),o.a.createElement(Ct.a,null,o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Os,{className:t.textField,field:"Pull Model",value:a.httpPullModel})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Os,{className:t.textField,field:"Report Only",value:a.reportOnly})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Os,{className:t.textField,field:"Xml Signature",value:a.xmlSignature})),o.a.createElement(Ct.a,{item:!0,xs:3}))))}}var Ps=Ds,Vs=a(228),Is=a.n(Vs);function ws(e){return null==e.start&&null==e.duration&&!Ms(e)&&"METADATA_TELEMETRY_STATUS"===e.reportName}function Ms(e){return null==e.start&&null==e.duration&&"METADATA_TELEMETRY_STATUS"===e.reportName&&"METADATA"===e.reportSpecifierId}function Ls(e){return(null!=e.start||null!=e.duration)&&"METADATA_HISTORY_USAGE"===e.reportName}function Us(e){return"METADATA_TELEMETRY_USAGE"===e.reportName}var Gs=e=>{const t=e.classes,a=e.availableReport,n=e.pagination;var r=[];a&&(r=a);var i=t=>a=>e.handleViewReportDetail(t);return o.a.createElement(Me.a,{className:t.root},o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{align:"right"},"Report Behavior"),o.a.createElement(Mn.a,{align:"right"},"Specifier ID"),o.a.createElement(Mn.a,{align:"right"},"Created",o.a.createElement("br",null),"Date/Time"),o.a.createElement(Mn.a,{align:"right"},"Report Name"),o.a.createElement(Mn.a,{align:"right"}))),o.a.createElement(In.a,null,r.map(t=>{return o.a.createElement(Bn.a,{key:t.id,hover:!0},o.a.createElement(Mn.a,{scope:"row",onClick:i(t.reportSpecifierId),align:"right"},(e=>{var t="Unknown";return Ms(e)?t="Metadata":ws(e)?t="Action":Ls(e)?t="History":Us(e)&&(t="Telemetry"),t})(t)),o.a.createElement(Mn.a,{scope:"row",onClick:i(t.reportSpecifierId),align:"right"},t.reportSpecifierId),o.a.createElement(Mn.a,{scope:"row",onClick:i(t.reportSpecifierId),align:"right"},(e=>{var t=Yt(e.createdDatetime);return o.a.createElement("span",null,t.date,o.a.createElement("br",null),t.time," ",t.tz)})(t)),o.a.createElement(Mn.a,{scope:"row",onClick:i(t.reportSpecifierId),align:"right"},t.reportName),o.a.createElement(Mn.a,{align:"right"},o.a.createElement(Te.a,{size:"small",color:"primary",onClick:(a=t.reportSpecifierId,()=>{e.handleCreateRequestClick(a)})},(e=>{var t="Request";return Us(e)&&(t="Subscribe"),t})(t))));var a}))),o.a.createElement(Is.a,{rowsPerPageOptions:n.options,component:"div",count:e.totalReport,rowsPerPage:n.size,page:n.page,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:e.handleChangePage,onChangeRowsPerPage:e.handleChangeRowsPerPage}))};class Bs extends o.a.Component{constructor(e){super(e),this.handleRequestRegisterReportClick=()=>{this.props.requestRegisterReport(this.props.ven.username)},this.handleSendRegisterReportClick=()=>{this.props.sendRegisterReport(this.props.ven.username)},this.handleCreateRequestClick=e=>{W.push("/ven/detail/"+this.props.ven.username+"/reports/"+e+"/create")},this.handleViewReportDetail=e=>{W.push("/ven/detail/"+this.props.ven.username+"/reports/"+e)},this.handleChangePage=(e,t)=>{var a=this.state.pagination;a.page=t,this.setState({pagination:a}),this.props.pageVenAvailableReport(this.props.venId,t,this.state.pagination.size)},this.handleChangeRowsPerPage=e=>{var t=this.state.pagination;t.size=e.target.value,t.page=0,this.setState({pagination:t}),this.props.pageVenAvailableReport(this.props.venId,0,e.target.value)},this.state={pagination:{page:0,size:10,options:[5,10,25]}}}componentDidMount(){this.props.pageVenAvailableReport(this.props.venId,this.state.pagination.page,this.state.pagination.size)}render(){const e=this.props,t=e.classes,a=e.ven,n=e.availableReport,r=e.totalReport;return o.a.createElement("div",{className:t.root},o.a.createElement(ks,{classes:t,ven:a,actions:[o.a.createElement(Ct.a,{key:"report_action_first_row",container:!0},o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:this.handleRequestRegisterReportClick},o.a.createElement(Ni.a,{style:{marginRight:15}})," REQUIRE REPORTS")),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:this.handleSendRegisterReportClick},o.a.createElement(Ni.a,{style:{marginRight:15}})," SEND REQUESTS")),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"secondary",fullWidth:!0,size:"small"},o.a.createElement(Ns.a,{style:{marginRight:15}})," CLEAN REQUESTS")),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"secondary",fullWidth:!0,size:"small"},o.a.createElement(Ns.a,{style:{marginRight:15}})," CLEAN REPORTS")))]}),o.a.createElement(he.a,{style:{marginBottom:"30px",marginTop:"20px"}}),o.a.createElement(Gs,{ven:a,availableReport:n,classes:t,handleViewReportDetail:this.handleViewReportDetail,handleCreateRequestClick:this.handleCreateRequestClick,pagination:this.state.pagination,handleChangePage:this.handleChangePage,handleChangeRowsPerPage:this.handleChangeRowsPerPage,totalReport:r}))}}var qs=Bs,Fs=e=>{const t=e.classes,a=e.requestedReport,n=e.handleDeleteRequestClick,r=e.pagination;var i=(t,a)=>n=>e.handleViewReportRequestDetail(t,a);return o.a.createElement(Me.a,{className:t.root},o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{align:"right"},"Specifier ID"),o.a.createElement(Mn.a,{align:"right"},"Created",o.a.createElement("br",null),"Date/Time"),o.a.createElement(Mn.a,{align:"right"}))),o.a.createElement(In.a,null,a.map(e=>{return console.log(e),o.a.createElement(Bn.a,{key:e.reportRequestId+e.reportSpecifierId+e.rid,hover:!0},o.a.createElement(Mn.a,{scope:"row",onClick:i(e.reportSpecifierId,e.reportRequestId),align:"right"},e.reportSpecifierId),o.a.createElement(Mn.a,{scope:"row",onClick:i(e.reportSpecifierId,e.reportRequestId),align:"right"},(e=>{var t=Yt(e.createdDatetime);return o.a.createElement("span",null,t.date,o.a.createElement("br",null),t.time," ",t.tz)})(e)),o.a.createElement(Mn.a,{align:"right"},o.a.createElement(Te.a,{size:"small",color:"secondary",onClick:(a=e.reportRequestId,()=>{n(a)})}," ",null!=(t=e).end||null!=t.start||0===zt(t.granularity)||0===zt(t.reportBackDuration)?"DELETE":0!==zt(t.granularity)&&0!==zt(t.reportBackDuration)?"UNSUBSCRIBE":void 0," ")));var t,a}))),o.a.createElement(Is.a,{rowsPerPageOptions:r.options,component:"div",count:e.totalRequest,rowsPerPage:r.size,page:r.page,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:e.handleChangePage,onChangeRowsPerPage:e.handleChangeRowsPerPage}))};class Ws extends o.a.Component{constructor(e){super(e),this.handleRequestRegisterReportClick=()=>{this.props.requestRegisterReport(this.props.ven.username)},this.handleSendRegisterReportClick=()=>{this.props.sendRegisterReport(this.props.ven.username)},this.handleDeleteRequestClick=e=>{this.props.cancelRequestReportSubscription(this.props.ven.username,e)},this.handleViewReportRequestDetail=(e,t)=>{W.push("/ven/detail/"+this.props.ven.username+"/reports/"+e+"/requests/"+t)},this.handleChangePage=(e,t)=>{var a=this.state.pagination;a.page=t,this.setState({pagination:a}),this.props.pageVenRequestedReport(this.props.venId,t,this.state.pagination.size)},this.handleChangeRowsPerPage=e=>{var t=this.state.pagination;t.size=e.target.value,t.page=0,this.setState({pagination:t}),this.props.pageVenRequestedReport(this.props.venId,0,e.target.value)},this.state={pagination:{page:0,size:10,options:[5,10,25]}}}componentDidMount(){this.props.pageVenRequestedReport(this.props.venId,this.state.pagination.page,this.state.pagination.size)}render(){const e=this.props,t=e.classes,a=e.ven,n=e.requestedReport,r=e.totalRequest;return o.a.createElement("div",{className:t.root},o.a.createElement(ks,{classes:t,ven:a,actions:[o.a.createElement(Ct.a,{key:"report_action_first_row",container:!0,spacing:12},o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:this.handleRequestRegisterReportClick},o.a.createElement(Ni.a,{style:{marginRight:15}})," REQUIRE REPORTS")),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",fullWidth:!0,size:"small",onClick:this.handleSendRegisterReportClick},o.a.createElement(Ni.a,{style:{marginRight:15}})," SEND REQUESTS")),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"secondary",fullWidth:!0,size:"small"},o.a.createElement(Ns.a,{style:{marginRight:15}})," CLEAN REQUESTS")),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"secondary",fullWidth:!0,size:"small"},o.a.createElement(Ns.a,{style:{marginRight:15}})," CLEAN REPORTS")))]}),o.a.createElement(he.a,{style:{marginBottom:"30px",marginTop:"20px"}}),o.a.createElement(Fs,{ven:a,requestedReport:n,handleDeleteRequestClick:this.handleDeleteRequestClick,handleViewReportRequestDetail:this.handleViewReportRequestDetail,classes:t,pagination:this.state.pagination,handleChangePage:this.handleChangePage,handleChangeRowsPerPage:this.handleChangeRowsPerPage,totalRequest:r}))}}var zs=Ws;var js=e=>{const t=e.classes;return o.a.createElement(Me.a,{className:t.root},o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{align:"right"},"Opt ID"),o.a.createElement(Mn.a,{align:"right"},"MarketContext"),o.a.createElement(Mn.a,{align:"right"},"Start"),o.a.createElement(Mn.a,{align:"right"},"End"),o.a.createElement(Mn.a,{align:"right"},"Opt"))),o.a.createElement(In.a,null,e.venOpt.map((e,t)=>{var a=Yt(e.start),n=Yt(e.end);return o.a.createElement(Bn.a,{key:t},o.a.createElement(Mn.a,{scope:"row",align:"right"},e.optId),o.a.createElement(Mn.a,{scope:"row",align:"right"},e.marketContext),o.a.createElement(Mn.a,{scope:"row",align:"right"},a.date+" "+a.time+" "+a.tz),o.a.createElement(Mn.a,{scope:"row",align:"right"},n.date+" "+n.time+" "+n.tz),o.a.createElement(Mn.a,{scope:"row",align:"right"},e.opt))}))))};class Ks extends o.a.Component{constructor(e){super(e),this.handleMarketContextSelectOpen=()=>{this.setState({marketContextSelectDialogOpen:!0})},this.onStartChange=e=>{this.setState({start:e})},this.onEndChange=e=>{this.setState({end:e})},this.onFilterChange=e=>{this.setState({filter:e})},this.state={};var t=new Date,a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);this.state.start=a.getTime()-6048e5,this.state.end=a.getTime()+6048e5,this.state.filter=[]}render(){const e=this.props,t=e.classes,a=e.ven,n=e.venOpt,r=e.marketContext;return o.a.createElement("div",{className:t.root},o.a.createElement(ks,{classes:t,ven:a,actions:[]}),o.a.createElement(he.a,{style:{marginBottom:"30px",marginTop:"20px"}}),o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(os,{classes:t,field:"Start",value:this.state.start,onChange:this.onStartChange}),o.a.createElement(os,{classes:t,field:"End",value:this.state.end,onChange:this.onEndChange})),o.a.createElement(Ct.a,{item:!0,xs:9},o.a.createElement(_n,{classes:t,hasFilter:{marketContext:!0},marketContext:r,filter:this.state.filter,onFilterChange:this.onFilterChange})))),o.a.createElement(he.a,{style:{marginBottom:"20px",marginTop:"20px"}}),o.a.createElement(js,{classes:t,venOpt:n}))}}var Hs=Ks,Ys=a(229),Xs=a.n(Ys),Qs=a(230),Js=a.n(Qs),Zs=e=>o.a.createElement("div",{className:e.classes.root},o.a.createElement(pt.a,{className:e.classes.gridList,cols:3,spacing:0,cellHeight:"auto"},e.marketContext.map(t=>o.a.createElement(Xs.a,{key:t.id,className:e.classes.tile},o.a.createElement(Qt,{classes:e.classes,context:t,handleRemoveVenMarketContext:e.handleRemoveVenMarketContext(t)})))));class $s extends o.a.Component{constructor(e){super(e),this.handleMarketContextSelectOpen=()=>{this.setState({marketContextSelectDialogOpen:!0})},this.handleMarketContextSelectClose=e=>{e&&this.props.addVenMarketContext(this.props.ven.username,e.id),this.setState({marketContextSelectDialogOpen:!1})},this.handleRemoveVenMarketContext=e=>()=>{console.log(e),this.props.removeVenMarketContext(this.props.ven.username,e.id)},this.state={},this.state.marketContextSelectDialogOpen=!1}render(){const e=this.props,t=e.classes,a=e.ven,n=e.marketContext,r=e.venMarketContext;var i=[],s=[];for(var l in r)s.push(r[l].id);for(var c in n)-1===s.indexOf(n[c].id)&&i.push(n[c]);return o.a.createElement("div",{className:t.root},o.a.createElement(ks,{classes:t,ven:a,actions:[]}),o.a.createElement(he.a,{style:{marginTop:"20px"}}),o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(za.a,{label:"Filters",placeholder:"Filters",value:this.state.filter,onAdd:this.handleAddChip,onDelete:this.handleDeleteChip,fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(Dt.a,{className:t.iconButton,"aria-label":"Search"},o.a.createElement(Js.a,null))),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",size:"small",fullWidth:!0,className:t.button,onClick:this.handleMarketContextSelectOpen},o.a.createElement(Et.a,null),"Subscribe to a Market Context"),o.a.createElement(hn,{marketContext:i,open:this.state.marketContextSelectDialogOpen,close:this.handleMarketContextSelectClose,title:"Add VEN to Market Context"}))),o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:12},o.a.createElement(Zs,{classes:t,marketContext:r,handleRemoveVenMarketContext:this.handleRemoveVenMarketContext})))))}}var el=$s,tl=e=>o.a.createElement("div",{className:e.classes.root},o.a.createElement(pt.a,{className:e.classes.gridList,cols:3,spacing:0,cellHeight:"auto"},e.group.map(t=>o.a.createElement(Xs.a,{key:t.id,className:e.classes.tile},o.a.createElement(Jt,{classes:e.classes,group:t,handleRemoveVenGroup:e.handleRemoveVenGroup(t)})))));class al extends o.a.Component{constructor(e){super(e),this.handleGroupSelectOpen=()=>{this.setState({groupSelectDialogOpen:!0})},this.handleGroupSelectClose=e=>{console.log(e),e&&this.props.addVenGroup(this.props.ven.username,e.id),this.setState({groupSelectDialogOpen:!1})},this.handleRemoveVenGroup=e=>()=>{console.log(e),this.props.removeVenGroup(this.props.ven.username,e.id)},this.state={},this.state.groupSelectDialogOpen=!1}render(){const e=this.props,t=e.classes,a=e.ven,n=e.group,r=e.venGroup;var i=[],s=[];for(var l in r)s.push(r[l].id);for(var c in n)-1===s.indexOf(n[c].id)&&i.push(n[c]);return o.a.createElement("div",{className:t.root},o.a.createElement(ks,{classes:t,ven:a,actions:[]}),o.a.createElement(he.a,{style:{marginTop:"20px"}}),o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{container:!0},o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(za.a,{label:"Filters",placeholder:"Filters",value:this.state.filter,onAdd:this.handleAddChip,onDelete:this.handleDeleteChip,fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(Dt.a,{className:t.iconButton,"aria-label":"Search"},o.a.createElement(Js.a,null))),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(Te.a,{key:"btn_create",style:{marginTop:15},variant:"outlined",color:"primary",size:"small",fullWidth:!0,className:t.button,onClick:this.handleGroupSelectOpen},o.a.createElement(Et.a,null),"Add to a Group"),o.a.createElement(En,{group:i,open:this.state.groupSelectDialogOpen,close:this.handleGroupSelectClose,title:"Add VEN to group:"}))),o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:12},o.a.createElement(tl,{classes:t,group:r,handleRemoveVenGroup:this.handleRemoveVenGroup})))))}}var nl=al;function rl(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class il extends o.a.Component{constructor(){super(),this.handleChange=(e,t)=>{switch(this.setState({value:t}),t){case 0:W.push("/ven/detail/"+this.props.match.params.username+"/settings");break;case 1:W.push("/ven/detail/"+this.props.match.params.username+"/reports");break;case 2:W.push("/ven/detail/"+this.props.match.params.username+"/requests");break;case 3:W.push("/ven/detail/"+this.props.match.params.username+"/optschedules");break;case 4:W.push("/ven/detail/"+this.props.match.params.username+"/enrollments");break;case 5:W.push("/ven/detail/"+this.props.match.params.username+"/groups")}},this.state={value:0,venId:null}}componentDidMount(){switch(this.props.vtnConfigurationActions.loadMarketContext(),this.props.vtnConfigurationActions.loadGroup(),this.props.venActions.loadVenDetail(this.props.match.params.username),this.props.venActions.loadVenGroup(this.props.match.params.username),this.props.venActions.loadVenMarketContext(this.props.match.params.username),this.props.venActions.loadVenRequestedReport(this.props.match.params.username),this.props.venActions.loadVenOpt(this.props.match.params.username),this.setState({venId:this.props.match.params.username}),this.props.match.params.panel){case"settings":this.setState({value:0});break;case"reports":this.setState({value:1});break;case"requests":this.setState({value:2});break;case"optschedules":this.setState({value:3});break;case"enrollments":this.setState({value:4});break;case"groups":this.setState({value:5});break;default:this.setState({value:0})}}render(){const e=this.props,t=e.classes,a=e.ven_detail,n=this.state.value;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"Settings"}),o.a.createElement(me.a,{label:"Reports"}),o.a.createElement(me.a,{label:"Requests"}),o.a.createElement(me.a,{label:"OptSchedules"}),o.a.createElement(me.a,{label:"Enrollments"}),o.a.createElement(me.a,{label:"Groups"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(rl,null,o.a.createElement(Ps,{classes:t,ven:a.ven,group:a.group,venGroup:a.venGroup,registerPartyRequestReregistration:this.props.venActions.registerPartyRequestReregistration,registerPartyCancelPartyRegistration:this.props.venActions.registerPartyCancelPartyRegistration,cleanRegistration:this.props.venActions.cleanRegistration})),1===n&&o.a.createElement(rl,null,o.a.createElement(qs,{classes:t,ven:a.ven,marketContext:a.marketContext,availableReport:a.availableReport,totalReport:a.totalReport,totalPageReport:a.totalPageReport,requestRegisterReport:this.props.venActions.requestRegisterReport,sendRegisterReport:this.props.venActions.sendRegisterReport,cancelRequestReportSubscription:this.props.venActions.cancelRequestReportSubscription,pageVenAvailableReport:this.props.venActions.pageVenAvailableReport,venId:this.state.venId})),2===n&&o.a.createElement(rl,null,o.a.createElement(zs,{classes:t,ven:a.ven,marketContext:a.marketContext,availableReport:a.availableReport,requestedReport:a.requestedReport,totalRequest:a.totalRequest,totalPageRequest:a.totalPageRequest,requestRegisterReport:this.props.venActions.requestRegisterReport,sendRegisterReport:this.props.venActions.sendRegisterReport,cancelRequestReportSubscription:this.props.venActions.cancelRequestReportSubscription,pageVenRequestedReport:this.props.venActions.pageVenRequestedReport,venId:this.state.venId})),3===n&&o.a.createElement(rl,null,o.a.createElement(Hs,{classes:t,ven:a.ven,venOpt:a.venOpt,marketContext:a.marketContext})),4===n&&o.a.createElement(rl,null,o.a.createElement(el,{classes:t,ven:a.ven,marketContext:a.marketContext,venMarketContext:a.venMarketContext,addVenMarketContext:this.props.venActions.addVenMarketContext,removeVenMarketContext:this.props.venActions.removeVenMarketContext})),5===n&&o.a.createElement(rl,null,o.a.createElement(nl,{classes:t,ven:a.ven,group:a.group,venGroup:a.venGroup,addVenGroup:this.props.venActions.addVenGroup,removeVenGroup:this.props.venActions.removeVenGroup})))}}var sl=Object(g.connect)((function(e){return{ven_detail:e.ven_detail}}),(function(e){return{venActions:Object(v.b)(i,e),vtnConfigurationActions:Object(v.b)(r,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit,minWidth:500,marginTop:22},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},success:{backgroundColor:ri.a[600]},iconButton:{marginTop:10}}))(il)),ll=e=>{var t=null!=e.value?e.value:"";return o.a.createElement(et.a,{label:e.field,value:t,className:e.className,margin:"normal",fullWidth:!0,InputProps:{shrink:"true",readOnly:!0}})};function ol(e){const t=e.classes,a=e.availableReport;var n=null,r=null;return Ls(a)&&(a.start&&(n=o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(ll,{className:t.textField,field:"Start Date",value:a.start}))),a.duration&&(r=o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(ll,{className:t.textField,field:"Duration",value:a.duration})))),o.a.createElement("div",null,o.a.createElement(Ct.a,null,o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(ll,{className:t.textField,field:"Ei Report ID",value:a.reportId})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(ll,{className:t.textField,field:"Report Name",value:a.reportName})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(ll,{className:t.textField,field:"Report Specifier ID",value:a.reportSpecifierId})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(ll,{className:t.textField,field:"Created Datetime",value:a.createdDatetime}))),Ls(a)?o.a.createElement(Ct.a,{container:!0,spacing:24},n,r):null))}function cl(e){const t=e.classes,a=e.availableReport;var n=null,r=null,i=null,s=null;if(Ls(a)){var l=e.hasError&&null==e.start,c=e.hasError&&null==e.duration;n=o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(cs,{error:l,classes:t,field:"Start Date",value:e.start,onChange:e.onStartChange})),r=o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(ms,{error:c,classes:t,field:"Duration (minutes)",value:e.duration,onChange:e.onDurationChange}))}if(Us(a)){var m=e.hasError&&null==e.granularity,p=e.hasError&&null==e.reportBackDuration;i=o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(ms,{error:m,classes:t,field:"Granularity Duration (minutes)",value:e.granularity,onChange:e.onGranularityChange})),s=o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(ms,{error:p,classes:t,field:"Report Back Duration (minutes)",value:e.reportBackDuration,onChange:e.onReportBackDurationChange}))}return o.a.createElement("div",null,o.a.createElement(Ct.a,null,Us(a)?o.a.createElement(Ct.a,{container:!0,spacing:24},i,s):null,Ls(a)?o.a.createElement(Ct.a,{container:!0,spacing:24},n,r):null))}var ml=a(434),pl=a.n(ml);let ul=e=>{const t=e.numSelected,a=e.availableReport,n=e.classes,r=e.handeCreateRequestClick;return o.a.createElement(Fn.a,{className:Nr()(n.root,{[n.highlight]:t>0})},o.a.createElement("div",{className:n.title},t>0?o.a.createElement(ue.a,{color:"primary",variant:"subtitle1"},t," selected"):o.a.createElement(ue.a,{variant:"h6",id:"tableTitle"},"Select Report Descriptions")),o.a.createElement("div",{className:n.spacer}),o.a.createElement("div",{className:n.actions},t>0?o.a.createElement(pl.a,{title:"Request selected report description"},o.a.createElement(Te.a,{variant:"outlined",color:"primary","aria-label":"Add",className:n.margin,onClick:r},o.a.createElement(Ni.a,{className:n.margin}),"METADATA_TELEMETRY_USAGE"===a.reportName?"Subscribe":"Request")):null))};ul=Object(se.withStyles)(e=>({root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Mi.lighten)(e.palette.primary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},margin:{marginRight:"10px"}}))(ul);class dl extends o.a.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.classes,a=e.availableReportDescription,n=e.availableReport;return o.a.createElement("div",null,o.a.createElement(Me.a,{className:t.root},o.a.createElement(ul,{handeCreateRequestClick:this.props.handeCreateRequestClick,availableReport:n,numSelected:this.props.selected.length}),o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{padding:"checkbox"},o.a.createElement(xe.a,{color:"primary",indeterminate:this.props.selected.length>0&&this.props.selected.length<a.length,checked:this.props.selected.length===a.length,onChange:this.props.handleSelectAllClick})),o.a.createElement(Mn.a,{align:"right"},"rID"),o.a.createElement(Mn.a,{align:"right"},"ReportType"),o.a.createElement(Mn.a,{align:"right"},"ReadingType"),o.a.createElement(Mn.a,{align:"right"},"OadrMinPeriod"),o.a.createElement(Mn.a,{align:"right"},"OadrMaxPeriod"),o.a.createElement(Mn.a,{align:"right"},"OadrOnchange"))),o.a.createElement(In.a,null,a.map(e=>{const t=this.props.isSelected(e.rid);return o.a.createElement(Bn.a,{key:e.id,hover:!0,onClick:t=>this.props.handleClick(t,e.rid),role:"checkbox","aria-checked":t,tabIndex:-1,selected:t},o.a.createElement(Mn.a,{padding:"checkbox"},o.a.createElement(xe.a,{checked:t,color:"primary"})),o.a.createElement(Mn.a,{align:"right"},e.rid),o.a.createElement(Mn.a,{align:"right"},e.reportType),o.a.createElement(Mn.a,{align:"right"},e.readingType),o.a.createElement(Mn.a,{align:"right"},e.oadrMinPeriod),o.a.createElement(Mn.a,{align:"right"},e.oadrMaxPeriod),o.a.createElement(Mn.a,{align:"right"},e.oadrOnChange?"True":"False"))})))))}}class hl extends o.a.Component{constructor(e){super(e),this.onStartChange=e=>{this.setState({start:e})},this.onDurationChange=e=>this.setState({duration:e}),this.onGranularityChange=e=>{this.setState({granularity:e})},this.onReportBackDurationChange=e=>this.setState({reportBackDuration:e}),this.handleSelectAllClick=e=>{e.target.checked?this.setState(e=>({selected:this.props.availableReportDescription.map(e=>e.rid)})):this.setState({selected:[]})},this.isSelected=e=>-1!==this.state.selected.indexOf(e),this.handeCreateRequestClick=()=>{var e=this.state.start,t=null;null!=e&&((t=new Date).setTime(e+60*this.state.duration*1e3),t=t.getTime());var a=null,n=null;this.state.granularity&&(a=jt(this.state.granularity)),this.state.reportBackDuration&&(n=jt(this.state.reportBackDuration));var r=null;this.state.selected.length<this.props.availableReportDescription.length&&(r=this.state.selected),Ls(this.props.availableReport)&&null!=e&&null!=t?this.props.createRequestedReport(this.props.venId,this.props.reportSpecifierId,e,t,r):Us(this.props.availableReport)&&null!=a&&null!=n?this.props.createRequestedReportSubscription(this.props.venId,this.props.reportSpecifierId,a,n,r):ws(this.props.availableReport)?this.props.createRequestedReport(this.props.venId,this.props.reportSpecifierId,null,null,r):this.setState({hasError:!0})},this.handleClick=(e,t)=>{const a=this.state.selected,n=a.indexOf(t);let r=[];-1===n?r=r.concat(a,t):0===n?r=r.concat(a.slice(1)):n===a.length-1?r=r.concat(a.slice(0,-1)):n>0&&(r=r.concat(a.slice(0,n),a.slice(n+1))),this.setState({selected:r})},this.state={start:null,duration:null,granularity:null,reportBackDuration:null,selected:[],hasError:!1}}componentWillReceiveProps(e){console.log(e.availableReport);var t={};null!=e.availableReport.start&&(t.start=e.availableReport.start),null!=e.availableReport.duration&&(console.log(e.availableReport.duration,zt(e.availableReport.duration)),t.duration=zt(e.availableReport.duration)/60),this.setState(t)}render(){const e=this.props,t=e.classes,a=e.availableReportDescription,n=e.availableReport,r=e.venId,i=e.reportSpecifierId;return o.a.createElement("div",{className:t.root},o.a.createElement(ol,{availableReport:n,classes:t}),o.a.createElement(he.a,{style:{marginBottom:"30px",marginTop:"20px"}}),ws(this.props.availableReport)?null:o.a.createElement("div",null,o.a.createElement(cl,{availableReport:n,classes:t,start:this.state.start,duration:this.state.duration,granularity:this.state.granularity,reportBackDuration:this.state.reportBackDuration,onStartChange:this.onStartChange,onDurationChange:this.onDurationChange,onGranularityChange:this.onGranularityChange,onReportBackDurationChange:this.onReportBackDurationChange,hasError:this.state.hasError}),o.a.createElement(he.a,{style:{marginBottom:"30px",marginTop:"20px"}})),o.a.createElement(dl,{availableReport:n,availableReportDescription:a,handleSelectAllClick:this.handleSelectAllClick,handleClick:this.handleClick,isSelected:this.isSelected,handeCreateRequestClick:this.handeCreateRequestClick,selected:this.state.selected,venId:r,reportSpecifierId:i,classes:t}))}}var El=hl;function gl(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class vl extends o.a.Component{constructor(...e){super(...e),this.state={value:0},this.handleChange=(e,t)=>{this.setState({value:t})}}componentDidMount(){this.props.venActions.loadVenAvailableReport(this.props.match.params.username,this.props.match.params.reportSpecifierId),this.props.venActions.loadVenAvailableReportDescription(this.props.match.params.username,this.props.match.params.reportSpecifierId)}render(){const e=this.props,t=e.classes,a=e.ven_detail_create_report,n=this.state.value;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"VEN Report Create"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(gl,null,o.a.createElement(El,{classes:t,availableReportDescription:a.availableReportDescription,availableReport:a.availableReport,createRequestedReport:this.props.venActions.createRequestedReport,createRequestedReportSubscription:this.props.venActions.createRequestedReportSubscription,venId:this.props.match.params.username,reportSpecifierId:this.props.match.params.reportSpecifierId})))}}var fl=Object(g.connect)((function(e){return{ven_detail_create_report:e.ven_detail_create_report}}),(function(e){return{venActions:Object(v.b)(i,e),vtnConfigurationActions:Object(v.b)(r,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit,minWidth:500},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},success:{backgroundColor:ri.a[600]},iconButton:{marginTop:10}}))(vl)),Cl=e=>{const t=e.classes,a=e.availableReportDescription;return o.a.createElement(Me.a,{className:t.root},o.a.createElement(Fn.a,{className:t.root},o.a.createElement("div",{className:t.title},o.a.createElement(ue.a,{variant:"h6",id:"tableTitle"},"Report Descriptions")),o.a.createElement("div",{className:t.spacer}),o.a.createElement("div",{className:t.actions})),o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{align:"right"},"rID"),o.a.createElement(Mn.a,{align:"right"},"ReportType"),o.a.createElement(Mn.a,{align:"right"},"ReadingType"),o.a.createElement(Mn.a,{align:"right"},"OadrMinPeriod"),o.a.createElement(Mn.a,{align:"right"},"OadrMaxPeriod"),o.a.createElement(Mn.a,{align:"right"},"OadrOnchange"))),o.a.createElement(In.a,null,a.map(e=>o.a.createElement(Bn.a,{key:e.id},o.a.createElement(Mn.a,{align:"right"},e.rid),o.a.createElement(Mn.a,{align:"right"},e.reportType),o.a.createElement(Mn.a,{align:"right"},e.readingType),o.a.createElement(Mn.a,{align:"right"},e.oadrMinPeriod),o.a.createElement(Mn.a,{align:"right"},e.oadrMaxPeriod),o.a.createElement(Mn.a,{align:"right"},e.oadrOnChange?"True":"False"))))))};class Tl extends o.a.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.classes,a=e.availableReportDescription,n=e.availableReport;return o.a.createElement("div",{className:t.root},o.a.createElement(ol,{availableReport:n,classes:t}),o.a.createElement(he.a,{style:{marginBottom:"30px",marginTop:"20px"}}),o.a.createElement(Cl,{availableReportDescription:a,classes:t}))}}var Sl=Tl;function Rl(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class bl extends o.a.Component{constructor(...e){super(...e),this.state={value:0},this.handleChange=(e,t)=>{this.setState({value:t})}}componentDidMount(){this.props.venActions.loadVenAvailableReport(this.props.match.params.username,this.props.match.params.reportSpecifierId),this.props.venActions.loadVenAvailableReportDescription(this.props.match.params.username,this.props.match.params.reportSpecifierId)}render(){const e=this.props,t=e.classes,a=e.ven_detail_report,n=this.state.value;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"VEN Report"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(Rl,null,o.a.createElement(Sl,{classes:t,availableReportDescription:a.availableReportDescription,availableReport:a.availableReport})))}}var yl=Object(g.connect)((function(e){return{ven_detail_report:e.ven_detail_report}}),(function(e){return{venActions:Object(v.b)(i,e),vtnConfigurationActions:Object(v.b)(r,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit,minWidth:500},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},success:{backgroundColor:ri.a[600]},iconButton:{marginTop:10}}))(bl));class Al extends o.a.Component{constructor(e){super(e),this.state={}}render(){const e=this.props,t=e.classes,a=e.requestedReportSpecifier;return o.a.createElement("div",{className:t.root},o.a.createElement(Me.a,{className:t.root},o.a.createElement(Fn.a,{className:t.root},o.a.createElement("div",{className:t.title},o.a.createElement(ue.a,{variant:"h6",id:"tableTitle"},"Report Requests")),o.a.createElement("div",{className:t.spacer}),o.a.createElement("div",{className:t.actions})),o.a.createElement(Pn.a,{className:t.table},o.a.createElement(Un.a,null,o.a.createElement(Bn.a,null,o.a.createElement(Mn.a,{align:"right"},"rID"),o.a.createElement(Mn.a,{align:"right"},"Archived"),o.a.createElement(Mn.a,{align:"right"},"Last Update",o.a.createElement("br",null),"Date/Time"),o.a.createElement(Mn.a,{align:"right"},"Last Update",o.a.createElement("br",null),"Value"))),o.a.createElement(In.a,null,a.map(e=>o.a.createElement(Bn.a,{key:e.id},o.a.createElement(Mn.a,{align:"right"},e.rid),o.a.createElement(Mn.a,{align:"right"},e.archived?"Archived":""),o.a.createElement(Mn.a,{align:"right"},null!=e.lastUpdateDatetime?(e=>{var t=Yt(e);return o.a.createElement("span",null,t.date,o.a.createElement("br",null),t.time," ",t.tz)})(e.lastUpdateDatetime):null," "),o.a.createElement(Mn.a,{align:"right"},null!=e.lastUpdateValue?e.lastUpdateValue:null," ")))))))}}var _l=Al;function Nl(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class xl extends o.a.Component{constructor(...e){super(...e),this.state={value:0},this.handleChange=(e,t)=>{this.setState({value:t})}}componentDidMount(){this.props.venActions.loadVenAvailableReport(this.props.match.params.username,this.props.match.params.reportSpecifierId),this.props.venActions.loadVenRequestedReport(this.props.match.params.username,this.props.match.params.reportRequestId),this.props.venActions.loadVenRequestedReportSpecifier(this.props.match.params.username,this.props.match.params.reportRequestId)}render(){const e=this.props,t=e.classes,a=e.ven_detail_report_request,n=this.state.value;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"VEN Report"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(Nl,null,o.a.createElement(_l,{classes:t,requestedReport:a.requestedReport,requestedReportSpecifier:a.requestedReportSpecifier,availableReport:a.availableReport})))}}var kl=Object(g.connect)((function(e){return{ven_detail_report_request:e.ven_detail_report_request}}),(function(e){return{venActions:Object(v.b)(i,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit,minWidth:500},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},success:{backgroundColor:ri.a[600]},iconButton:{marginTop:10}}))(xl));const Ol={boxSizing:"border-box",color:"rgba(0, 0, 0, 0.54)",fontSize:"1rem",fontWeight:400,lineHeight:1,transition:"color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms,transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms",transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left",top:0,left:0};class Dl extends o.a.Component{constructor(...e){super(...e),this.handleVenCommonNameChange=e=>{var t=this.props.identification;t.venCommonName=e.target.value,this.props.onChange(t)},this.handleVenOadrProfileChange=e=>{var t=this.props.identification;t.venOadrProfile=e.target.value,this.props.onChange(t)},this.handleNeedCertificateGenerationChange=e=>{var t=this.props.identification;t.needCertificateGeneration=e.target.value,this.props.onChange(t)}}render(){const e=this.props,t=e.classes,a=e.hasError,n=e.identification,r=e.vtnConfiguration;var i=[];for(var s in this.props.oadrProfiles){var l=this.props.oadrProfiles[s];i.push(o.a.createElement(cn.a,{key:s,value:s},l.label))}return o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(lr.a,{style:Ol,component:"label"},"VEN Profile"),o.a.createElement(vr.a,{autoWidth:!0,style:{marginTop:"0"},value:n.venOadrProfile,onChange:this.handleVenOadrProfileChange,inputProps:{name:"OpenADR Profile",id:"oadr_profile_select"}},i))),o.a.createElement(Ct.a,{item:!0,xs:4},o.a.createElement(ye.a,{className:t.formControl},o.a.createElement(et.a,{required:!0,id:"oadr_cn_textfield",fullWidth:!0,label:"VEN Common Name",placeholder:"myven.oadr.com",value:n.venCommonName,className:t.textField,error:a,onChange:this.handleVenCommonNameChange,InputLabelProps:{shrink:!0}}))),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(dr,{classes:t,identification:n,vtnConfiguration:r,onChange:this.props.onChange})),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(ir.a,{color:"disabled",style:{width:40,height:40}})),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(ue.a,{variant:"caption",gutterBottom:!0},"VEN MUST have a valid SSL certificate to securely communicate with VTN. VEN identifier (VenID) is a fingerprint of VEN certificate."),o.a.createElement(ue.a,{variant:"caption",gutterBottom:!0},"In case VEN certificate is not generated by VTN, user have to provide VenID corresponding to it's certificate fingerprint"),o.a.createElement(ue.a,{variant:"caption",gutterBottom:!0},"In case VEN certificate is generated by VTN, VenID will be computed after certificate generation. Ven Common Name is used as certificate CN subject entry Certificate will available for download at the confirmation of this form and only at that time. VTN can't re-generate certificate without re-creating a VEN.")),o.a.createElement(Ct.a,{item:!0,xs:2})))}}var Pl=Dl;class Vl extends o.a.Component{render(){const e=this.props,t=e.classes,a=e.identification,n=e.authentication;var r=e=>o.a.createElement(kr.a,{className:t.warning,style:{maxWidth:"none"},message:o.a.createElement("span",{id:"client-snackbar",className:t.message},o.a.createElement(Dr.a,{style:{width:40,height:40,marginRight:60},className:Nr()(t.icon,t.iconVariant)})," ",e.message)}),i=n.authenticationVenId,s=null,l=null,c=null;return"no"!==a.needCertificateGeneration?(c=o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3}),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(r,{message:o.a.createElement(ue.a,{gutterBottom:!0,style:{color:"white"}},o.a.createElement("strong",null,"Authentication using login / password is required.",o.a.createElement("br",null)," VenID is used as VEN login"))})),o.a.createElement(Ct.a,{item:!0,xs:3})),i="<generated>",l=o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3}),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(r,{message:o.a.createElement(ue.a,{gutterBottom:!0,style:{color:"white"}},o.a.createElement("strong",null,"Certificate will be generated for this VEN and can only be downloaded at the end of this form.",o.a.createElement("br",null)," Certificate can't be regenerated without re-creating the VEN."))})),o.a.createElement(Ct.a,{item:!0,xs:3}))):(c=o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3}),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(r,{message:o.a.createElement(ue.a,{gutterBottom:!0,style:{color:"white"}},o.a.createElement("strong",null,"Authentication using x509 client certificate is required.",o.a.createElement("br",null)))})),o.a.createElement(Ct.a,{item:!0,xs:3})),s=o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:3}),o.a.createElement(Ct.a,{item:!0,xs:6},o.a.createElement(r,{message:o.a.createElement(ue.a,{gutterBottom:!0,style:{color:"white"}},o.a.createElement("strong",null,"Certificate won't be generated for this VEN.",o.a.createElement("br",null)," Provided venId MUST match with VEN certificate fingerprint"))})),o.a.createElement(Ct.a,{item:!0,xs:3}))),o.a.createElement("div",null,o.a.createElement(Ct.a,{container:!0,spacing:8,justify:"center"},o.a.createElement(Ct.a,{container:!0,spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(et.a,{label:"Profile",value:a.venOadrProfile,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:1},o.a.createElement(et.a,{label:"Authentication",value:n.authenticationType,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(et.a,{label:"Common Name",value:a.venCommonName,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:3},o.a.createElement(et.a,{label:"VenID",value:i,className:t.textField,margin:"dense",variant:"outlined",InputProps:{readOnly:!0},fullWidth:!0})),o.a.createElement(Ct.a,{item:!0,xs:2})),o.a.createElement(Ct.a,{container:!0,style:{marginTop:20,marginBottom:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),c,o.a.createElement(Ct.a,{container:!0,style:{marginTop:20,marginBottom:20},spacing:24},o.a.createElement(Ct.a,{item:!0,xs:2}),o.a.createElement(Ct.a,{item:!0,xs:8},o.a.createElement(he.a,null)),o.a.createElement(Ct.a,{item:!0,xs:2})),s,l))}}var Il=Vl;const wl={"20b":{label:"Oadr 2.0b"},"20a":{label:"Oadr 2.0a"}},Ml={x509:{label:"Client certificate authentication"},login:{label:"Login / Password authentication"}};class Ll extends o.a.Component{constructor(e){super(e),this.handleFinish=()=>{this.handleCreateVen()},this.handleNext=()=>{const e=this.state.activeStep;e===["Identification settings","Authentication settings","Confirmation"].length-1?this.handleFinish():this.setState({activeStep:e+1})},this.handleBack=()=>{this.setState(e=>({activeStep:e.activeStep-1}))},this.handleReset=()=>{this.setState({activeStep:0})},this.handleIndentificationStepChange=e=>{this.setState({identification:e})},this.handleAuthenticationStepChange=e=>{this.setState({authentication:e})},this.handleAuthenticationTypeChange=e=>{this.setState({authenticationType:e.target.value})},this.handleAuthenticationVenIdChange=e=>{this.setState({authenticationVenId:e.target.value})},this.handleAuthenticationPasswordChange=e=>{this.setState({authenticationPassword:e.target.value})},this.handleAuthenticationPasswordConfirmChange=e=>{this.setState({authenticationPasswordConfirm:e.target.value})},this.handleCreateVen=()=>{const e=this.state,t=e.identification,a=e.authentication;var n={commonName:t.venCommonName,needCertificateGeneration:t.needCertificateGeneration,oadrProfil:t.venOadrProfile,authenticationType:a.authenticationType,username:a.authenticationVenId};"login"===a.authenticationType&&(n.password=a.authenticationPassword),this.props.createVen(n)},this.state={activeStep:0,identification:{venCommonName:"oadr.avob.com",venOadrProfile:"20b",needCertificateGeneration:"rsa"},authentication:{authenticationTypes:Ml,authenticationType:"x509",authenticationPassword:"",authenticationPasswordConfirm:"",authenticationVenId:""}}}render(){const e=this.props,t=e.classes,a=e.vtnConfiguration,n=["Identification settings","Authentication settings","Confirmation"],r=this.state.activeStep;var i,s=this;return o.a.createElement("div",{className:t.root},o.a.createElement($n.a,{activeStep:r,className:t.stepper},n.map((e,t)=>{const a={},n={};return a.completed=!1,o.a.createElement(tr.a,Object.assign({key:e},a),o.a.createElement(nr.a,n,e))})),o.a.createElement("div",null,r===n.length?o.a.createElement("div",null,o.a.createElement(ue.a,{className:t.instructions},"All steps completed - you're finished"),o.a.createElement(Te.a,{onClick:this.handleReset,className:t.button},"Reset")):o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(Te.a,{disabled:0===r,onClick:this.handleBack,className:t.button},"Back"),o.a.createElement(Te.a,{variant:"contained",color:"primary",onClick:(i=r,e=>{!function(e){switch(e){case 0:return""!==s.state.venCommonName;case 1:var t="no"!==s.state.needCertificateGeneration||"no"===s.state.needCertificateGeneration&&""!==s.state.authenticationVenId,a="login"!==s.state.authenticationType||""!==s.state.authenticationPassword&&""!==s.state.authenticationPasswordConfirm&&s.state.authenticationPassword===s.state.authenticationPasswordConfirm;return t&&a;case 2:return!0;default:return!1}}(i)?s.setState({hasError:!0}):(s.state.hasError&&s.setState({hasError:!1}),s.handleNext(e))}),className:t.button},r===n.length-1?"Create Ven":"Next")),o.a.createElement(ue.a,{component:"div",className:t.instructions},o.a.createElement(Me.a,{elevation:1,style:{padding:"20px 0px"}},function(e){switch(e){case 0:return o.a.createElement(Pl,{classes:t,hasError:s.state.hasError,oadrProfiles:wl,identification:s.state.identification,onChange:s.handleIndentificationStepChange,vtnConfiguration:a});case 1:return o.a.createElement(Tr,{classes:t,authentication:s.state.authentication,identification:s.state.identification,onChange:s.handleAuthenticationStepChange});case 2:return o.a.createElement(Il,{classes:t,authentication:s.state.authentication,identification:s.state.identification});default:return"Unknown step"}}(r))))))}}var Ul=Ll;function Gl(e){return o.a.createElement(ue.a,{component:"div",style:{padding:24}},e.children)}class Bl extends o.a.Component{constructor(...e){super(...e),this.state={value:0},this.handleChange=(e,t)=>{this.setState({value:t})}}componentDidMount(){this.props.vtnConfigurationActions.loadVtnConfiguration()}render(){const e=this.props,t=e.classes,a=e.ven_create,n=this.state.value;return o.a.createElement("div",{className:t.root},o.a.createElement(oe.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},o.a.createElement(me.a,{label:"VEN Create"})),o.a.createElement(he.a,{variant:"middle"}),0===n&&o.a.createElement(Gl,null,o.a.createElement(Ul,{classes:t,vtnConfiguration:a.parameters,createVen:this.props.venActions.createVen})))}}var ql=Object(g.connect)((function(e){return{ven_create:e.ven_create}}),(function(e){return{vtnConfigurationActions:Object(v.b)(r,e),venActions:Object(v.b)(i,e)}}))(Object(se.withStyles)(e=>({root:{flexGrow:1},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:19},menu:{width:200},formControl:{margin:e.spacing.unit},card:{maxWidth:350,minWidth:350},media:{height:40,paddingTop:10,paddingRight:10},button:{margin:e.spacing.unit},stepper:{backgroundColor:"#fafafa"},warning:{backgroundColor:ge.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex"},iconButton:{marginTop:10}}))(Bl)),Fl=a(438),Wl=a.n(Fl),zl=a(442),jl=a.n(zl),Kl=a(439),Hl=a.n(Kl),Yl=a(440),Xl=a.n(Yl),Ql=a(441),Jl=a.n(Ql),Zl=a(443),$l=a.n(Zl),eo=a(979),to=a(176),ao=a.n(to),no=a(436),ro=a.n(no),io=a(437),so=a.n(io);class lo extends o.a.Component{render(){var e=this.props.user.user;const t=e&&e.roles&&(e.roles.includes("ROLE_DRPROGRAM")||e.roles.includes("ROLE_ADMIN")||e.roles.includes("ROLE_ANONYMOUS")),a=e&&e.roles&&(e.roles.includes("ROLE_DEVICE_MANAGER")||e.roles.includes("ROLE_ADMIN")||e.roles.includes("ROLE_ANONYMOUS")),n=e&&e.roles&&e.roles.includes("ROLE_ADMIN"),r=e&&e.roles&&e.roles.includes("ROLE_ADMIN");return o.a.createElement("div",null,t?o.a.createElement(Ya.a,{button:!0,component:eo.a,to:"/event"},o.a.createElement(ao.a,null,o.a.createElement(qt.a,null)),o.a.createElement(Za.a,{primary:"Events"})):null,a?o.a.createElement(Ya.a,{button:!0,component:eo.a,to:"/ven"},o.a.createElement(ao.a,null,o.a.createElement(Gt.a,null)),o.a.createElement(Za.a,{primary:"VENs"})):null,n?o.a.createElement(Ya.a,{button:!0,component:eo.a,to:"/vtn_configuration"},o.a.createElement(ao.a,null,o.a.createElement(ro.a,null)),o.a.createElement(Za.a,{primary:"VTN Config"})):null,r?o.a.createElement(Ya.a,{button:!0,component:eo.a,to:"/account"},o.a.createElement(ao.a,null,o.a.createElement(so.a,null)),o.a.createElement(Za.a,{primary:"Accounts"})):null)}}var oo=Object(g.connect)((function(e){return{user:e.user}}),(function(e){return{}}))(lo);function co(e){let t=e.component,a=Object(p.a)(e,["component"]);return o.a.createElement(d.a,Object.assign({},a,{render:e=>j.isConnected?o.a.createElement(t,e):o.a.createElement(h.a,{to:{pathname:"/login",state:{from:e.location}}})}))}class mo extends o.a.Component{constructor(e){super(e),this.handleDrawerOpen=()=>{this.setState({open:!0})},this.handleDrawerClose=()=>{this.setState({open:!1})},this.handleProfileMenuOpen=e=>{this.setState({anchorEl:e.currentTarget})},this.handleMenuClose=()=>{this.setState({anchorEl:null})},this.handleSignOut=()=>{this.handleMenuClose(),j.username=null,j.password=null,j.user=null,j.isConnected=!1,j.isConnectionPending=!1,W.push("/login")},this.state={open:!0,anchorEl:null,config:null}}render(){const e=this.props.classes,t=this.state.anchorEl,a=Boolean(t),n=o.a.createElement(Wl.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:this.handleMenuClose},o.a.createElement(cn.a,{key:"menu_items_profile",onClick:this.handleMenuClose},"Profile"),o.a.createElement(cn.a,{key:"menu_items_myaccount",onClick:this.handleMenuClose},"My account"),j.user&&j.user.roles.map(e=>o.a.createElement(cn.a,{key:"menu_items"+e},e)),o.a.createElement(cn.a,{key:"menu_items_signout",onClick:this.handleSignOut},"Sign Out"));return o.a.createElement("div",{className:e.root},o.a.createElement(Re.a,null),o.a.createElement(Hl.a,{position:"absolute",className:Nr()(e.appBar,this.state.open&&e.appBarShift)},o.a.createElement(Fn.a,{disableGutters:!this.state.open,className:e.toolbar},o.a.createElement(Dt.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:Nr()(e.menuButton,this.state.open&&e.menuButtonHidden)},o.a.createElement(Xl.a,null)),o.a.createElement(ue.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"VTN Control"),o.a.createElement(Dt.a,{"aria-owns":a?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleProfileMenuOpen,color:"inherit"},o.a.createElement(Jl.a,null)))),n,o.a.createElement(jl.a,{variant:"permanent",classes:{paper:Nr()(e.drawerPaper,!this.state.open&&e.drawerPaperClose)},open:this.state.open},o.a.createElement("div",{className:e.toolbarIcon},o.a.createElement(Dt.a,{onClick:this.handleDrawerClose},o.a.createElement($l.a,null))),o.a.createElement(he.a,null),o.a.createElement(Ka.a,null,o.a.createElement(oo,{classes:e})),o.a.createElement(he.a,null),o.a.createElement(Ka.a,null)),o.a.createElement("main",{className:e.content},o.a.createElement("div",{className:e.appBarSpacer}),null==j.connectionError?o.a.createElement(E.a,{basename:"/testvtn"},o.a.createElement(co,{exact:!0,path:"/",component:Fe}),o.a.createElement(d.a,{path:"/login",component:Ge}),o.a.createElement(d.a,{path:"/about",component:qe}),o.a.createElement(co,{path:"/account/app/create",component:Hr}),o.a.createElement(co,{path:"/account/user/create",component:Gr}),o.a.createElement(co,{path:"/account/:panel(user|app)",component:Jn}),o.a.createElement(co,{path:"/account",component:Jn}),"AccountAppCreatePage",o.a.createElement(co,{path:"/vtn_configuration/:panel(marketcontext|group|parameter)",component:sa}),o.a.createElement(co,{path:"/vtn_configuration",component:sa}),o.a.createElement(co,{path:"/ven/detail/:username/reports/:reportSpecifierId/requests/:reportRequestId",component:kl}),o.a.createElement(co,{path:"/ven/detail/:username/reports/:reportSpecifierId/create",component:fl}),o.a.createElement(co,{path:"/ven/detail/:username/reports/:reportSpecifierId",component:yl}),o.a.createElement(co,{path:"/ven/detail/:username/:panel(settings|reports|optschedules)",component:sl}),o.a.createElement(co,{path:"/ven/detail/:username",component:sl}),o.a.createElement(co,{path:"/ven/create",component:ql}),o.a.createElement(co,{path:"/ven",component:On}),o.a.createElement(co,{path:"/event/detail/:id/:panel(descriptor|activeperiod|signal|target|venresponse)",component:ns}),o.a.createElement(co,{path:"/event/detail/:id",component:ns}),o.a.createElement(co,{path:"/event/create",component:As}),o.a.createElement(co,{path:"/event/:panel(list|calendar)",component:Ai}),o.a.createElement(co,{path:"/event",component:Ai}),o.a.createElement(d.a,{component:We})):null,null!=j.connectionError?o.a.createElement("div",null,console.log(j.connectionError)):null))}}var po=Object(se.withStyles)(e=>({root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit,[e.breakpoints.up("sm")]:{width:9*e.spacing.unit}},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{height:320},h5:{marginBottom:2*e.spacing.unit}}))(mo);const uo=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ho(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}const Eo=H();class go extends o.a.Component{render(){const e=this.props,t=e.store,a=e.history;return o.a.createElement(g.Provider,{store:t},o.a.createElement(S.ConnectedRouter,{history:a},o.a.createElement(po,null)))}}m.a.render(o.a.createElement(go,{store:Eo,history:W}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/testvtn",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="".concat("/testvtn","/service-worker.js");uo?(!function(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):ho(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ho(e)})}}()}},[[445,1,2]]]);
//# sourceMappingURL=main.b93d0174.chunk.js.map